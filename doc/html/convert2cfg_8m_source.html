<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>qstem: GUI_Matlab/convert2cfg.m Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">qstem
   </div>
   <div id="projectbrief">multislice simulation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('convert2cfg_8m_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">convert2cfg.m</div>  </div>
</div><!--header-->
<div class="contents">
<a href="convert2cfg_8m.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="keyword">function</span> <a class="code" href="convert2cfg_8m.html#adb3fce483c086cdfed46db6894e052fd">convert2cfg</a>()               % <a class="code" href="convert2cfg_8m.html#a1a3091fb7347c8f640f7b03687dadd44">filename</a> without extension</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div>
<div class="line"><a name="l00003"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#aea8eee85d5cbb354554d5625d1bbc2ad">    3</a></span>&#160;[full_filename, pathname] = <a class="code" href="image_sim_8m.html#acf66413b59082c95cc095f3e1373f608">uigetfile</a>({<span class="stringliteral">&#39;*.xtl&#39;</span>;<span class="stringliteral">&#39;*.xyz&#39;</span>}, <span class="stringliteral">&#39;Pick a .xyz or .xtl file&#39;</span>);</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="keywordflow">if</span> <a class="code" href="convert2cfg_8m.html#a801d4e56dc468c6e1087515b8363c3db">isequal</a>(full_filename,0) || <a class="code" href="convert2cfg_8m.html#a801d4e56dc468c6e1087515b8363c3db">isequal</a>(<a class="code" href="convert2cfg_8m.html#aea8eee85d5cbb354554d5625d1bbc2ad">pathname</a>,0)</div>
<div class="line"><a name="l00005"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#a9717e7bbecb906637e86cef6da3d83c2">    5</a></span>&#160;    <a class="code" href="convert2cfg_8m.html#a9717e7bbecb906637e86cef6da3d83c2">return</a>;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<a class="code" href="convert2cfg_8m.html#a299397d854bef7eea9db8f6065ba6880">end</a></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div>
<div class="line"><a name="l00008"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#a299397d854bef7eea9db8f6065ba6880">    8</a></span>&#160;[pathstr, oldfilename, ext] = <a class="code" href="qmb_8m.html#a3f5148a2cb27e0bbf68da5bed91b82e0">fileparts</a>([<a class="code" href="convert2cfg_8m.html#aea8eee85d5cbb354554d5625d1bbc2ad">pathname</a>,full_filename]);</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div>
<div class="line"><a name="l00011"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#a1a3091fb7347c8f640f7b03687dadd44">   11</a></span>&#160;<a class="code" href="convert2cfg_8m.html#a1a3091fb7347c8f640f7b03687dadd44">filename</a>=fullfile(pathname,oldfilename);</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div>
<div class="line"><a name="l00013"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#af54b44244fe4a858a27959384ba826e7">   13</a></span>&#160;<a class="code" href="convert2cfg_8m.html#af54b44244fe4a858a27959384ba826e7">atomName</a> = [&#39;<a class="code" href="aberrations_8m.html#ad365b519e6265cb8d3e79c972dca3b66">H</a> &#39;,&#39;He&#39;,&#39;Li&#39;,&#39;Be&#39;,&#39;<a class="code" href="convert2cfg_8m.html#a422e4e22a48b9ea42c9dfe12b157229d">B</a> &#39;,&#39;<a class="code" href="fileio__fftw3_8cpp.html#ac4cf4b2ab929bd23951a8676eeac086b">C</a> &#39;,&#39;<a class="code" href="xyz2cfg_8m.html#a1576913944301b272a197d6e2931da94">N</a> &#39;,&#39;O &#39;,&#39;F &#39;,&#39;Ne&#39;,&#39;Na&#39;,&#39;Mg&#39;,&#39;Al&#39;,&#39;Si&#39;,&#39;P &#39;,&#39;S &#39;,&#39;Cl&#39;,...</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    &#39;Ar&#39;,&#39;K &#39;,&#39;Ca&#39;,&#39;Sc&#39;,&#39;Ti&#39;,&#39;V &#39;,&#39;Cr&#39;,&#39;Mn&#39;,&#39;Fe&#39;,&#39;Co&#39;,&#39;Ni&#39;,&#39;Cu&#39;,&#39;Zn&#39;,&#39;Ga&#39;,&#39;Ge&#39;,&#39;As&#39;,&#39;Se&#39;,&#39;Br&#39;,...</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    &#39;Kr&#39;,&#39;Rb&#39;,&#39;Sr&#39;,&#39;<a class="code" href="convert2cfg_8m.html#ae76081fb2cef09480162f3c1b69dfbb2">Y</a> &#39;,&#39;Zr&#39;,&#39;Nb&#39;,&#39;Mo&#39;,&#39;Tc&#39;,&#39;Ru&#39;,&#39;Rh&#39;,&#39;Pd&#39;,&#39;Ag&#39;,&#39;Cd&#39;,&#39;In&#39;,&#39;Sn&#39;,&#39;Sb&#39;,&#39;Te&#39;,...</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    &#39;I &#39;,&#39;Xe&#39;,&#39;<a class="code" href="image_sim_8m.html#a6e1ec50d40620688cd6376e335851fa5">Cs</a>&#39;,&#39;Ba&#39;,&#39;La&#39;,&#39;Ce&#39;,&#39;Pr&#39;,&#39;Nd&#39;,&#39;Pm&#39;,&#39;Sm&#39;,&#39;Eu&#39;,&#39;Gd&#39;,&#39;Tb&#39;,&#39;Dy&#39;,&#39;Ho&#39;,&#39;Er&#39;,&#39;Tm&#39;,...</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    &#39;Yb&#39;,&#39;Lu&#39;,&#39;Hf&#39;,&#39;Ta&#39;,&#39;W &#39;,&#39;Re&#39;,&#39;Os&#39;,&#39;Ir&#39;,&#39;Pt&#39;,&#39;Au&#39;,&#39;Hg&#39;,&#39;Tl&#39;,&#39;Pb&#39;,&#39;Bi&#39;,&#39;Po&#39;,&#39;At&#39;,&#39;Rn&#39;,...</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    &#39;Fr&#39;,&#39;Ra&#39;,&#39;Ac&#39;,&#39;Th&#39;,&#39;Pa&#39;,&#39;U &#39;,&#39;Np&#39;,&#39;Pu&#39;,&#39;Am&#39;,&#39;Cm&#39;,&#39;Bk&#39;,&#39;Cf&#39;,&#39;Es&#39;,&#39;Fm&#39;,&#39;Md&#39;,&#39;<a class="code" href="aberrations_8m.html#aa2fa5ea275f5d08a1f7ca407861c4be1">No</a>&#39;,&#39;Lr&#39;];</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<a class="code" href="convert2cfg_8m.html#a5a114b6d8185a4180659b5e181b9c7bf">if</a> (<a class="code" href="qmb_8m.html#acb0bf34e5a38d0484b1e3e24b8106f52">strcmp</a>(ext,&#39;.xyz&#39;) == 1)</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    %<a class="code" href="convert2cfg_8m.html#a739cface9f02228d027b700ba47386cc">z_shift</a> = input(&#39;Enter <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> the <a class="code" href="write_c_f_g_8m.html#ac16738663da61b835844f663e221d53c">shift</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="_displacement_params_8m.html#accc427d493facd9d795029ff42af0392">Z</a> direction: &#39;);</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    </div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    % written by Yaron Kauffmann - 01.11.08</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    % reads xyz files containing atomic <a class="code" href="convert2cfg_8m.html#a923d61728dac7c6dff07427a901c9ba9">positions</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> cartesian coordinates and converts to cfg format</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    % readable by:</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    %                       QSTEM (<a class="code" href="_read_d_m3___matlab_8m.html#a0e9c2d135a8f15e6539173a79e5c1532">http</a>:<span class="comment">//www.mf.mpg.de/en/organisation/hsm/koch/stem/index.html)</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    %                       and AtomEye (<a class="code" href="_read_d_m3___matlab_8m.html#a0e9c2d135a8f15e6539173a79e5c1532">http</a>:<span class="comment">//mt.seas.upenn.edu/Archive/Graphics/A/).</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    % the xyz <a class="code" href="qmb_8m.html#a0afda3603b043ac6b7362fdee225631e">file</a> format should be as follows:</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    % line 1 : the number of <a class="code" href="qmb_8m.html#a7c5cd0264da47e230ba8c984690fe16c">atoms</a> (<a class="code" href="convert2cfg_8m.html#a27dd74db90774bfbbd4ed72ae89229a6">natom</a>)</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    % line 2 : <a class="code" href="image_sim_8m.html#aea4cc4bd8e43a7f8ebf9b0ee3da8d681">comment</a> line (mustn&#39;<a class="code" href="binwrite2_d_8m.html#a6fbdf18a87d576fd409fa5a5718ea427">t</a> be empty)</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    % line 3 ... : <a class="code" href="qmb_8m.html#ad5a54bc5a2abedf790cf00f7c63f6235">atom</a> <a class="code" href="convert2cfg_8m.html#a2902a7a983ab04c79cae2162ad553481">type</a> and <a class="code" href="aberrations_8m.html#a84c455b54a16f1c540f6abcc5b858393">x</a> <a class="code" href="aberrations_8m.html#a0888783ccb240d8899f77cdcd85aa4b9">y</a> z <a class="code" href="convert2cfg_8m.html#a923d61728dac7c6dff07427a901c9ba9">positions</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> cartesian coordinates</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    % SORTCELL <a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> was downloaded from <a class="code" href="_read_d_m3___matlab_8m.html#a0e9c2d135a8f15e6539173a79e5c1532">http</a>:<span class="comment">//www.mathworks.de/matlabcentral/fileexchange/13770.</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    % <a class="code" href="qmb_8m.html#a4ccc18a0b93f562f455415ecee608339">writeCFG</a> <a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> was provided by Christoph Koch (developer of QSTEM).</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    </div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    </div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    %Read <a class="code" href="convert2cfg_8m.html#a7492468b961995f6fd82e216c751bb37">a</a> &quot;xyz&quot; <a class="code" href="qmb_8m.html#a0afda3603b043ac6b7362fdee225631e">file</a></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    </div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <a class="code" href="convert2cfg_8m.html#a7b9c3d619ad7365ec6434713e76142e8">fid</a> = fopen(strcat(<a class="code" href="convert2cfg_8m.html#a1a3091fb7347c8f640f7b03687dadd44">filename</a>,&#39;.xyz&#39;),&#39;<a class="code" href="draw_xtal_8m.html#aea0df6bd97b74a896449172868baa58b">r</a>&#39;);</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <a class="code" href="convert2cfg_8m.html#a5a114b6d8185a4180659b5e181b9c7bf">if</a> (<a class="code" href="convert2cfg_8m.html#a7b9c3d619ad7365ec6434713e76142e8">fid</a> &lt; 1)</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        <a class="code" href="qmb_8m.html#a0c0ef75e700415c282f9c5ba379897f3">errordlg</a>(<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;Could not <a class="code" href="_read_d_m3___matlab_8m.html#aa8ef7bba54ee37a8beab56f5091c552f">open</a> <a class="code" href="qmb_8m.html#a0afda3603b043ac6b7362fdee225631e">file</a> %<a class="code" href="aberrations___t_e_m_8m.html#aef29541a06b7f933d32a804307db13af">s</a>.xyz!&#39;,filename));</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        <a class="code" href="convert2cfg_8m.html#a9717e7bbecb906637e86cef6da3d83c2">return</a>;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <a class="code" href="convert2cfg_8m.html#a299397d854bef7eea9db8f6065ba6880">end</a></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#a5426bacb877a26d44d95d753f4927cf3">   46</a></span>&#160;    % <a class="code" href="convert2cfg_8m.html#a5426bacb877a26d44d95d753f4927cf3">natom_temp</a>=textscan(<a class="code" href="convert2cfg_8m.html#a7b9c3d619ad7365ec6434713e76142e8">fid</a>,&#39;%<a class="code" href="_read_d_m3___matlab_8m.html#a1aabac6d068eef6a7bad3fdf50a05cc8">d</a>&#39;,1)</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <a class="code" href="convert2cfg_8m.html#af30278de8dab4c8bc6e28657bdf50d14">buf</a> = fgets(fid);</div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#a27dd74db90774bfbbd4ed72ae89229a6">   48</a></span>&#160;    <a class="code" href="convert2cfg_8m.html#a27dd74db90774bfbbd4ed72ae89229a6">natom</a>=sscanf(<a class="code" href="convert2cfg_8m.html#af30278de8dab4c8bc6e28657bdf50d14">buf</a>,&#39;%d&#39;);</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    </div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#a87b6a234dfb7fd69a3d6035bee37ed71">   50</a></span>&#160;    % <a class="code" href="convert2cfg_8m.html#a87b6a234dfb7fd69a3d6035bee37ed71">commentline</a>=textscan(fid,&#39;%<a class="code" href="aberrations___t_e_m_8m.html#aef29541a06b7f933d32a804307db13af">s</a>&#39;,1,&#39;<a class="code" href="qstem_8m.html#aa69b855535fb9f147c5d81cf768d60ba">delimiter</a>&#39;,&#39;CR&#39;)</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <a class="code" href="convert2cfg_8m.html#a87b6a234dfb7fd69a3d6035bee37ed71">commentline</a>=fgets(fid);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <a class="code" href="convert2cfg_8m.html#a914b5878a579e7493e9475d9f37a5833">fprintf</a>(&#39;Comment: %s\n&#39;,<a class="code" href="convert2cfg_8m.html#a87b6a234dfb7fd69a3d6035bee37ed71">commentline</a>);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    </div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#abe1a4654a886b56b76d377ffc86f3dcc">   54</a></span>&#160;    for <a class="code" href="convert2cfg_8m.html#abe1a4654a886b56b76d377ffc86f3dcc">k1</a>=1:<a class="code" href="convert2cfg_8m.html#a27dd74db90774bfbbd4ed72ae89229a6">natom</a></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        % data(<a class="code" href="convert2cfg_8m.html#abe1a4654a886b56b76d377ffc86f3dcc">k1</a>,:)=fscanf(fid,&#39;%2<a class="code" href="convert2cfg_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a> %f32 %f32 %f32&#39;,1);</div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#af30278de8dab4c8bc6e28657bdf50d14">   56</a></span>&#160;        buf = fgets(fid);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <a class="code" href="convert2cfg_8m.html#a2902a7a983ab04c79cae2162ad553481">type</a>(k1,1:2) = buf(1:2);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        </div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a>(k1,1:3)=sscanf(buf(3:<a class="code" href="convert2cfg_8m.html#a299397d854bef7eea9db8f6065ba6880">end</a>),&#39; %<a class="code" href="namespacepython_1_1potential.html#af887b24c78c0630197f05f84f19de90c">f</a> %<a class="code" href="namespacepython_1_1potential.html#af887b24c78c0630197f05f84f19de90c">f</a> %<a class="code" href="namespacepython_1_1potential.html#af887b24c78c0630197f05f84f19de90c">f</a>&#39;);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    end</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <a class="code" href="convert2cfg_8m.html#a5f84f51058cdb4f43c29d2c875659f42">fclose</a>(fid);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;   </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    </div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#a7c0d4aa1bd1632355260db4db3a65d2d">   64</a></span>&#160;    % <a class="code" href="convert2cfg_8m.html#a7c0d4aa1bd1632355260db4db3a65d2d">b</a>=sortcell(data,1);       % sort the data according to <a class="code" href="qmb_8m.html#ad5a54bc5a2abedf790cf00f7c63f6235">atom</a> <a class="code" href="convert2cfg_8m.html#a2902a7a983ab04c79cae2162ad553481">type</a></div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#a0feca58bc91843177686656c1f828093">   65</a></span>&#160;    <a class="code" href="convert2cfg_8m.html#a0feca58bc91843177686656c1f828093">shiftVect</a> = -min([min(<a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a>); <a class="code" href="virtual_goniometer_8m.html#a658ea266fd3baee1bdd483b9117e9f54">zeros</a>(1,3)]);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    </div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#ad84e19307a43d3f799a4daeef0a6484a">   68</a></span>&#160;    <a class="code" href="convert2cfg_8m.html#ad84e19307a43d3f799a4daeef0a6484a">prompt</a>={<span class="stringliteral">&#39;Enter the shift vector as &quot;x y z&quot;: &#39;</span>};</div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#ab74e6bf80237ddc4109968cedc58c151">   69</a></span>&#160;    <a class="code" href="convert2cfg_8m.html#ab74e6bf80237ddc4109968cedc58c151">name</a>=<span class="stringliteral">&#39;Define coordinate offset&#39;</span>;</div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#af2f323caad11c790b60b05a6916887c3">   70</a></span>&#160;    <a class="code" href="convert2cfg_8m.html#af2f323caad11c790b60b05a6916887c3">numlines</a>=1;</div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#a75180f3a56b12e0ea7561b96f5583f33">   71</a></span>&#160;    <a class="code" href="convert2cfg_8m.html#a75180f3a56b12e0ea7561b96f5583f33">defaultanswer</a>={<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(<span class="stringliteral">&#39;%.3f   %.3f   %.3f&#39;</span>,<a class="code" href="convert2cfg_8m.html#a0feca58bc91843177686656c1f828093">shiftVect</a>)};</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    </div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    %creates the dialog <a class="code" href="read_c_f_g__qstem_8m.html#a552eedb796e4ec274fe617b434bf69b2">box</a>. the user input is stored into <a class="code" href="convert2cfg_8m.html#a7492468b961995f6fd82e216c751bb37">a</a> <a class="code" href="_read_d_m3___matlab_8m.html#a788f12e84a4147fbec966d469221fb80">cell</a> <a class="code" href="convert2cfg_8m.html#a7cec22fd326288e5df0dadf886d5d919">array</a></div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#a739cface9f02228d027b700ba47386cc">   74</a></span>&#160;    <a class="code" href="convert2cfg_8m.html#a739cface9f02228d027b700ba47386cc">z_shift</a>=inputdlg(<a class="code" href="convert2cfg_8m.html#ad84e19307a43d3f799a4daeef0a6484a">prompt</a>,<a class="code" href="convert2cfg_8m.html#ab74e6bf80237ddc4109968cedc58c151">name</a>,<a class="code" href="convert2cfg_8m.html#af2f323caad11c790b60b05a6916887c3">numlines</a>,<a class="code" href="convert2cfg_8m.html#a75180f3a56b12e0ea7561b96f5583f33">defaultanswer</a>);</div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#a3a352c2235a269bac37d1a34a19cde48">   75</a></span>&#160;    <a class="code" href="convert2cfg_8m.html#a3a352c2235a269bac37d1a34a19cde48">sv</a> = sscanf(<a class="code" href="convert2cfg_8m.html#a739cface9f02228d027b700ba47386cc">z_shift</a>{1},<span class="stringliteral">&#39;%f %f %f&#39;</span>);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordflow">if</span> <a class="code" href="convert2cfg_8m.html#add57aad399f787c409167e1b6d30ea8a">~isempty</a>(<a class="code" href="convert2cfg_8m.html#a3a352c2235a269bac37d1a34a19cde48">sv</a>), <a class="code" href="convert2cfg_8m.html#a0feca58bc91843177686656c1f828093">shiftVect</a>(1) = <a class="code" href="convert2cfg_8m.html#a3a352c2235a269bac37d1a34a19cde48">sv</a>(1); <a class="code" href="convert2cfg_8m.html#a299397d854bef7eea9db8f6065ba6880">end</a></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordflow">if</span> <a class="code" href="convert2cfg_8m.html#aabbdf768a12d7ff279a05a15db19fa61">length</a>(<a class="code" href="convert2cfg_8m.html#a3a352c2235a269bac37d1a34a19cde48">sv</a>) &gt; 1, <a class="code" href="convert2cfg_8m.html#a0feca58bc91843177686656c1f828093">shiftVect</a>(2) = <a class="code" href="convert2cfg_8m.html#a3a352c2235a269bac37d1a34a19cde48">sv</a>(2); <a class="code" href="convert2cfg_8m.html#a299397d854bef7eea9db8f6065ba6880">end</a></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordflow">if</span> <a class="code" href="convert2cfg_8m.html#aabbdf768a12d7ff279a05a15db19fa61">length</a>(<a class="code" href="convert2cfg_8m.html#a3a352c2235a269bac37d1a34a19cde48">sv</a>) &gt; 2, <a class="code" href="convert2cfg_8m.html#a0feca58bc91843177686656c1f828093">shiftVect</a>(3) = <a class="code" href="convert2cfg_8m.html#a3a352c2235a269bac37d1a34a19cde48">sv</a>(3); <a class="code" href="convert2cfg_8m.html#a299397d854bef7eea9db8f6065ba6880">end</a></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    </div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">   81</a></span>&#160;    % <a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a>= cell2mat(<a class="code" href="convert2cfg_8m.html#a7c0d4aa1bd1632355260db4db3a65d2d">b</a>(:,2:4));</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a>=<a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a>+repmat(<a class="code" href="convert2cfg_8m.html#a0feca58bc91843177686656c1f828093">shiftVect</a>,<a class="code" href="convert2cfg_8m.html#a27dd74db90774bfbbd4ed72ae89229a6">natom</a>,1);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    </div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#a6ce0c0e420d3168a558d4739ee18db84">   84</a></span>&#160;    <a class="code" href="convert2cfg_8m.html#a6ce0c0e420d3168a558d4739ee18db84">Mmd</a>=<a class="code" href="convert2cfg_8m.html#a20fc5038c021fd98154bd49a45a0e238">max</a>(<a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a>)-min([<a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a>; [0 0 0]]);</div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#ac6daf47a997fb1c7d59c3d0fd79e14e2">   85</a></span>&#160;    % <a class="code" href="convert2cfg_8m.html#ac6daf47a997fb1c7d59c3d0fd79e14e2">Mm</a> = [7.461 0 0;-3.730 6.461 0; 0 0 5.15];</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <a class="code" href="convert2cfg_8m.html#a6ce0c0e420d3168a558d4739ee18db84">Mmd</a>(<a class="code" href="qmb_8m.html#aa32473e7c2134539f1ba31d78099a876">find</a>(<a class="code" href="convert2cfg_8m.html#a6ce0c0e420d3168a558d4739ee18db84">Mmd</a> &lt; 1)) = 1;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <a class="code" href="convert2cfg_8m.html#ad84e19307a43d3f799a4daeef0a6484a">prompt</a>={<span class="stringliteral">&#39;Size of Super cell: &#39;</span>};</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <a class="code" href="convert2cfg_8m.html#ab74e6bf80237ddc4109968cedc58c151">name</a>=<span class="stringliteral">&#39;Define super cell size&#39;</span>;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <a class="code" href="convert2cfg_8m.html#af2f323caad11c790b60b05a6916887c3">numlines</a>=1;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <a class="code" href="convert2cfg_8m.html#a75180f3a56b12e0ea7561b96f5583f33">defaultanswer</a>={<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(<span class="stringliteral">&#39;%.3f   %.3f   %.3f&#39;</span>,<a class="code" href="convert2cfg_8m.html#a6ce0c0e420d3168a558d4739ee18db84">Mmd</a>)};</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    %creates the dialog <a class="code" href="read_c_f_g__qstem_8m.html#a552eedb796e4ec274fe617b434bf69b2">box</a>. the user input is stored into <a class="code" href="convert2cfg_8m.html#a7492468b961995f6fd82e216c751bb37">a</a> <a class="code" href="_read_d_m3___matlab_8m.html#a788f12e84a4147fbec966d469221fb80">cell</a> <a class="code" href="convert2cfg_8m.html#a7cec22fd326288e5df0dadf886d5d919">array</a></div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#a230dc0282515afc8139e7baf1843e845">   94</a></span>&#160;    <a class="code" href="convert2cfg_8m.html#a230dc0282515afc8139e7baf1843e845">cellSize</a>=inputdlg(<a class="code" href="convert2cfg_8m.html#ad84e19307a43d3f799a4daeef0a6484a">prompt</a>,<a class="code" href="convert2cfg_8m.html#ab74e6bf80237ddc4109968cedc58c151">name</a>,<a class="code" href="convert2cfg_8m.html#af2f323caad11c790b60b05a6916887c3">numlines</a>,<a class="code" href="convert2cfg_8m.html#a75180f3a56b12e0ea7561b96f5583f33">defaultanswer</a>);</div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#af87ca49659c81b8770a57f9955eb5ff1">   95</a></span>&#160;    <a class="code" href="convert2cfg_8m.html#af87ca49659c81b8770a57f9955eb5ff1">Mmd2</a> = sscanf(<a class="code" href="convert2cfg_8m.html#a230dc0282515afc8139e7baf1843e845">cellSize</a>{1},<span class="stringliteral">&#39;%f %f %f&#39;</span>);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <a class="code" href="convert2cfg_8m.html#ac6daf47a997fb1c7d59c3d0fd79e14e2">Mm</a> = diag(<a class="code" href="convert2cfg_8m.html#a6ce0c0e420d3168a558d4739ee18db84">Mmd</a>);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">if</span> <a class="code" href="convert2cfg_8m.html#add57aad399f787c409167e1b6d30ea8a">~isempty</a>(<a class="code" href="convert2cfg_8m.html#af87ca49659c81b8770a57f9955eb5ff1">Mmd2</a>), <a class="code" href="convert2cfg_8m.html#ac6daf47a997fb1c7d59c3d0fd79e14e2">Mm</a>(1,1) = <a class="code" href="convert2cfg_8m.html#af87ca49659c81b8770a57f9955eb5ff1">Mmd2</a>(1); <a class="code" href="convert2cfg_8m.html#a299397d854bef7eea9db8f6065ba6880">end</a></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">if</span> <a class="code" href="convert2cfg_8m.html#aabbdf768a12d7ff279a05a15db19fa61">length</a>(<a class="code" href="convert2cfg_8m.html#af87ca49659c81b8770a57f9955eb5ff1">Mmd2</a>) &gt; 1, <a class="code" href="convert2cfg_8m.html#ac6daf47a997fb1c7d59c3d0fd79e14e2">Mm</a>(2,2) = <a class="code" href="convert2cfg_8m.html#af87ca49659c81b8770a57f9955eb5ff1">Mmd2</a>(2); <a class="code" href="convert2cfg_8m.html#a299397d854bef7eea9db8f6065ba6880">end</a></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordflow">if</span> <a class="code" href="convert2cfg_8m.html#aabbdf768a12d7ff279a05a15db19fa61">length</a>(<a class="code" href="convert2cfg_8m.html#af87ca49659c81b8770a57f9955eb5ff1">Mmd2</a>) &gt; 2, <a class="code" href="convert2cfg_8m.html#ac6daf47a997fb1c7d59c3d0fd79e14e2">Mm</a>(3,3) = <a class="code" href="convert2cfg_8m.html#af87ca49659c81b8770a57f9955eb5ff1">Mmd2</a>(3); <a class="code" href="convert2cfg_8m.html#a299397d854bef7eea9db8f6065ba6880">end</a></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordflow">for</span> <a class="code" href="convert2cfg_8m.html#abe1a4654a886b56b76d377ffc86f3dcc">k1</a>=1:<a class="code" href="convert2cfg_8m.html#a27dd74db90774bfbbd4ed72ae89229a6">natom</a></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <a class="code" href="convert2cfg_8m.html#acb65e003f967dd898ad0b68195201fb4">aType</a>(k1)=(1+findstr(char(<a class="code" href="convert2cfg_8m.html#a2902a7a983ab04c79cae2162ad553481">type</a>(k1,1:2)),atomName))/2;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <a class="code" href="convert2cfg_8m.html#a299397d854bef7eea9db8f6065ba6880">end</a></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="qmb_8m.html#a4ccc18a0b93f562f455415ecee608339">writeCFG</a>(<a class="code" href="convert2cfg_8m.html#a1a3091fb7347c8f640f7b03687dadd44">filename</a>,Mm,<a class="code" href="convert2cfg_8m.html#a27dd74db90774bfbbd4ed72ae89229a6">natom</a>,<a class="code" href="convert2cfg_8m.html#acb65e003f967dd898ad0b68195201fb4">aType</a>,<a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a>,[0 0 0],0))</div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#abf75d0e474a103d59888210782ff8baf">  105</a></span>&#160;        <a class="code" href="convert2cfg_8m.html#adaf2296b0af0af8d6d31aa11f288b107">msgbox</a>(<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(<span class="stringliteral">&#39;Wrote cfg file %s.cfg&#39;</span>,<a class="code" href="convert2cfg_8m.html#a1a3091fb7347c8f640f7b03687dadd44">filename</a>),<span class="stringliteral">&#39;convert2cfg&#39;</span>,<span class="stringliteral">&#39;modal&#39;</span>);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        <a class="code" href="convert2cfg_8m.html#adaf2296b0af0af8d6d31aa11f288b107">msgbox</a>(<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(<span class="stringliteral">&#39;Error creating cfg file %s.cfg&#39;</span>,<a class="code" href="convert2cfg_8m.html#a1a3091fb7347c8f640f7b03687dadd44">filename</a>),<span class="stringliteral">&#39;convert2cfg&#39;</span>,<span class="stringliteral">&#39;modal&#39;</span>);       </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <a class="code" href="convert2cfg_8m.html#a299397d854bef7eea9db8f6065ba6880">end</a></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<a class="code" href="convert2cfg_8m.html#a299397d854bef7eea9db8f6065ba6880">end</a></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;% Read .xtl files</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="keywordflow">if</span> (<a class="code" href="qmb_8m.html#acb0bf34e5a38d0484b1e3e24b8106f52">strcmp</a>(ext,<span class="stringliteral">&#39;.xtl&#39;</span>) == 1)</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <a class="code" href="convert2cfg_8m.html#a27dd74db90774bfbbd4ed72ae89229a6">natom</a> = 0;</div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#a7b9c3d619ad7365ec6434713e76142e8">  116</a></span>&#160;    <a class="code" href="convert2cfg_8m.html#a7b9c3d619ad7365ec6434713e76142e8">fid</a> = fopen(strcat(<a class="code" href="convert2cfg_8m.html#a1a3091fb7347c8f640f7b03687dadd44">filename</a>,<span class="stringliteral">&#39;.xtl&#39;</span>),<span class="charliteral">&#39;r&#39;</span>);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="convert2cfg_8m.html#a7b9c3d619ad7365ec6434713e76142e8">fid</a> &lt; 1)</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <a class="code" href="qmb_8m.html#a0c0ef75e700415c282f9c5ba379897f3">errordlg</a>(<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(<span class="stringliteral">&#39;Could not open file %s.xtl!&#39;</span>,<a class="code" href="convert2cfg_8m.html#a1a3091fb7347c8f640f7b03687dadd44">filename</a>));</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <a class="code" href="convert2cfg_8m.html#a299397d854bef7eea9db8f6065ba6880">end</a></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">while</span> <a class="code" href="convert2cfg_8m.html#a2036d620df36b0f50226fce21a5d989d">strncmp</a>(fgets(<a class="code" href="convert2cfg_8m.html#a7b9c3d619ad7365ec6434713e76142e8">fid</a>),<span class="stringliteral">&#39;CELL&#39;</span>,4) == 0,    <a class="code" href="convert2cfg_8m.html#a299397d854bef7eea9db8f6065ba6880">end</a></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <a class="code" href="convert2cfg_8m.html#af30278de8dab4c8bc6e28657bdf50d14">buf</a> = fgets(<a class="code" href="convert2cfg_8m.html#a7b9c3d619ad7365ec6434713e76142e8">fid</a>);</div>
<div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#a37b5152701bbdfde1fcd3cf58d4fc032">  125</a></span>&#160;    <a class="code" href="convert2cfg_8m.html#a37b5152701bbdfde1fcd3cf58d4fc032">unitCell</a> = sscanf(buf,<span class="stringliteral">&#39;%f&#39;</span>,6);</div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#a7492468b961995f6fd82e216c751bb37">  126</a></span>&#160;    <a class="code" href="convert2cfg_8m.html#a7492468b961995f6fd82e216c751bb37">a</a>     = <a class="code" href="convert2cfg_8m.html#a37b5152701bbdfde1fcd3cf58d4fc032">unitCell</a>(1);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <a class="code" href="convert2cfg_8m.html#a7c0d4aa1bd1632355260db4db3a65d2d">b</a>     = <a class="code" href="convert2cfg_8m.html#a37b5152701bbdfde1fcd3cf58d4fc032">unitCell</a>(2);</div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#ae0323a9039add2978bf5b49550572c7c">  128</a></span>&#160;    <a class="code" href="convert2cfg_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>     = <a class="code" href="convert2cfg_8m.html#a37b5152701bbdfde1fcd3cf58d4fc032">unitCell</a>(3);</div>
<div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#a62197192f0fbf4e0675eb37be1c4c175">  129</a></span>&#160;    <a class="code" href="convert2cfg_8m.html#a62197192f0fbf4e0675eb37be1c4c175">alpha</a> = <a class="code" href="convert2cfg_8m.html#a37b5152701bbdfde1fcd3cf58d4fc032">unitCell</a>(4)*pi/180;</div>
<div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#ab146b9cbab6e73e7588b240dc709fe01">  130</a></span>&#160;    <a class="code" href="convert2cfg_8m.html#ab146b9cbab6e73e7588b240dc709fe01">beta</a>  = <a class="code" href="convert2cfg_8m.html#a37b5152701bbdfde1fcd3cf58d4fc032">unitCell</a>(5)*pi/180;</div>
<div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#a8d00631c9622112f1877fdb1222c242e">  131</a></span>&#160;    <a class="code" href="convert2cfg_8m.html#a8d00631c9622112f1877fdb1222c242e">gamma</a> = <a class="code" href="convert2cfg_8m.html#a37b5152701bbdfde1fcd3cf58d4fc032">unitCell</a>(6)*pi/180;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <a class="code" href="convert2cfg_8m.html#a914b5878a579e7493e9475d9f37a5833">fprintf</a>(<span class="stringliteral">&#39;Found unit cell parameters: \na=%f, b=%f, c=%f, \nalpha=%f, beta=%f, gamma=%f\n&#39;</span>,<a class="code" href="convert2cfg_8m.html#a7492468b961995f6fd82e216c751bb37">a</a>,<a class="code" href="convert2cfg_8m.html#a7c0d4aa1bd1632355260db4db3a65d2d">b</a>,<a class="code" href="convert2cfg_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>,<a class="code" href="convert2cfg_8m.html#a62197192f0fbf4e0675eb37be1c4c175">alpha</a>,<a class="code" href="convert2cfg_8m.html#ab146b9cbab6e73e7588b240dc709fe01">beta</a>,<a class="code" href="convert2cfg_8m.html#a8d00631c9622112f1877fdb1222c242e">gamma</a>);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    % Now look <span class="keywordflow">for</span> the atomic <a class="code" href="convert2cfg_8m.html#a923d61728dac7c6dff07427a901c9ba9">positions</a>:</div>
<div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#a923d61728dac7c6dff07427a901c9ba9">  135</a></span>&#160;    <span class="keywordflow">while</span> <a class="code" href="convert2cfg_8m.html#a2036d620df36b0f50226fce21a5d989d">strncmp</a>(fgets(<a class="code" href="convert2cfg_8m.html#a7b9c3d619ad7365ec6434713e76142e8">fid</a>),<span class="stringliteral">&#39;ATOMS&#39;</span>,5) == 0,    <a class="code" href="convert2cfg_8m.html#a299397d854bef7eea9db8f6065ba6880">end</a></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    buf = fgets(<a class="code" href="convert2cfg_8m.html#a7b9c3d619ad7365ec6434713e76142e8">fid</a>);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">while</span> <a class="code" href="convert2cfg_8m.html#a2036d620df36b0f50226fce21a5d989d">strncmp</a>(buf,<span class="stringliteral">&#39;EOF&#39;</span>,3) == 0</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        % <a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> <span class="keywordflow">if</span> <span class="keyword">this</span> line starts with <a class="code" href="convert2cfg_8m.html#a7492468b961995f6fd82e216c751bb37">a</a> chemical symbol</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <a class="code" href="_displacement_params_8m.html#a01a4e1016a69f35833aabe42f9174645">ind</a> = findstr(<a class="code" href="convert2cfg_8m.html#af54b44244fe4a858a27959384ba826e7">atomName</a>,<span class="keywordtype">char</span>(<a class="code" href="convert2cfg_8m.html#af30278de8dab4c8bc6e28657bdf50d14">buf</a>(1:2)));</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        <span class="keywordflow">if</span> <a class="code" href="convert2cfg_8m.html#add57aad399f787c409167e1b6d30ea8a">~isempty</a>(ind)</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            <a class="code" href="_display_model_properties_8m.html#adf54215d760dbf0f9fe5627a39015333">pos</a> = sscanf(buf(3:<a class="code" href="convert2cfg_8m.html#a299397d854bef7eea9db8f6065ba6880">end</a>),&#39;%<a class="code" href="namespacepython_1_1potential.html#af887b24c78c0630197f05f84f19de90c">f</a>&#39;,3);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            <a class="code" href="convert2cfg_8m.html#a5a114b6d8185a4180659b5e181b9c7bf">if</a> <a class="code" href="convert2cfg_8m.html#a20fc5038c021fd98154bd49a45a0e238">max</a>(<a class="code" href="_display_model_properties_8m.html#adf54215d760dbf0f9fe5627a39015333">pos</a>) &lt; 1</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                <a class="code" href="convert2cfg_8m.html#a27dd74db90774bfbbd4ed72ae89229a6">natom</a> = <a class="code" href="convert2cfg_8m.html#a27dd74db90774bfbbd4ed72ae89229a6">natom</a>+1;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                <a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a>(natom,1:3)=<a class="code" href="_display_model_properties_8m.html#adf54215d760dbf0f9fe5627a39015333">pos</a>;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                <a class="code" href="convert2cfg_8m.html#acb65e003f967dd898ad0b68195201fb4">aType</a>(natom) = (1+ind(1))/2;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            end</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        end</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        buf = fgets(<a class="code" href="convert2cfg_8m.html#a7b9c3d619ad7365ec6434713e76142e8">fid</a>);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    end</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <a class="code" href="convert2cfg_8m.html#a5f84f51058cdb4f43c29d2c875659f42">fclose</a>(fid);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    % <a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    % <a class="code" href="convert2cfg_8m.html#acb65e003f967dd898ad0b68195201fb4">aType</a></div>
<div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#ac7ab10c5cbfe66cb174be3993acdfca0">  154</a></span>&#160;    <a class="code" href="convert2cfg_8m.html#ac7ab10c5cbfe66cb174be3993acdfca0">H00</a> = <a class="code" href="convert2cfg_8m.html#a7492468b961995f6fd82e216c751bb37">a</a>;</div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#a2956b3c3c88e899db770033378d001fc">  155</a></span>&#160;    <a class="code" href="convert2cfg_8m.html#a2956b3c3c88e899db770033378d001fc">H01</a> = 0;</div>
<div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#ae48a38ace9ce3c77a9f874a13cb624bd">  156</a></span>&#160;    <a class="code" href="convert2cfg_8m.html#ae48a38ace9ce3c77a9f874a13cb624bd">H02</a> = 0;</div>
<div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#aec0f3296464d8361abe37f60d5496c2f">  157</a></span>&#160;    <a class="code" href="convert2cfg_8m.html#aec0f3296464d8361abe37f60d5496c2f">H10</a> = <a class="code" href="convert2cfg_8m.html#a7c0d4aa1bd1632355260db4db3a65d2d">b</a>*cos(<a class="code" href="convert2cfg_8m.html#a8d00631c9622112f1877fdb1222c242e">gamma</a>);</div>
<div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#aa84c46fe58c25716d1f7605de8df3c23">  158</a></span>&#160;    <a class="code" href="convert2cfg_8m.html#aa84c46fe58c25716d1f7605de8df3c23">H11</a> = <a class="code" href="convert2cfg_8m.html#a7c0d4aa1bd1632355260db4db3a65d2d">b</a>*sin(gamma);</div>
<div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#a8ccbb97e13e2694cd089ea35a4a18fd0">  159</a></span>&#160;    <a class="code" href="convert2cfg_8m.html#a8ccbb97e13e2694cd089ea35a4a18fd0">H12</a> = 0;</div>
<div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#affb2a9d3d10246a82c5e1ee2d7f37e93">  160</a></span>&#160;    <a class="code" href="convert2cfg_8m.html#affb2a9d3d10246a82c5e1ee2d7f37e93">H20</a> = 0;</div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#a45b983dd2f4e0bb03cbbe01107a10677">  161</a></span>&#160;    <a class="code" href="convert2cfg_8m.html#a45b983dd2f4e0bb03cbbe01107a10677">H21</a> = 0;</div>
<div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#a047ec35c736a4c006e21f58b70f7a325">  162</a></span>&#160;    <a class="code" href="convert2cfg_8m.html#a047ec35c736a4c006e21f58b70f7a325">H22</a> = <a class="code" href="convert2cfg_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    Mm = [<a class="code" href="convert2cfg_8m.html#ac7ab10c5cbfe66cb174be3993acdfca0">H00</a> <a class="code" href="convert2cfg_8m.html#a2956b3c3c88e899db770033378d001fc">H01</a> <a class="code" href="convert2cfg_8m.html#ae48a38ace9ce3c77a9f874a13cb624bd">H02</a>;<a class="code" href="convert2cfg_8m.html#aec0f3296464d8361abe37f60d5496c2f">H10</a> <a class="code" href="convert2cfg_8m.html#aa84c46fe58c25716d1f7605de8df3c23">H11</a> <a class="code" href="convert2cfg_8m.html#a8ccbb97e13e2694cd089ea35a4a18fd0">H12</a>; <a class="code" href="convert2cfg_8m.html#affb2a9d3d10246a82c5e1ee2d7f37e93">H20</a> <a class="code" href="convert2cfg_8m.html#a45b983dd2f4e0bb03cbbe01107a10677">H21</a> <a class="code" href="convert2cfg_8m.html#a047ec35c736a4c006e21f58b70f7a325">H22</a>];</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    % start a refinement to search for the correct matrix entries <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> the 3rd</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    % <a class="code" href="convert2cfg_8m.html#a0bd56c3fc970360b866a574a6c0a3473">row</a>:</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <a class="code" href="convert2cfg_8m.html#a5a114b6d8185a4180659b5e181b9c7bf">if</a> (abs(<a class="code" href="convert2cfg_8m.html#a62197192f0fbf4e0675eb37be1c4c175">alpha</a>-pi/2) &gt; 1e-4) ||  (abs(<a class="code" href="convert2cfg_8m.html#ab146b9cbab6e73e7588b240dc709fe01">beta</a>-pi/2) &gt; 1e-4)</div>
<div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#a0bd56c3fc970360b866a574a6c0a3473">  168</a></span>&#160;        H3 = Mm(3,:).&#39;;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        [H3,<a class="code" href="qmb_8m.html#a7a7386b8044055e14b58efd949326489">chi2</a>] = fminsearch(@(H3) refineMatrix(H3,Mm,<a class="code" href="convert2cfg_8m.html#a62197192f0fbf4e0675eb37be1c4c175">alpha</a>*180/pi,<a class="code" href="convert2cfg_8m.html#ab146b9cbab6e73e7588b240dc709fe01">beta</a>*180/pi,gamma*180/pi), H3);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <a class="code" href="convert2cfg_8m.html#a914b5878a579e7493e9475d9f37a5833">fprintf</a>(&#39;<a class="code" href="_read_d_m3___matlab_8m.html#a8626f0bba659e1b0b2d966d226f378a9">found</a> structure matrix with <a class="code" href="qmb_8m.html#a7a7386b8044055e14b58efd949326489">chi2</a> = %f\n&#39;,<a class="code" href="qmb_8m.html#a7a7386b8044055e14b58efd949326489">chi2</a>);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        Mm(3,:) = H3.&#39;*c/sqrt(<a class="code" href="read_c_f_g__qstem_8m.html#a85162b5d5e6736f5aa8616580d4e8a75">sum</a>(H3.^2));</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        Mm(3,3) = abs(Mm(3,3));</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    end</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="convert2cfg_8m.html#a5a114b6d8185a4180659b5e181b9c7bf">if</a> (<a class="code" href="qmb_8m.html#a4ccc18a0b93f562f455415ecee608339">writeCFG</a>(<a class="code" href="convert2cfg_8m.html#a1a3091fb7347c8f640f7b03687dadd44">filename</a>,Mm,natom,<a class="code" href="convert2cfg_8m.html#acb65e003f967dd898ad0b68195201fb4">aType</a>,<a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a>,[0 0 0],1))</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <a class="code" href="convert2cfg_8m.html#adaf2296b0af0af8d6d31aa11f288b107">msgbox</a>(<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;Wrote cfg <a class="code" href="qmb_8m.html#a0afda3603b043ac6b7362fdee225631e">file</a> \n%<a class="code" href="aberrations___t_e_m_8m.html#aef29541a06b7f933d32a804307db13af">s</a>.cfg&#39;,filename),&#39;<a class="code" href="convert2cfg_8m.html#adb3fce483c086cdfed46db6894e052fd">convert2cfg</a>&#39;,&#39;<a class="code" href="convert2cfg_8m.html#abf75d0e474a103d59888210782ff8baf">modal</a>&#39;);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <a class="code" href="convert2cfg_8m.html#adaf2296b0af0af8d6d31aa11f288b107">msgbox</a>(<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;Error creating cfg <a class="code" href="qmb_8m.html#a0afda3603b043ac6b7362fdee225631e">file</a> \n%<a class="code" href="aberrations___t_e_m_8m.html#aef29541a06b7f933d32a804307db13af">s</a>.cfg&#39;,filename),&#39;convert2cfg&#39;,&#39;modal&#39;);     </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    end</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;end</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;   </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    </div>
<div class="line"><a name="l00184"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#ae76081fb2cef09480162f3c1b69dfbb2">  184</a></span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> <a class="code" href="convert2cfg_8m.html#ae76081fb2cef09480162f3c1b69dfbb2">Y</a> = sortcell(<a class="code" href="convert2cfg_8m.html#ac51b57a703ba1c5869228690c93e1701">X</a>, <a class="code" href="convert2cfg_8m.html#ad4ef775b9bd3dace2b8188ded8c71fa0">DIM</a>)</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;% SORTCELL    Sort a <a class="code" href="_read_d_m3___matlab_8m.html#a788f12e84a4147fbec966d469221fb80">cell</a> <a class="code" href="convert2cfg_8m.html#a7cec22fd326288e5df0dadf886d5d919">array</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> ascending order.</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;%</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;% Description: SORTCELL sorts the input <a class="code" href="_read_d_m3___matlab_8m.html#a788f12e84a4147fbec966d469221fb80">cell</a> <a class="code" href="convert2cfg_8m.html#a7cec22fd326288e5df0dadf886d5d919">array</a> according to the</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;%   dimensions (columns) specified by the user.</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;%</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;% Usage: <a class="code" href="convert2cfg_8m.html#ae76081fb2cef09480162f3c1b69dfbb2">Y</a> = sortcell(X, <a class="code" href="convert2cfg_8m.html#ad4ef775b9bd3dace2b8188ded8c71fa0">DIM</a>)</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;%</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;% Input:</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;%      X: the <a class="code" href="_read_d_m3___matlab_8m.html#a788f12e84a4147fbec966d469221fb80">cell</a> <a class="code" href="convert2cfg_8m.html#a7cec22fd326288e5df0dadf886d5d919">array</a> to be sorted.</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;%  <a class="code" href="convert2cfg_8m.html#ad4ef775b9bd3dace2b8188ded8c71fa0">DIM</a>: (optional) one or more column numbers. Simply an <a class="code" href="convert2cfg_8m.html#a7cec22fd326288e5df0dadf886d5d919">array</a> of one or</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;%       more column numbers.  The first number is the primary column <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;%       which to sort. Extra column numbers may be <a class="code" href="draw_c_f_g_8m.html#af5cfcebd7c554a530c18ff3b636ccc75">supplied</a> <a class="code" href="convert2cfg_8m.html#a5a114b6d8185a4180659b5e181b9c7bf">if</a> secondary</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;%       sorting is required. The defuault <a class="code" href="qstem_8m.html#aeee9d3c55cddc06149a5f9799cd5232d">value</a> is 1, <a class="code" href="convert2cfg_8m.html#a5a114b6d8185a4180659b5e181b9c7bf">if</a> no <a class="code" href="convert2cfg_8m.html#accb90676408decb4be6591f6bc0664ca">dimension</a></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;%       <a class="code" href="convert2cfg_8m.html#a7cec22fd326288e5df0dadf886d5d919">array</a> is <a class="code" href="draw_c_f_g_8m.html#af5cfcebd7c554a530c18ff3b636ccc75">supplied</a>.</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;%</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;% <a class="code" href="convert2cfg_8m.html#ab97515cda1e3e845e080f5f32a67fd09">Output</a>:</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;%     <a class="code" href="convert2cfg_8m.html#ae76081fb2cef09480162f3c1b69dfbb2">Y</a>: the sorted <a class="code" href="_read_d_m3___matlab_8m.html#a788f12e84a4147fbec966d469221fb80">cell</a> <a class="code" href="convert2cfg_8m.html#a7cec22fd326288e5df0dadf886d5d919">array</a>.</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;%</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;% Example:    <a class="code" href="convert2cfg_8m.html#ae76081fb2cef09480162f3c1b69dfbb2">Y</a> = sortcell(X, [3 2])</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;%</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;% Note that this <a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> has only been tested <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> mixed <a class="code" href="_read_d_m3___matlab_8m.html#a788f12e84a4147fbec966d469221fb80">cell</a> <a class="code" href="_display_model_properties_8m.html#a912794af617f4685224d3fa0abd00c37">arrays</a></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;% containing character strings and numeric values.</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;% </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;% Documentation <a class="code" href="convert2cfg_8m.html#af3c3447c812ef57e7ea08bba5454a11c">Date</a>: Feb.01,2007 13:36:04</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;% </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;% <a class="code" href="_read_d_m3___matlab_8m.html#aef88e249863a4190b6062bbf8fa5c656">Tags</a>:</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;% {<a class="code" href="cif_lexer_8h.html#afc3d101f633a076cc1ca84b85b6224b2">TAG</a>} {<a class="code" href="cif_lexer_8h.html#afc3d101f633a076cc1ca84b85b6224b2">TAG</a>} {<a class="code" href="cif_lexer_8h.html#afc3d101f633a076cc1ca84b85b6224b2">TAG</a>}</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;% </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;% </div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;%   Copyright 2007  Jeff Jackson (Ocean Sciences, DFO Canada)</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;%   Creation <a class="code" href="convert2cfg_8m.html#af3c3447c812ef57e7ea08bba5454a11c">Date</a>: Jan. 24, 2007</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;%   Last <a class="code" href="convert2cfg_8m.html#a09bd674312d24c22b58c21bcdea95d95">Updated</a>:  Jan. 25, 2007</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;% Check to <a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> <span class="keywordflow">if</span> no input arguments were <a class="code" href="draw_c_f_g_8m.html#af5cfcebd7c554a530c18ff3b636ccc75">supplied</a>.  If <span class="keyword">this</span> is the <span class="keywordflow">case</span>,</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;% stop execution and <a class="code" href="qstem_8m.html#a48673c39259e21125ccdd489d990c78e">output</a> an <a class="code" href="convert2cfg_8m.html#abc6d4b0a6102106533fc2e29fbb8c8e1">error</a> message to the user.</div>
<div class="line"><a name="l00221"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#a7f9b12e953d2678415a3d421f36ae4d6">  221</a></span>&#160;if <a class="code" href="convert2cfg_8m.html#a7f9b12e953d2678415a3d421f36ae4d6">nargin</a> == 0</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <a class="code" href="convert2cfg_8m.html#abc6d4b0a6102106533fc2e29fbb8c8e1">error</a>(<span class="stringliteral">&#39;No input arguments were supplied.  At least one is expected.&#39;</span>);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;% Check to <a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> <span class="keywordflow">if</span> the only input argument is <a class="code" href="convert2cfg_8m.html#a7492468b961995f6fd82e216c751bb37">a</a> <a class="code" href="_read_d_m3___matlab_8m.html#a788f12e84a4147fbec966d469221fb80">cell</a> <a class="code" href="convert2cfg_8m.html#a7cec22fd326288e5df0dadf886d5d919">array</a>.  If <a class="code" href="image_sim_8m.html#a2bc2c45f22146a64d1dc561fac7e60c1">it</a> isn<span class="stringliteral">&#39;t</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="stringliteral">% then stop execution and output an error message to the user. Also set the</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="stringliteral">% DIM value since it was not supplied.</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="stringliteral">elseif nargin == 1</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="stringliteral">    if ~iscell(X)</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="stringliteral">        error(&#39;</span>Input argument is not <a class="code" href="convert2cfg_8m.html#a7492468b961995f6fd82e216c751bb37">a</a> <a class="code" href="_read_d_m3___matlab_8m.html#a788f12e84a4147fbec966d469221fb80">cell</a> <a class="code" href="convert2cfg_8m.html#a7cec22fd326288e5df0dadf886d5d919">array</a>.  <a class="code" href="fileio__fftw3_8cpp.html#a955f504eccf76b4eb2489c0adab03121">A</a> <a class="code" href="_read_d_m3___matlab_8m.html#a788f12e84a4147fbec966d469221fb80">cell</a> <a class="code" href="convert2cfg_8m.html#a7cec22fd326288e5df0dadf886d5d919">array</a> is expected.<span class="stringliteral">&#39;);</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="stringliteral">    end</span></div>
<div class="line"><a name="l00230"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#ad4ef775b9bd3dace2b8188ded8c71fa0">  230</a></span>&#160;<span class="stringliteral">    DIM = 1;</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="stringliteral">% Check to see if the first input argument is a cell array and the second</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="stringliteral">% one is numeric.  If either check fails then stop execution and output an</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="stringliteral">% error message to the user.</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="stringliteral">elseif nargin == 2</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="stringliteral">    if ~iscell(X)</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="stringliteral">        error(&#39;</span>The first input argument is not <a class="code" href="convert2cfg_8m.html#a7492468b961995f6fd82e216c751bb37">a</a> <a class="code" href="_read_d_m3___matlab_8m.html#a788f12e84a4147fbec966d469221fb80">cell</a> <a class="code" href="convert2cfg_8m.html#a7cec22fd326288e5df0dadf886d5d919">array</a>.  <a class="code" href="fileio__fftw3_8cpp.html#a955f504eccf76b4eb2489c0adab03121">A</a> <a class="code" href="_read_d_m3___matlab_8m.html#a788f12e84a4147fbec966d469221fb80">cell</a> <a class="code" href="convert2cfg_8m.html#a7cec22fd326288e5df0dadf886d5d919">array</a> is expected.<span class="stringliteral">&#39;);</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="stringliteral">    end</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="stringliteral">    if ~isnumeric(DIM)</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="stringliteral">        error(&#39;</span>The second input argument is not numeric.  At least one numeric <a class="code" href="qstem_8m.html#aeee9d3c55cddc06149a5f9799cd5232d">value</a> is expected.<span class="stringliteral">&#39;);</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="stringliteral">    end</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="stringliteral">% Check to see if too many arguments were input.  If there were then exit</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="stringliteral">% the function issuing a error message to the user.</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="stringliteral">elseif nargin &gt; 2</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="stringliteral">    error(&#39;</span>Too many input arguments <a class="code" href="draw_c_f_g_8m.html#af5cfcebd7c554a530c18ff3b636ccc75">supplied</a>.  Only two are allowed.<span class="stringliteral">&#39;);</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="stringliteral">end</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="stringliteral">% Now find out if the cell array is being sorted on more than one column.</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="stringliteral">% If it is then use recursion to call the sortcell function again to sort</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="stringliteral">% the less important columns first. Repeat calls to sortcell until only one</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="stringliteral">% column is left to be sorted. Then return the sorted cell array to the</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="stringliteral">% calling function to continue with the higher priority sorting.</span></div>
<div class="line"><a name="l00252"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#a36d3e3e56673eb6fd47c295c71e697ac">  252</a></span>&#160;<span class="stringliteral">ndim = length(DIM);</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="stringliteral">if ndim &gt; 1</span></div>
<div class="line"><a name="l00254"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#abec65cbed63875da4a4ea5447e83b867">  254</a></span>&#160;<span class="stringliteral">    col = DIM(2:end);</span></div>
<div class="line"><a name="l00255"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#ac51b57a703ba1c5869228690c93e1701">  255</a></span>&#160;<span class="stringliteral">    X = sortcell(X, col);</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="stringliteral">end</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="stringliteral">% Get the dimensions of the input cell array.</span></div>
<div class="line"><a name="l00259"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#a7cec22fd326288e5df0dadf886d5d919">  259</a></span>&#160;<span class="stringliteral">[nrows, ncols] = size(X);</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="stringliteral">% Retrieve the primary dimension (column) to be sorted.</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="stringliteral">col = DIM(1);</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="stringliteral">% Place the cells for this column in variable &#39;</span>B<span class="stringliteral">&#39;.</span></div>
<div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#a422e4e22a48b9ea42c9dfe12b157229d">  265</a></span>&#160;<span class="stringliteral">B = X(:,col);</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="stringliteral">% Check each cell in cell array &#39;</span><a class="code" href="convert2cfg_8m.html#a422e4e22a48b9ea42c9dfe12b157229d">B</a><span class="stringliteral">&#39; to see if it contains either a</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="stringliteral">% character string or numeric value. If it is a character string it returns</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="stringliteral">% a &#39;</span>1<span class="stringliteral">&#39; in the same location of boolean array &#39;</span><a class="code" href="convert2cfg_8m.html#a7492468b961995f6fd82e216c751bb37">a</a><span class="stringliteral">&#39;; a &#39;</span>0<span class="stringliteral">&#39; otherwise. If it</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="stringliteral">% is a numeric value it returns a &#39;</span>1<span class="stringliteral">&#39; in the boolean array &#39;</span><a class="code" href="convert2cfg_8m.html#a7c0d4aa1bd1632355260db4db3a65d2d">b</a><span class="stringliteral">&#39;; a &#39;</span>0<span class="stringliteral">&#39;</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="stringliteral">% otherwise.</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="stringliteral">a = cellfun(&#39;</span>isclass<span class="stringliteral">&#39;, B, &#39;</span><span class="keywordtype">char</span><span class="stringliteral">&#39;);</span></div>
<div class="line"><a name="l00273"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#acdedd5ceacaca4e0d58295f41fa4b2a1">  273</a></span>&#160;<span class="stringliteral">suma = sum(a);</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="stringliteral">b = cellfun(&#39;</span>isclass<span class="stringliteral">&#39;, B, &#39;</span><span class="keywordtype">double</span><span class="stringliteral">&#39;);</span></div>
<div class="line"><a name="l00275"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#a857b8ed87332556c1cbf373a09c94ce8">  275</a></span>&#160;<span class="stringliteral">sumb = sum(b);</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="stringliteral">% Check to see if cell array &#39;</span><a class="code" href="convert2cfg_8m.html#a422e4e22a48b9ea42c9dfe12b157229d">B</a><span class="stringliteral">&#39; contained only character string.</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="stringliteral">% If cell array B contains character strings then do nothing because</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="stringliteral">% no further content handling is required.</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="stringliteral">if suma == nrows</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="stringliteral">% Check to see if cell array &#39;</span><a class="code" href="convert2cfg_8m.html#a422e4e22a48b9ea42c9dfe12b157229d">B</a><span class="stringliteral">&#39; contained only numeric values.</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="stringliteral">elseif sumb == nrows</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="stringliteral">  % If the cells in cell array &#39;</span><a class="code" href="convert2cfg_8m.html#a422e4e22a48b9ea42c9dfe12b157229d">B</a><span class="stringliteral">&#39; contain numeric values retrieve the cell</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="stringliteral">  % contents and change &#39;</span><a class="code" href="convert2cfg_8m.html#a422e4e22a48b9ea42c9dfe12b157229d">B</a><span class="stringliteral">&#39; to a numeric array.</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="stringliteral">  B = [B{:}];</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="stringliteral">else</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="stringliteral">    error(&#39;</span>This column is mixed so sorting cannot be completed.<span class="stringliteral">&#39;);</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="stringliteral">end</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="stringliteral">% Sort the current array and return the new index.</span></div>
<div class="line"><a name="l00291"></a><span class="lineno"><a class="line" href="convert2cfg_8m.html#ab8735b00764542f758cab8113c52b8ec">  291</a></span>&#160;<span class="stringliteral">[ix,ix] = sort(B);</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="stringliteral">% Using the index from the sorted array, update the input cell array and</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="stringliteral">% return it.</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="stringliteral">Y = X(ix,:);</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="stringliteral">function success = writeCFG(filename,Mm,N,aType,coords,shift,mode)</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="stringliteral">% function writeCFG(fileName,Mm,N,aType,coords,shift,mode)</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="stringliteral">%</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="stringliteral">% fileName:   name of cfg file</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="stringliteral">% Mm:         metric matrix (for orthogonal unit cells or super structures</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="stringliteral">%             Mm = diag([ax by cz]), where ax, by, cz are the size of your</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="stringliteral">%             unit cell / super structure in A.</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="stringliteral">% aType:      column vector of Z numbers</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="stringliteral">% coords:     N x 3 matrix of atomic positions [x1 y1 z1; x2 y2 z2; ...]</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="stringliteral">% shift:      can be used to define an offset to atomic positions (default</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="stringliteral">%             is [0 0 0]</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="stringliteral">% mode:       0 = atom positions in coords are cartesian coordinates</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="stringliteral">%             1 = atom positions in coords are fractional coordinates</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="stringliteral">if nargin &lt; 7</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="stringliteral">    mode=0;</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="stringliteral">end</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="stringliteral">if nargin &lt; 6</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="stringliteral">    shift = [0 0 0];</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="stringliteral">end</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="stringliteral">%if nargin &lt; 7</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="stringliteral">%    mode = 1;</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="stringliteral">%end</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="stringliteral">success = 1;</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="stringliteral">Mminv = inv(Mm);</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="stringliteral">atomType = 0;</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="stringliteral">name = [&#39;</span>H <span class="charliteral">&#39;,&#39;</span>He<span class="charliteral">&#39;,&#39;</span>Li<span class="charliteral">&#39;,&#39;</span>Be<span class="charliteral">&#39;,&#39;</span><a class="code" href="convert2cfg_8m.html#a422e4e22a48b9ea42c9dfe12b157229d">B</a> <span class="charliteral">&#39;,&#39;</span><a class="code" href="fileio__fftw3_8cpp.html#ac4cf4b2ab929bd23951a8676eeac086b">C</a> <span class="charliteral">&#39;,&#39;</span><a class="code" href="xyz2cfg_8m.html#a1576913944301b272a197d6e2931da94">N</a> <span class="charliteral">&#39;,&#39;</span>O <span class="charliteral">&#39;,&#39;</span>F <span class="charliteral">&#39;,&#39;</span>Ne<span class="charliteral">&#39;,&#39;</span>Na<span class="charliteral">&#39;,&#39;</span>Mg<span class="charliteral">&#39;,&#39;</span>Al<span class="charliteral">&#39;,&#39;</span>Si<span class="charliteral">&#39;,&#39;</span>P <span class="charliteral">&#39;,&#39;</span>S <span class="charliteral">&#39;,&#39;</span>Cl<span class="stringliteral">&#39;,...</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="stringliteral">    &#39;</span>Ar<span class="charliteral">&#39;,&#39;</span>K <span class="charliteral">&#39;,&#39;</span>Ca<span class="charliteral">&#39;,&#39;</span>Sc<span class="charliteral">&#39;,&#39;</span>Ti<span class="charliteral">&#39;,&#39;</span>V <span class="charliteral">&#39;,&#39;</span>Cr<span class="charliteral">&#39;,&#39;</span>Mn<span class="charliteral">&#39;,&#39;</span>Fe<span class="charliteral">&#39;,&#39;</span>Co<span class="charliteral">&#39;,&#39;</span>Ni<span class="charliteral">&#39;,&#39;</span>Cu<span class="charliteral">&#39;,&#39;</span>Zn<span class="charliteral">&#39;,&#39;</span>Ga<span class="charliteral">&#39;,&#39;</span>Ge<span class="charliteral">&#39;,&#39;</span>As<span class="charliteral">&#39;,&#39;</span>Se<span class="charliteral">&#39;,&#39;</span>Br<span class="stringliteral">&#39;,...</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="stringliteral">    &#39;</span>Kr<span class="charliteral">&#39;,&#39;</span>Rb<span class="charliteral">&#39;,&#39;</span>Sr<span class="charliteral">&#39;,&#39;</span><a class="code" href="convert2cfg_8m.html#ae76081fb2cef09480162f3c1b69dfbb2">Y</a> <span class="charliteral">&#39;,&#39;</span>Zr<span class="charliteral">&#39;,&#39;</span>Nb<span class="charliteral">&#39;,&#39;</span>Mo<span class="charliteral">&#39;,&#39;</span>Tc<span class="charliteral">&#39;,&#39;</span>Ru<span class="charliteral">&#39;,&#39;</span>Rh<span class="charliteral">&#39;,&#39;</span>Pd<span class="charliteral">&#39;,&#39;</span>Ag<span class="charliteral">&#39;,&#39;</span>Cd<span class="charliteral">&#39;,&#39;</span>In<span class="charliteral">&#39;,&#39;</span>Sn<span class="charliteral">&#39;,&#39;</span>Sb<span class="charliteral">&#39;,&#39;</span>Te<span class="stringliteral">&#39;,...</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="stringliteral">    &#39;</span>I <span class="charliteral">&#39;,&#39;</span>Xe<span class="charliteral">&#39;,&#39;</span><a class="code" href="image_sim_8m.html#a6e1ec50d40620688cd6376e335851fa5">Cs</a><span class="charliteral">&#39;,&#39;</span>Ba<span class="charliteral">&#39;,&#39;</span>La<span class="charliteral">&#39;,&#39;</span>Ce<span class="charliteral">&#39;,&#39;</span>Pr<span class="charliteral">&#39;,&#39;</span>Nd<span class="charliteral">&#39;,&#39;</span>Pm<span class="charliteral">&#39;,&#39;</span>Sm<span class="charliteral">&#39;,&#39;</span>Eu<span class="charliteral">&#39;,&#39;</span>Gd<span class="charliteral">&#39;,&#39;</span>Tb<span class="charliteral">&#39;,&#39;</span>Dy<span class="charliteral">&#39;,&#39;</span>Ho<span class="charliteral">&#39;,&#39;</span>Er<span class="charliteral">&#39;,&#39;</span>Tm<span class="stringliteral">&#39;,...</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="stringliteral">    &#39;</span>Yb<span class="charliteral">&#39;,&#39;</span>Lu<span class="charliteral">&#39;,&#39;</span>Hf<span class="charliteral">&#39;,&#39;</span>Ta<span class="charliteral">&#39;,&#39;</span>W <span class="charliteral">&#39;,&#39;</span>Re<span class="charliteral">&#39;,&#39;</span>Os<span class="charliteral">&#39;,&#39;</span>Ir<span class="charliteral">&#39;,&#39;</span>Pt<span class="charliteral">&#39;,&#39;</span>Au<span class="charliteral">&#39;,&#39;</span>Hg<span class="charliteral">&#39;,&#39;</span>Tl<span class="charliteral">&#39;,&#39;</span>Pb<span class="charliteral">&#39;,&#39;</span>Bi<span class="charliteral">&#39;,&#39;</span>Po<span class="charliteral">&#39;,&#39;</span>At<span class="charliteral">&#39;,&#39;</span>Rn<span class="stringliteral">&#39;,...</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="stringliteral">    &#39;</span>Fr<span class="charliteral">&#39;,&#39;</span>Ra<span class="charliteral">&#39;,&#39;</span>Ac<span class="charliteral">&#39;,&#39;</span>Th<span class="charliteral">&#39;,&#39;</span>Pa<span class="charliteral">&#39;,&#39;</span>U <span class="charliteral">&#39;,&#39;</span>Np<span class="charliteral">&#39;,&#39;</span>Pu<span class="charliteral">&#39;,&#39;</span>Am<span class="charliteral">&#39;,&#39;</span>Cm<span class="charliteral">&#39;,&#39;</span>Bk<span class="charliteral">&#39;,&#39;</span>Cf<span class="charliteral">&#39;,&#39;</span>Es<span class="charliteral">&#39;,&#39;</span>Fm<span class="charliteral">&#39;,&#39;</span>Md<span class="charliteral">&#39;,&#39;</span><a class="code" href="aberrations_8m.html#aa2fa5ea275f5d08a1f7ca407861c4be1">No</a><span class="charliteral">&#39;,&#39;</span>Lr<span class="stringliteral">&#39;];</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="stringliteral">mass = 2*[1:length(name)];</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="stringliteral">fid = fopen(strcat(filename,&#39;</span>.cfg<span class="stringliteral">&#39;),&#39;</span>w<span class="stringliteral">&#39;);</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="stringliteral">if (fid &lt; 1)</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="stringliteral">    success = 0;</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="stringliteral">    return;</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="stringliteral">end</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="stringliteral">fprintf(fid,&#39;</span>Number of particles = %d\n<span class="stringliteral">&#39;,N);</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="stringliteral">fprintf(fid,&#39;</span><a class="code" href="fileio__fftw3_8cpp.html#a955f504eccf76b4eb2489c0adab03121">A</a> = 1.0 Angstrom (basic <a class="code" href="convert2cfg_8m.html#aabbdf768a12d7ff279a05a15db19fa61">length</a>-<a class="code" href="_display_model_properties_8m.html#aa0f635e3dfa4fc088fb53982ec8a3d4d">scale</a>)\n<span class="stringliteral">&#39;);</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="stringliteral">% fprintf(fid,&#39;</span># <a class="code" href="qmb_8m.html#a0afda3603b043ac6b7362fdee225631e">file</a> created by <a class="code" href="convert2cfg_8m.html#adb3fce483c086cdfed46db6894e052fd">convert2cfg</a>, written by <a class="code" href="fileio__fftw3_8cpp.html#ac4cf4b2ab929bd23951a8676eeac086b">C</a>.T. Koch &amp; <a class="code" href="convert2cfg_8m.html#ae76081fb2cef09480162f3c1b69dfbb2">Y</a>. Kauffmann\n<span class="stringliteral">&#39;);</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="stringliteral">for ix=1:3</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="stringliteral">    for iy=1:3</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="stringliteral">        fprintf(fid,&#39;</span>H0(%<a class="code" href="_read_d_m3___matlab_8m.html#a1aabac6d068eef6a7bad3fdf50a05cc8">d</a>,%<a class="code" href="_read_d_m3___matlab_8m.html#a1aabac6d068eef6a7bad3fdf50a05cc8">d</a>) = %g A\n<span class="stringliteral">&#39;,ix,iy,Mm(ix,iy));</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="stringliteral">    end</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="stringliteral">end</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="stringliteral">fprintf(fid,&#39;</span>.NO_VELOCITY.\n<span class="stringliteral">&#39;);</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="stringliteral">fprintf(fid,&#39;</span>entry_count = 3\n<span class="stringliteral">&#39;);</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="stringliteral">for ix=1:N</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="stringliteral">    at = aType(ix);</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="stringliteral">    if at ~= atomType</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="stringliteral">        fprintf(fid,&#39;</span>%g\n%s\n<span class="stringliteral">&#39;,mass(at),name(2*at-1:2*at));  % specify type and mass of first atom (all others are the same)</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="stringliteral">        atomType = at;</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="stringliteral">    end</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="stringliteral">    if mode == 0</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="stringliteral">%        fprintf(fid,&#39;</span>%g %g %g\n<span class="stringliteral">&#39;,mod(coords(ix,:)*Mminv+shift,1));</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="stringliteral">        fprintf(fid,&#39;</span>%g %g %g\n<span class="stringliteral">&#39;,coords(ix,:)*Mminv+shift);</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="stringliteral">    else</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="stringliteral">        fprintf(fid,&#39;</span>%g %g %g\n<span class="stringliteral">&#39;,coords(ix,:));        </span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="stringliteral">    end    </span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="stringliteral">end</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="stringliteral">fclose(fid);</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="stringliteral">function chi2 = refineMatrix(H3,H,alpha,beta,gamma)</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="stringliteral">H(3,:) = H3.&#39;</span>;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<a class="code" href="virtual_goniometer_8m.html#a8dbb65f9831cbebb850c3699df003676">alphaP</a> = acos(<a class="code" href="read_c_f_g__qstem_8m.html#a85162b5d5e6736f5aa8616580d4e8a75">sum</a>(<a class="code" href="aberrations_8m.html#ad365b519e6265cb8d3e79c972dca3b66">H</a>(2,:).*<a class="code" href="aberrations_8m.html#ad365b519e6265cb8d3e79c972dca3b66">H</a>(3,:))/sqrt(<a class="code" href="read_c_f_g__qstem_8m.html#a85162b5d5e6736f5aa8616580d4e8a75">sum</a>(<a class="code" href="aberrations_8m.html#ad365b519e6265cb8d3e79c972dca3b66">H</a>(2,:).^2)*<a class="code" href="read_c_f_g__qstem_8m.html#a85162b5d5e6736f5aa8616580d4e8a75">sum</a>(<a class="code" href="aberrations_8m.html#ad365b519e6265cb8d3e79c972dca3b66">H</a>(3,:).^2)))*180/pi;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<a class="code" href="virtual_goniometer_8m.html#ad226f839cd3b45e2c5b363a4ab975386">betaP</a> =  acos(<a class="code" href="read_c_f_g__qstem_8m.html#a85162b5d5e6736f5aa8616580d4e8a75">sum</a>(<a class="code" href="aberrations_8m.html#ad365b519e6265cb8d3e79c972dca3b66">H</a>(1,:).*<a class="code" href="aberrations_8m.html#ad365b519e6265cb8d3e79c972dca3b66">H</a>(3,:))/sqrt(<a class="code" href="read_c_f_g__qstem_8m.html#a85162b5d5e6736f5aa8616580d4e8a75">sum</a>(<a class="code" href="aberrations_8m.html#ad365b519e6265cb8d3e79c972dca3b66">H</a>(1,:).^2)*<a class="code" href="read_c_f_g__qstem_8m.html#a85162b5d5e6736f5aa8616580d4e8a75">sum</a>(<a class="code" href="aberrations_8m.html#ad365b519e6265cb8d3e79c972dca3b66">H</a>(3,:).^2)))*180/pi;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;% <a class="code" href="convert2cfg_8m.html#a914b5878a579e7493e9475d9f37a5833">fprintf</a>(<span class="stringliteral">&#39;Angles of matrix: alpha = %.2f, beta = %.2f, gamma = %.2f n&#39;,alphaP,betaP,gammaP);
chi2 = 100000*(alphaP-alpha)^2+(betaP-beta)^2;
\n&#39;</span>,<a class="code" href="virtual_goniometer_8m.html#a8dbb65f9831cbebb850c3699df003676">alphaP</a>,<a class="code" href="virtual_goniometer_8m.html#ad226f839cd3b45e2c5b363a4ab975386">betaP</a>,gammaP);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<a class="code" href="qmb_8m.html#a7a7386b8044055e14b58efd949326489">chi2</a> = 100000*(<a class="code" href="virtual_goniometer_8m.html#a8dbb65f9831cbebb850c3699df003676">alphaP</a>-<a class="code" href="convert2cfg_8m.html#a62197192f0fbf4e0675eb37be1c4c175">alpha</a>)^2+(<a class="code" href="virtual_goniometer_8m.html#ad226f839cd3b45e2c5b363a4ab975386">betaP</a>-<a class="code" href="convert2cfg_8m.html#ab146b9cbab6e73e7588b240dc709fe01">beta</a>)^2;</div>
<div class="ttc" id="convert2cfg_8m_html_aa84c46fe58c25716d1f7605de8df3c23"><div class="ttname"><a href="convert2cfg_8m.html#aa84c46fe58c25716d1f7605de8df3c23">H11</a></div><div class="ttdeci">H11</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00158">convert2cfg.m:158</a></div></div>
<div class="ttc" id="_display_model_properties_8m_html_a912794af617f4685224d3fa0abd00c37"><div class="ttname"><a href="_display_model_properties_8m.html#a912794af617f4685224d3fa0abd00c37">arrays</a></div><div class="ttdeci">end end end The common display code that converts to plots from arrays</div><div class="ttdef"><b>Definition:</b> <a href="_display_model_properties_8m_source.html#l00455">DisplayModelProperties.m:455</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_a87b6a234dfb7fd69a3d6035bee37ed71"><div class="ttname"><a href="convert2cfg_8m.html#a87b6a234dfb7fd69a3d6035bee37ed71">commentline</a></div><div class="ttdeci">commentline</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00050">convert2cfg.m:50</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_a0bd56c3fc970360b866a574a6c0a3473"><div class="ttname"><a href="convert2cfg_8m.html#a0bd56c3fc970360b866a574a6c0a3473">row</a></div><div class="ttdeci">start a refinement to search for the correct matrix entries in the row</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00168">convert2cfg.m:168</a></div></div>
<div class="ttc" id="qstem_8m_html_a48673c39259e21125ccdd489d990c78e"><div class="ttname"><a href="qstem_8m.html#a48673c39259e21125ccdd489d990c78e">output</a></div><div class="ttdeci">handles output</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00063">qstem.m:63</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_a8d00631c9622112f1877fdb1222c242e"><div class="ttname"><a href="convert2cfg_8m.html#a8d00631c9622112f1877fdb1222c242e">gamma</a></div><div class="ttdeci">gamma</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00131">convert2cfg.m:131</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_accb90676408decb4be6591f6bc0664ca"><div class="ttname"><a href="convert2cfg_8m.html#accb90676408decb4be6591f6bc0664ca">dimension</a></div><div class="ttdeci">Retrieve the primary dimension(column) to be sorted.col</div></div>
<div class="ttc" id="binread2_d_8m_html_a6802a4975f2ff519ca7f69ffaf7fcdde"><div class="ttname"><a href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a></div><div class="ttdeci">function[img, t, dx, dy]</div><div class="ttdef"><b>Definition:</b> <a href="binread2_d_8m_source.html#l00001">binread2D.m:1</a></div></div>
<div class="ttc" id="qmb_8m_html_a7a7386b8044055e14b58efd949326489"><div class="ttname"><a href="qmb_8m.html#a7a7386b8044055e14b58efd949326489">chi2</a></div><div class="ttdeci">chi2</div><div class="ttdef"><b>Definition:</b> <a href="qmb_8m_source.html#l00441">qmb.m:441</a></div></div>
<div class="ttc" id="xyz2cfg_8m_html_a1576913944301b272a197d6e2931da94"><div class="ttname"><a href="xyz2cfg_8m.html#a1576913944301b272a197d6e2931da94">N</a></div><div class="ttdeci">shift N</div><div class="ttdef"><b>Definition:</b> <a href="xyz2cfg_8m_source.html#l00177">xyz2cfg.m:177</a></div></div>
<div class="ttc" id="virtual_goniometer_8m_html_ad226f839cd3b45e2c5b363a4ab975386"><div class="ttname"><a href="virtual_goniometer_8m.html#ad226f839cd3b45e2c5b363a4ab975386">betaP</a></div><div class="ttdeci">betaP</div><div class="ttdef"><b>Definition:</b> <a href="virtual_goniometer_8m_source.html#l00216">virtualGoniometer.m:216</a></div></div>
<div class="ttc" id="namespacepython_1_1potential_html_af887b24c78c0630197f05f84f19de90c"><div class="ttname"><a href="namespacepython_1_1potential.html#af887b24c78c0630197f05f84f19de90c">python.potential.f</a></div><div class="ttdeci">tuple f</div><div class="ttdef"><b>Definition:</b> <a href="potential_8py_source.html#l00133">potential.py:133</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_a0feca58bc91843177686656c1f828093"><div class="ttname"><a href="convert2cfg_8m.html#a0feca58bc91843177686656c1f828093">shiftVect</a></div><div class="ttdeci">sort the data according to atom type shiftVect</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00065">convert2cfg.m:65</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_ac7ab10c5cbfe66cb174be3993acdfca0"><div class="ttname"><a href="convert2cfg_8m.html#ac7ab10c5cbfe66cb174be3993acdfca0">H00</a></div><div class="ttdeci">coords aType H00</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00154">convert2cfg.m:154</a></div></div>
<div class="ttc" id="fileio__fftw3_8cpp_html_ac4cf4b2ab929bd23951a8676eeac086b"><div class="ttname"><a href="fileio__fftw3_8cpp.html#ac4cf4b2ab929bd23951a8676eeac086b">C</a></div><div class="ttdeci">#define C</div><div class="ttdef"><b>Definition:</b> <a href="fileio__fftw3_8cpp_source.html#l00224">fileio_fftw3.cpp:224</a></div></div>
<div class="ttc" id="_display_model_properties_8m_html_a634fdd7f6426b0a49817c39e9101a3c4"><div class="ttname"><a href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a></div><div class="ttdeci">end Determine what the user wants to see</div><div class="ttdef"><b>Definition:</b> <a href="_display_model_properties_8m_source.html#l00268">DisplayModelProperties.m:268</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_af87ca49659c81b8770a57f9955eb5ff1"><div class="ttname"><a href="convert2cfg_8m.html#af87ca49659c81b8770a57f9955eb5ff1">Mmd2</a></div><div class="ttdeci">Mmd2</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00095">convert2cfg.m:95</a></div></div>
<div class="ttc" id="qmb_8m_html_ad5a54bc5a2abedf790cf00f7c63f6235"><div class="ttname"><a href="qmb_8m.html#ad5a54bc5a2abedf790cf00f7c63f6235">atom</a></div><div class="ttdeci">specify type and mass of first atom(all others are the same) end fclose(fid)</div></div>
<div class="ttc" id="_displacement_params_8m_html_abae9a3ce1348fc8b6ab1330584bd5bea"><div class="ttname"><a href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a></div><div class="ttdeci">difference in</div><div class="ttdef"><b>Definition:</b> <a href="_displacement_params_8m_source.html#l00068">DisplacementParams.m:68</a></div></div>
<div class="ttc" id="virtual_goniometer_8m_html_a8dbb65f9831cbebb850c3699df003676"><div class="ttname"><a href="virtual_goniometer_8m.html#a8dbb65f9831cbebb850c3699df003676">alphaP</a></div><div class="ttdeci">alphaP</div><div class="ttdef"><b>Definition:</b> <a href="virtual_goniometer_8m_source.html#l00215">virtualGoniometer.m:215</a></div></div>
<div class="ttc" id="image_sim_8m_html_a6e1ec50d40620688cd6376e335851fa5"><div class="ttname"><a href="image_sim_8m.html#a6e1ec50d40620688cd6376e335851fa5">Cs</a></div><div class="ttdeci">handles Cs</div><div class="ttdef"><b>Definition:</b> <a href="image_sim_8m_source.html#l00422">imageSim.m:422</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_a37b5152701bbdfde1fcd3cf58d4fc032"><div class="ttname"><a href="convert2cfg_8m.html#a37b5152701bbdfde1fcd3cf58d4fc032">unitCell</a></div><div class="ttdeci">unitCell</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00125">convert2cfg.m:125</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_ac51b57a703ba1c5869228690c93e1701"><div class="ttname"><a href="convert2cfg_8m.html#ac51b57a703ba1c5869228690c93e1701">X</a></div><div class="ttdeci">X</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00255">convert2cfg.m:255</a></div></div>
<div class="ttc" id="image_sim_8m_html_acf66413b59082c95cc095f3e1373f608"><div class="ttname"><a href="image_sim_8m.html#acf66413b59082c95cc095f3e1373f608">uigetfile</a></div><div class="ttdeci">'*.img', 'Select set of wave functions','MultiSelect','on' uigetfile()</div></div>
<div class="ttc" id="image_sim_8m_html_aea4cc4bd8e43a7f8ebf9b0ee3da8d681"><div class="ttname"><a href="image_sim_8m.html#aea4cc4bd8e43a7f8ebf9b0ee3da8d681">comment</a></div><div class="ttdeci">comment</div><div class="ttdef"><b>Definition:</b> <a href="image_sim_8m_source.html#l00413">imageSim.m:413</a></div></div>
<div class="ttc" id="_display_model_properties_8m_html_adf54215d760dbf0f9fe5627a39015333"><div class="ttname"><a href="_display_model_properties_8m.html#adf54215d760dbf0f9fe5627a39015333">pos</a></div><div class="ttdeci">pos</div><div class="ttdef"><b>Definition:</b> <a href="_display_model_properties_8m_source.html#l00302">DisplayModelProperties.m:302</a></div></div>
<div class="ttc" id="qmb_8m_html_a4ccc18a0b93f562f455415ecee608339"><div class="ttname"><a href="qmb_8m.html#a4ccc18a0b93f562f455415ecee608339">writeCFG</a></div><div class="ttdeci">writeCFG(fileName, Mm, handles.atomPos(:, 4), handles.atomPos(:, 1:3),[0 0 0], 1, handles.atomPos(:, 5), handles.atomPos(:, 6))</div></div>
<div class="ttc" id="convert2cfg_8m_html_aea8eee85d5cbb354554d5625d1bbc2ad"><div class="ttname"><a href="convert2cfg_8m.html#aea8eee85d5cbb354554d5625d1bbc2ad">pathname</a></div><div class="ttdeci">function pathname</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00003">convert2cfg.m:3</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_a20fc5038c021fd98154bd49a45a0e238"><div class="ttname"><a href="convert2cfg_8m.html#a20fc5038c021fd98154bd49a45a0e238">max</a></div><div class="ttdeci">if max(pos)&lt; 1 natom</div></div>
<div class="ttc" id="qmb_8m_html_a3f5148a2cb27e0bbf68da5bed91b82e0"><div class="ttname"><a href="qmb_8m.html#a3f5148a2cb27e0bbf68da5bed91b82e0">fileparts</a></div><div class="ttdeci">handles.posFileName fileparts()</div></div>
<div class="ttc" id="convert2cfg_8m_html_a299397d854bef7eea9db8f6065ba6880"><div class="ttname"><a href="convert2cfg_8m.html#a299397d854bef7eea9db8f6065ba6880">end</a></div><div class="ttdeci">end[pathstr, oldfilename, ext]</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00008">convert2cfg.m:8</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_aebd1d90aba8ea0e93ba32de5293b3cf5"><div class="ttname"><a href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a></div><div class="ttdeci">end coords</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00081">convert2cfg.m:81</a></div></div>
<div class="ttc" id="_display_model_properties_8m_html_aa0f635e3dfa4fc088fb53982ec8a3d4d"><div class="ttname"><a href="_display_model_properties_8m.html#aa0f635e3dfa4fc088fb53982ec8a3d4d">scale</a></div><div class="ttdeci">in nm scale</div><div class="ttdef"><b>Definition:</b> <a href="_display_model_properties_8m_source.html#l00475">DisplayModelProperties.m:475</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_a5426bacb877a26d44d95d753f4927cf3"><div class="ttname"><a href="convert2cfg_8m.html#a5426bacb877a26d44d95d753f4927cf3">natom_temp</a></div><div class="ttdeci">end natom_temp</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00046">convert2cfg.m:46</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_ae76081fb2cef09480162f3c1b69dfbb2"><div class="ttname"><a href="convert2cfg_8m.html#ae76081fb2cef09480162f3c1b69dfbb2">Y</a></div><div class="ttdeci">end end function Y</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00184">convert2cfg.m:184</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_a2956b3c3c88e899db770033378d001fc"><div class="ttname"><a href="convert2cfg_8m.html#a2956b3c3c88e899db770033378d001fc">H01</a></div><div class="ttdeci">H01</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00155">convert2cfg.m:155</a></div></div>
<div class="ttc" id="aberrations_8m_html_a04774dc404c779e7ec799dca1b80083f"><div class="ttname"><a href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a></div><div class="ttdeci">Insert custom Title and Text if specified by the user be sure they are not easily confused with existing figure properties See the output of else</div><div class="ttdef"><b>Definition:</b> <a href="aberrations_8m_source.html#l00085">aberrations.m:85</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_a914b5878a579e7493e9475d9f37a5833"><div class="ttname"><a href="convert2cfg_8m.html#a914b5878a579e7493e9475d9f37a5833">fprintf</a></div><div class="ttdeci">fprintf('Comment:%s\n', commentline)</div></div>
<div class="ttc" id="qstem_8m_html_aeee9d3c55cddc06149a5f9799cd5232d"><div class="ttname"><a href="qstem_8m.html#aeee9d3c55cddc06149a5f9799cd5232d">value</a></div><div class="ttdeci">value</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00187">qstem.m:187</a></div></div>
<div class="ttc" id="binwrite2_d_8m_html_a6fbdf18a87d576fd409fa5a5718ea427"><div class="ttname"><a href="binwrite2_d_8m.html#a6fbdf18a87d576fd409fa5a5718ea427">t</a></div><div class="ttdeci">function t</div><div class="ttdef"><b>Definition:</b> <a href="binwrite2_d_8m_source.html#l00005">binwrite2D.m:5</a></div></div>
<div class="ttc" id="aberrations_8m_html_a0888783ccb240d8899f77cdcd85aa4b9"><div class="ttname"><a href="aberrations_8m.html#a0888783ccb240d8899f77cdcd85aa4b9">y</a></div><div class="ttdeci">y</div><div class="ttdef"><b>Definition:</b> <a href="aberrations_8m_source.html#l01233">aberrations.m:1233</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_ab74e6bf80237ddc4109968cedc58c151"><div class="ttname"><a href="convert2cfg_8m.html#ab74e6bf80237ddc4109968cedc58c151">name</a></div><div class="ttdeci">name</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00069">convert2cfg.m:69</a></div></div>
<div class="ttc" id="aberrations_8m_html_ad365b519e6265cb8d3e79c972dca3b66"><div class="ttname"><a href="aberrations_8m.html#ad365b519e6265cb8d3e79c972dca3b66">H</a></div><div class="ttdeci">function creates a new ABERRATIONS or raises the existing singleton * H</div><div class="ttdef"><b>Definition:</b> <a href="aberrations_8m_source.html#l00006">aberrations.m:6</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_ae48a38ace9ce3c77a9f874a13cb624bd"><div class="ttname"><a href="convert2cfg_8m.html#ae48a38ace9ce3c77a9f874a13cb624bd">H02</a></div><div class="ttdeci">H02</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00156">convert2cfg.m:156</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_af30278de8dab4c8bc6e28657bdf50d14"><div class="ttname"><a href="convert2cfg_8m.html#af30278de8dab4c8bc6e28657bdf50d14">buf</a></div><div class="ttdeci">buf</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00056">convert2cfg.m:56</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_a7492468b961995f6fd82e216c751bb37"><div class="ttname"><a href="convert2cfg_8m.html#a7492468b961995f6fd82e216c751bb37">a</a></div><div class="ttdeci">a</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00126">convert2cfg.m:126</a></div></div>
<div class="ttc" id="read_c_f_g__qstem_8m_html_a85162b5d5e6736f5aa8616580d4e8a75"><div class="ttname"><a href="read_c_f_g__qstem_8m.html#a85162b5d5e6736f5aa8616580d4e8a75">sum</a></div><div class="ttdeci">end if nargin&lt; 3 mode=1;endcoords=[];aType=[];DW=[];occ=[];charge=[];Mm=eye(3);if(1) clear readCFG_mex[pathname, filen, ext]=fileparts(fileName);filename2=[filen, ext];oldPath=pwd();cd(pathname);[a, Mm]=readCFG_mex(filename2);if sum(sum(isnan(a))) &gt; sum(sum(isnan(Mm))) &gt; 0 clear readCFG_mex fprintf('reading file a second time!\n')</div></div>
<div class="ttc" id="convert2cfg_8m_html_a7c0d4aa1bd1632355260db4db3a65d2d"><div class="ttname"><a href="convert2cfg_8m.html#a7c0d4aa1bd1632355260db4db3a65d2d">b</a></div><div class="ttdeci">b</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00064">convert2cfg.m:64</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_adb3fce483c086cdfed46db6894e052fd"><div class="ttname"><a href="convert2cfg_8m.html#adb3fce483c086cdfed46db6894e052fd">convert2cfg</a></div><div class="ttdeci">end convert2cfg</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00105">convert2cfg.m:105</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_a923d61728dac7c6dff07427a901c9ba9"><div class="ttname"><a href="convert2cfg_8m.html#a923d61728dac7c6dff07427a901c9ba9">positions</a></div><div class="ttdeci">Now look for the atomic positions</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00135">convert2cfg.m:135</a></div></div>
<div class="ttc" id="fileio__fftw3_8cpp_html_a955f504eccf76b4eb2489c0adab03121"><div class="ttname"><a href="fileio__fftw3_8cpp.html#a955f504eccf76b4eb2489c0adab03121">A</a></div><div class="ttdeci">#define A</div><div class="ttdef"><b>Definition:</b> <a href="fileio__fftw3_8cpp_source.html#l00222">fileio_fftw3.cpp:222</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_ab146b9cbab6e73e7588b240dc709fe01"><div class="ttname"><a href="convert2cfg_8m.html#ab146b9cbab6e73e7588b240dc709fe01">beta</a></div><div class="ttdeci">beta</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00130">convert2cfg.m:130</a></div></div>
<div class="ttc" id="aberrations___t_e_m_8m_html_aef29541a06b7f933d32a804307db13af"><div class="ttname"><a href="aberrations___t_e_m_8m.html#aef29541a06b7f933d32a804307db13af">s</a></div><div class="ttdeci">v &gt; 0 s()</div></div>
<div class="ttc" id="convert2cfg_8m_html_a75180f3a56b12e0ea7561b96f5583f33"><div class="ttname"><a href="convert2cfg_8m.html#a75180f3a56b12e0ea7561b96f5583f33">defaultanswer</a></div><div class="ttdeci">defaultanswer</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00071">convert2cfg.m:71</a></div></div>
<div class="ttc" id="aberrations_8m_html_a9d64efc26f20183fa57b389757578c0c"><div class="ttname"><a href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a></div><div class="ttdeci">sprintf('%.3f', 1e-3 *handles.c(2)))</div></div>
<div class="ttc" id="_read_d_m3___matlab_8m_html_aa8ef7bba54ee37a8beab56f5091c552f"><div class="ttname"><a href="_read_d_m3___matlab_8m.html#aa8ef7bba54ee37a8beab56f5091c552f">open</a></div><div class="ttdeci">open</div><div class="ttdef"><b>Definition:</b> <a href="_read_d_m3___matlab_8m_source.html#l00115">ReadDM3_Matlab.m:115</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_a422e4e22a48b9ea42c9dfe12b157229d"><div class="ttname"><a href="convert2cfg_8m.html#a422e4e22a48b9ea42c9dfe12b157229d">B</a></div><div class="ttdeci">Place the cells for this column in variable B B</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00265">convert2cfg.m:265</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_abc6d4b0a6102106533fc2e29fbb8c8e1"><div class="ttname"><a href="convert2cfg_8m.html#abc6d4b0a6102106533fc2e29fbb8c8e1">error</a></div><div class="ttdeci">end Check to see if too many arguments were input If there were then exit the function issuing a error message to the user elseif nargin error('Too many input arguments supplied.Only two are allowed.')</div></div>
<div class="ttc" id="convert2cfg_8m_html_ac6daf47a997fb1c7d59c3d0fd79e14e2"><div class="ttname"><a href="convert2cfg_8m.html#ac6daf47a997fb1c7d59c3d0fd79e14e2">Mm</a></div><div class="ttdeci">Mm</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00085">convert2cfg.m:85</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_a2902a7a983ab04c79cae2162ad553481"><div class="ttname"><a href="convert2cfg_8m.html#a2902a7a983ab04c79cae2162ad553481">type</a></div><div class="ttdeci">type(k1, 1:2)</div></div>
<div class="ttc" id="convert2cfg_8m_html_a8ccbb97e13e2694cd089ea35a4a18fd0"><div class="ttname"><a href="convert2cfg_8m.html#a8ccbb97e13e2694cd089ea35a4a18fd0">H12</a></div><div class="ttdeci">H12</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00159">convert2cfg.m:159</a></div></div>
<div class="ttc" id="qmb_8m_html_acb0bf34e5a38d0484b1e3e24b8106f52"><div class="ttname"><a href="qmb_8m.html#acb0bf34e5a38d0484b1e3e24b8106f52">strcmp</a></div><div class="ttdeci">if strcmp(ext,'.img')[img</div></div>
<div class="ttc" id="qmb_8m_html_aa32473e7c2134539f1ba31d78099a876"><div class="ttname"><a href="qmb_8m.html#aa32473e7c2134539f1ba31d78099a876">find</a></div><div class="ttdeci">find((handles.atomPos(:, 1) &gt; x1)&amp;(handles.atomPos(:, 1)&lt; x2)&amp;(handles.atomPos(:, 2) &gt; y1)&amp;(handles.atomPos(:, 2)&lt; y2)&amp;(handles.atomPos(:, 4)==Zsel))]</div></div>
<div class="ttc" id="_read_d_m3___matlab_8m_html_aef88e249863a4190b6062bbf8fa5c656"><div class="ttname"><a href="_read_d_m3___matlab_8m.html#aef88e249863a4190b6062bbf8fa5c656">Tags</a></div><div class="ttdeci">Tags</div><div class="ttdef"><b>Definition:</b> <a href="_read_d_m3___matlab_8m_source.html#l00134">ReadDM3_Matlab.m:134</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_abf75d0e474a103d59888210782ff8baf"><div class="ttname"><a href="convert2cfg_8m.html#abf75d0e474a103d59888210782ff8baf">modal</a></div><div class="ttdeci">end modal</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00105">convert2cfg.m:105</a></div></div>
<div class="ttc" id="aberrations_8m_html_a84c455b54a16f1c540f6abcc5b858393"><div class="ttname"><a href="aberrations_8m.html#a84c455b54a16f1c540f6abcc5b858393">x</a></div><div class="ttdeci">x</div><div class="ttdef"><b>Definition:</b> <a href="aberrations_8m_source.html#l01231">aberrations.m:1231</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_a3a352c2235a269bac37d1a34a19cde48"><div class="ttname"><a href="convert2cfg_8m.html#a3a352c2235a269bac37d1a34a19cde48">sv</a></div><div class="ttdeci">sv</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00075">convert2cfg.m:75</a></div></div>
<div class="ttc" id="draw_c_f_g_8m_html_af5cfcebd7c554a530c18ff3b636ccc75"><div class="ttname"><a href="draw_c_f_g_8m.html#af5cfcebd7c554a530c18ff3b636ccc75">supplied</a></div><div class="ttdeci">end if no second argument is supplied</div><div class="ttdef"><b>Definition:</b> <a href="draw_c_f_g_8m_source.html#l00013">drawCFG.m:13</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_af54b44244fe4a858a27959384ba826e7"><div class="ttname"><a href="convert2cfg_8m.html#af54b44244fe4a858a27959384ba826e7">atomName</a></div><div class="ttdeci">atomName</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00013">convert2cfg.m:13</a></div></div>
<div class="ttc" id="virtual_goniometer_8m_html_a658ea266fd3baee1bdd483b9117e9f54"><div class="ttname"><a href="virtual_goniometer_8m.html#a658ea266fd3baee1bdd483b9117e9f54">zeros</a></div><div class="ttdeci">3 zeros()</div></div>
<div class="ttc" id="convert2cfg_8m_html_add57aad399f787c409167e1b6d30ea8a"><div class="ttname"><a href="convert2cfg_8m.html#add57aad399f787c409167e1b6d30ea8a">~isempty</a></div><div class="ttdeci">if ~isempty(sv)</div></div>
<div class="ttc" id="qmb_8m_html_a0afda3603b043ac6b7362fdee225631e"><div class="ttname"><a href="qmb_8m.html#a0afda3603b043ac6b7362fdee225631e">file</a></div><div class="ttdeci">end if disp('User pressed cancel') return end end%get the current grain index read the file[coords, aType, Mm, DW, occ, charge]</div><div class="ttdef"><b>Definition:</b> <a href="qmb_8m_source.html#l01122">qmb.m:1122</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_a2036d620df36b0f50226fce21a5d989d"><div class="ttname"><a href="convert2cfg_8m.html#a2036d620df36b0f50226fce21a5d989d">strncmp</a></div><div class="ttdeci">end while strncmp(fgets(fid),'CELL', 4)</div></div>
<div class="ttc" id="convert2cfg_8m_html_ab97515cda1e3e845e080f5f32a67fd09"><div class="ttname"><a href="convert2cfg_8m.html#ab97515cda1e3e845e080f5f32a67fd09">Output</a></div><div class="ttdeci">end end function if no dimension array is supplied Output</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00184">convert2cfg.m:184</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_ad84e19307a43d3f799a4daeef0a6484a"><div class="ttname"><a href="convert2cfg_8m.html#ad84e19307a43d3f799a4daeef0a6484a">prompt</a></div><div class="ttdeci">prompt</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00068">convert2cfg.m:68</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_ae0323a9039add2978bf5b49550572c7c"><div class="ttname"><a href="convert2cfg_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a></div><div class="ttdeci">c</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00128">convert2cfg.m:128</a></div></div>
<div class="ttc" id="image_sim_8m_html_a454532bd4d96c4531eb16b4052fefbe4"><div class="ttname"><a href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a></div><div class="ttdeci">Read if the corresponding checkbox is on</div><div class="ttdef"><b>Definition:</b> <a href="image_sim_8m_source.html#l00477">imageSim.m:477</a></div></div>
<div class="ttc" id="write_c_f_g_8m_html_ac16738663da61b835844f663e221d53c"><div class="ttname"><a href="write_c_f_g_8m.html#ac16738663da61b835844f663e221d53c">shift</a></div><div class="ttdeci">shift shift</div><div class="ttdef"><b>Definition:</b> <a href="write_c_f_g_8m_source.html#l00017">writeCFG.m:17</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_a62197192f0fbf4e0675eb37be1c4c175"><div class="ttname"><a href="convert2cfg_8m.html#a62197192f0fbf4e0675eb37be1c4c175">alpha</a></div><div class="ttdeci">alpha</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00129">convert2cfg.m:129</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_abe1a4654a886b56b76d377ffc86f3dcc"><div class="ttname"><a href="convert2cfg_8m.html#abe1a4654a886b56b76d377ffc86f3dcc">k1</a></div><div class="ttdeci">for k1</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00054">convert2cfg.m:54</a></div></div>
<div class="ttc" id="_read_d_m3___matlab_8m_html_a788f12e84a4147fbec966d469221fb80"><div class="ttname"><a href="_read_d_m3___matlab_8m.html#a788f12e84a4147fbec966d469221fb80">cell</a></div><div class="ttdeci">1, 10 cell()</div></div>
<div class="ttc" id="convert2cfg_8m_html_af3c3447c812ef57e7ea08bba5454a11c"><div class="ttname"><a href="convert2cfg_8m.html#af3c3447c812ef57e7ea08bba5454a11c">Date</a></div><div class="ttdeci">end end function if no dimension array is supplied Note that this function has only been tested on mixed cell arrays containing character strings and numeric values Documentation Date</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00184">convert2cfg.m:184</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_a45b983dd2f4e0bb03cbbe01107a10677"><div class="ttname"><a href="convert2cfg_8m.html#a45b983dd2f4e0bb03cbbe01107a10677">H21</a></div><div class="ttdeci">H21</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00161">convert2cfg.m:161</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_a27dd74db90774bfbbd4ed72ae89229a6"><div class="ttname"><a href="convert2cfg_8m.html#a27dd74db90774bfbbd4ed72ae89229a6">natom</a></div><div class="ttdeci">natom</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00048">convert2cfg.m:48</a></div></div>
<div class="ttc" id="_read_d_m3___matlab_8m_html_a1aabac6d068eef6a7bad3fdf50a05cc8"><div class="ttname"><a href="_read_d_m3___matlab_8m.html#a1aabac6d068eef6a7bad3fdf50a05cc8">d</a></div><div class="ttdeci">d</div><div class="ttdef"><b>Definition:</b> <a href="_read_d_m3___matlab_8m_source.html#l00067">ReadDM3_Matlab.m:67</a></div></div>
<div class="ttc" id="qmb_8m_html_a7c5cd0264da47e230ba8c984690fe16c"><div class="ttname"><a href="qmb_8m.html#a7c5cd0264da47e230ba8c984690fe16c">atoms</a></div><div class="ttdeci">determine selected atoms</div><div class="ttdef"><b>Definition:</b> <a href="qmb_8m_source.html#l00708">qmb.m:708</a></div></div>
<div class="ttc" id="_displacement_params_8m_html_accc427d493facd9d795029ff42af0392"><div class="ttname"><a href="_displacement_params_8m.html#accc427d493facd9d795029ff42af0392">Z</a></div><div class="ttdeci">if reference or target Z</div><div class="ttdef"><b>Definition:</b> <a href="_displacement_params_8m_source.html#l00168">DisplacementParams.m:168</a></div></div>
<div class="ttc" id="_displacement_params_8m_html_a01a4e1016a69f35833aabe42f9174645"><div class="ttname"><a href="_displacement_params_8m.html#a01a4e1016a69f35833aabe42f9174645">ind</a></div><div class="ttdeci">ind</div><div class="ttdef"><b>Definition:</b> <a href="_displacement_params_8m_source.html#l00199">DisplacementParams.m:199</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_a09bd674312d24c22b58c21bcdea95d95"><div class="ttname"><a href="convert2cfg_8m.html#a09bd674312d24c22b58c21bcdea95d95">Updated</a></div><div class="ttdeci">end end function if no dimension array is supplied Note that this function has only been tested on mixed cell arrays containing character strings and numeric values Documentation DFO Canada Creation Last Updated</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00184">convert2cfg.m:184</a></div></div>
<div class="ttc" id="aberrations_8m_html_aa2fa5ea275f5d08a1f7ca407861c4be1"><div class="ttname"><a href="aberrations_8m.html#aa2fa5ea275f5d08a1f7ca407861c4be1">No</a></div><div class="ttdeci">get(hObject,'CurrentKey' No()</div></div>
<div class="ttc" id="convert2cfg_8m_html_a7b9c3d619ad7365ec6434713e76142e8"><div class="ttname"><a href="convert2cfg_8m.html#a7b9c3d619ad7365ec6434713e76142e8">fid</a></div><div class="ttdeci">fid</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00116">convert2cfg.m:116</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_a739cface9f02228d027b700ba47386cc"><div class="ttname"><a href="convert2cfg_8m.html#a739cface9f02228d027b700ba47386cc">z_shift</a></div><div class="ttdeci">creates the dialog box the user input is stored into a cell array z_shift</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00074">convert2cfg.m:74</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_a801d4e56dc468c6e1087515b8363c3db"><div class="ttname"><a href="convert2cfg_8m.html#a801d4e56dc468c6e1087515b8363c3db">isequal</a></div><div class="ttdeci">if isequal(full_filename, 0)||isequal(pathname</div></div>
<div class="ttc" id="convert2cfg_8m_html_a230dc0282515afc8139e7baf1843e845"><div class="ttname"><a href="convert2cfg_8m.html#a230dc0282515afc8139e7baf1843e845">cellSize</a></div><div class="ttdeci">creates the dialog box the user input is stored into a cell array cellSize</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00094">convert2cfg.m:94</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_acb65e003f967dd898ad0b68195201fb4"><div class="ttname"><a href="convert2cfg_8m.html#acb65e003f967dd898ad0b68195201fb4">aType</a></div><div class="ttdeci">aType(natom)</div></div>
<div class="ttc" id="qstem_8m_html_aa69b855535fb9f147c5d81cf768d60ba"><div class="ttname"><a href="qstem_8m.html#aa69b855535fb9f147c5d81cf768d60ba">delimiter</a></div><div class="ttdeci">return end s delimiter</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00178">qstem.m:178</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_a5a114b6d8185a4180659b5e181b9c7bf"><div class="ttname"><a href="convert2cfg_8m.html#a5a114b6d8185a4180659b5e181b9c7bf">if</a></div><div class="ttdeci">if(strcmp(ext,'.xyz')==1)%z_shift</div></div>
<div class="ttc" id="draw_xtal_8m_html_aea0df6bd97b74a896449172868baa58b"><div class="ttname"><a href="draw_xtal_8m.html#aea0df6bd97b74a896449172868baa58b">r</a></div><div class="ttdeci">r</div><div class="ttdef"><b>Definition:</b> <a href="draw_xtal_8m_source.html#l00041">drawXtal.m:41</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_aabbdf768a12d7ff279a05a15db19fa61"><div class="ttname"><a href="convert2cfg_8m.html#aabbdf768a12d7ff279a05a15db19fa61">length</a></div><div class="ttdeci">end if length(sv) &gt; 1</div></div>
<div class="ttc" id="convert2cfg_8m_html_a9717e7bbecb906637e86cef6da3d83c2"><div class="ttname"><a href="convert2cfg_8m.html#a9717e7bbecb906637e86cef6da3d83c2">return</a></div><div class="ttdeci">if return</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00005">convert2cfg.m:5</a></div></div>
<div class="ttc" id="_read_d_m3___matlab_8m_html_a0e9c2d135a8f15e6539173a79e5c1532"><div class="ttname"><a href="_read_d_m3___matlab_8m.html#a0e9c2d135a8f15e6539173a79e5c1532">http</a></div><div class="ttdeci">along with its pixel scale a description of the entire tree will be written to the console and also to the file F July Code was based on the description by Greg Jefferis at http</div><div class="ttdef"><b>Definition:</b> <a href="_read_d_m3___matlab_8m_source.html#l00008">ReadDM3_Matlab.m:8</a></div></div>
<div class="ttc" id="cif_lexer_8h_html_afc3d101f633a076cc1ca84b85b6224b2"><div class="ttname"><a href="cif_lexer_8h.html#afc3d101f633a076cc1ca84b85b6224b2">TAG</a></div><div class="ttdeci">#define TAG</div><div class="ttdef"><b>Definition:</b> <a href="cif_lexer_8h_source.html#l00408">cifLexer.h:408</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_ad4ef775b9bd3dace2b8188ded8c71fa0"><div class="ttname"><a href="convert2cfg_8m.html#ad4ef775b9bd3dace2b8188ded8c71fa0">DIM</a></div><div class="ttdeci">end DIM</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00230">convert2cfg.m:230</a></div></div>
<div class="ttc" id="image_sim_8m_html_a2bc2c45f22146a64d1dc561fac7e60c1"><div class="ttname"><a href="image_sim_8m.html#a2bc2c45f22146a64d1dc561fac7e60c1">it</a></div><div class="ttdeci">end for it</div><div class="ttdef"><b>Definition:</b> <a href="image_sim_8m_source.html#l01123">imageSim.m:1123</a></div></div>
<div class="ttc" id="read_c_f_g__qstem_8m_html_a552eedb796e4ec274fe617b434bf69b2"><div class="ttname"><a href="read_c_f_g__qstem_8m.html#a552eedb796e4ec274fe617b434bf69b2">box</a></div><div class="ttdeci">end box</div><div class="ttdef"><b>Definition:</b> <a href="read_c_f_g__qstem_8m_source.html#l00045">readCFG_qstem.m:45</a></div></div>
<div class="ttc" id="qmb_8m_html_a0c0ef75e700415c282f9c5ba379897f3"><div class="ttname"><a href="qmb_8m.html#a0c0ef75e700415c282f9c5ba379897f3">errordlg</a></div><div class="ttdeci">'Please load a crystal structure first!' errordlg()</div></div>
<div class="ttc" id="convert2cfg_8m_html_a1a3091fb7347c8f640f7b03687dadd44"><div class="ttname"><a href="convert2cfg_8m.html#a1a3091fb7347c8f640f7b03687dadd44">filename</a></div><div class="ttdeci">filename</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00011">convert2cfg.m:11</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_a7cec22fd326288e5df0dadf886d5d919"><div class="ttname"><a href="convert2cfg_8m.html#a7cec22fd326288e5df0dadf886d5d919">array</a></div><div class="ttdeci">end Get the dimensions of the input cell array[nrows, ncols]</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00259">convert2cfg.m:259</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_adaf2296b0af0af8d6d31aa11f288b107"><div class="ttname"><a href="convert2cfg_8m.html#adaf2296b0af0af8d6d31aa11f288b107">msgbox</a></div><div class="ttdeci">else msgbox(sprintf('Error creating cfg file%s.cfg', filename),'convert2cfg','modal')</div></div>
<div class="ttc" id="convert2cfg_8m_html_affb2a9d3d10246a82c5e1ee2d7f37e93"><div class="ttname"><a href="convert2cfg_8m.html#affb2a9d3d10246a82c5e1ee2d7f37e93">H20</a></div><div class="ttdeci">H20</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00160">convert2cfg.m:160</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_a6ce0c0e420d3168a558d4739ee18db84"><div class="ttname"><a href="convert2cfg_8m.html#a6ce0c0e420d3168a558d4739ee18db84">Mmd</a></div><div class="ttdeci">Mmd</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00084">convert2cfg.m:84</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_a7f9b12e953d2678415a3d421f36ae4d6"><div class="ttname"><a href="convert2cfg_8m.html#a7f9b12e953d2678415a3d421f36ae4d6">nargin</a></div><div class="ttdeci">end end function if no dimension array is supplied Note that this function has only been tested on mixed cell arrays containing character strings and numeric values Documentation DFO Canada Creation Last Check to see if no input arguments were supplied If this is the stop execution and output an error message to the user if nargin</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00221">convert2cfg.m:221</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_a5f84f51058cdb4f43c29d2c875659f42"><div class="ttname"><a href="convert2cfg_8m.html#a5f84f51058cdb4f43c29d2c875659f42">fclose</a></div><div class="ttdeci">end fclose(fid)</div></div>
<div class="ttc" id="convert2cfg_8m_html_aec0f3296464d8361abe37f60d5496c2f"><div class="ttname"><a href="convert2cfg_8m.html#aec0f3296464d8361abe37f60d5496c2f">H10</a></div><div class="ttdeci">H10</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00157">convert2cfg.m:157</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_af2f323caad11c790b60b05a6916887c3"><div class="ttname"><a href="convert2cfg_8m.html#af2f323caad11c790b60b05a6916887c3">numlines</a></div><div class="ttdeci">numlines</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00070">convert2cfg.m:70</a></div></div>
<div class="ttc" id="_read_d_m3___matlab_8m_html_a8626f0bba659e1b0b2d966d226f378a9"><div class="ttname"><a href="_read_d_m3___matlab_8m.html#a8626f0bba659e1b0b2d966d226f378a9">found</a></div><div class="ttdeci">found</div><div class="ttdef"><b>Definition:</b> <a href="_read_d_m3___matlab_8m_source.html#l00033">ReadDM3_Matlab.m:33</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_a047ec35c736a4c006e21f58b70f7a325"><div class="ttname"><a href="convert2cfg_8m.html#a047ec35c736a4c006e21f58b70f7a325">H22</a></div><div class="ttdeci">H22</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00162">convert2cfg.m:162</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_e82970921ac3c6c3e512b9c67e4ee58d.html">GUI_Matlab</a></li><li class="navelem"><a class="el" href="convert2cfg_8m.html">convert2cfg.m</a></li>
    <li class="footer">Generated on Fri Jul 4 2014 10:51:36 for qstem by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
