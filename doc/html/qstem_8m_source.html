<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>qstem: GUI_Matlab/qstem.m Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">qstem
   </div>
   <div id="projectbrief">multislice simulation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('qstem_8m_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">qstem.m</div>  </div>
</div><!--header-->
<div class="contents">
<a href="qstem_8m.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno"><a class="line" href="qstem_8m.html#acc89f64219ddae53243030f2c645fc06">    1</a></span>&#160;<span class="keyword">function</span> <a class="code" href="qstem_8m.html#acc89f64219ddae53243030f2c645fc06">varargout</a> = qstem(varargin)</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;% QSTEM <a class="code" href="_displacement_params_8m.html#aad05f78187c942f9dd521605fa81f1ba">M</a>-<a class="code" href="qmb_8m.html#a0afda3603b043ac6b7362fdee225631e">file</a> for qstem.fig</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;%      QSTEM, by <a class="code" href="qstem_8m.html#a831a3e1133c41b364b824dcb52ee0f9a">itself</a>, creates <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> new QSTEM or raises the existing</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;%      singleton*.</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;%</div>
<div class="line"><a name="l00006"></a><span class="lineno"><a class="line" href="qstem_8m.html#aef0523293d85d8c1f99022d66a6755fe">    6</a></span>&#160;%      <a class="code" href="qstem_8m.html#aef0523293d85d8c1f99022d66a6755fe">H</a> = QSTEM returns the handle to <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> new QSTEM or the handle to</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;%      the existing singleton*.</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;%</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;%      QSTEM(&#39;CALLBACK&#39;,<a class="code" href="_displacement_params_8m.html#a6e69a2e6c16546a1aba75e0422487e55">hObject</a>,eventData,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>,...) calls the local</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;%      <a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> named CALLBACK <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> QSTEM.<a class="code" href="_displacement_params_8m.html#aad05f78187c942f9dd521605fa81f1ba">M</a> with the given input arguments.</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;%</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;%      QSTEM(&#39;Property&#39;,&#39;<a class="code" href="_display_model_properties_8m.html#aa3e85bcc21f31fb262e8662d5e2a8764">Value</a>&#39;,...) creates <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> new QSTEM or raises the</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;%      existing singleton*.  Starting from the left, property <a class="code" href="qstem_8m.html#aeee9d3c55cddc06149a5f9799cd5232d">value</a> pairs</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;%      are</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;%      applied to the GUI before qstem_OpeningFunction gets called.  An</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;%      unrecognized property <a class="code" href="convert2cfg_8m.html#ab74e6bf80237ddc4109968cedc58c151">name</a> or invalid <a class="code" href="qstem_8m.html#aeee9d3c55cddc06149a5f9799cd5232d">value</a> makes property</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;%      application</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;%      stop.  All inputs are passed to qstem_OpeningFcn via varargin.</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;%</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;%      *See GUI Options <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> GUIDE&#39;<a class="code" href="aberrations___t_e_m_8m.html#aef29541a06b7f933d32a804307db13af">s</a> Tools menu.  Choose &quot;GUI allows only one</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;%      instance to run (singleton)&quot;.</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;%</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;% See also: GUIDE, GUIDATA, GUIHANDLES</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;% Edit the above text to modify the response to help qstem</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;% Last Modified by GUIDE v2.5 14-Apr-2011 11:25:47</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;% Begin initialization code - DO NOT EDIT</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;gui_Singleton = 1;</div>
<div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="qstem_8m.html#a7506770ddc5001ea5b440dff1bafbac3">   31</a></span>&#160;<a class="code" href="qstem_8m.html#a7506770ddc5001ea5b440dff1bafbac3">gui_State</a> = <span class="keyword">struct</span>(<span class="stringliteral">&#39;gui_Name&#39;</span>,       mfilename, ...</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;                   <span class="stringliteral">&#39;gui_Singleton&#39;</span>,  gui_Singleton, ...</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;                   <span class="stringliteral">&#39;gui_OpeningFcn&#39;</span>, @qstem_OpeningFcn, ...</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;                   <span class="stringliteral">&#39;gui_OutputFcn&#39;</span>,  @qstem_OutputFcn, ...</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;                   <span class="stringliteral">&#39;gui_LayoutFcn&#39;</span>,  [] , ...</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;                   <span class="stringliteral">&#39;gui_Callback&#39;</span>,   []);</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keywordflow">if</span> <a class="code" href="convert2cfg_8m.html#a7f9b12e953d2678415a3d421f36ae4d6">nargin</a> &amp;&amp; <a class="code" href="qstem_8m.html#aae1d1bec0e9c36c2fddc5cd87d8c4eee">ischar</a>(varargin{1})</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <a class="code" href="qstem_8m.html#a7506770ddc5001ea5b440dff1bafbac3">gui_State</a>.gui_Callback = str2func(varargin{1});</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keywordflow">if</span> <a class="code" href="qstem_8m.html#a9b07119da70fc4a54e0d1cb5751d69aa">nargout</a></div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="qstem_8m.html#a9b07119da70fc4a54e0d1cb5751d69aa">   42</a></span>&#160;    [varargout{1:nargout}] = <a class="code" href="qstem_8m.html#a58f7f5bb8af524fdfac53ec31e329e3f">gui_mainfcn</a>(<a class="code" href="qstem_8m.html#a7506770ddc5001ea5b440dff1bafbac3">gui_State</a>, varargin{:});</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keywordflow">else</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <a class="code" href="qstem_8m.html#a58f7f5bb8af524fdfac53ec31e329e3f">gui_mainfcn</a>(<a class="code" href="qstem_8m.html#a7506770ddc5001ea5b440dff1bafbac3">gui_State</a>, varargin{:});</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;% End initialization code - DO NOT EDIT</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;% --- Executes just before qstem is made visible.</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> qstem_OpeningFcn(<a class="code" href="_displacement_params_8m.html#a6e69a2e6c16546a1aba75e0422487e55">hObject</a>, <a class="code" href="aberrations___t_e_m_8m.html#a5f0afe6204672342221604c5c8eb3887">eventdata</a>, <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>, varargin)</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;% This <a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> has no <a class="code" href="qstem_8m.html#a48673c39259e21125ccdd489d990c78e">output</a> <a class="code" href="qstem_8m.html#aa75144726b375b93ecfc08810e5b5f09">args</a>, <a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> OutputFcn.</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;% <a class="code" href="_displacement_params_8m.html#a6e69a2e6c16546a1aba75e0422487e55">hObject</a>    handle to <a class="code" href="_display_model_properties_8m.html#a391e34f2de441d79152a7b3d6e4c9c86">figure</a></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;% <a class="code" href="aberrations___t_e_m_8m.html#a5f0afe6204672342221604c5c8eb3887">eventdata</a>  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;% <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>    structure with <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a> and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;% varargin   command line arguments to qstem (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> VARARGIN)</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;% Choose default command line <a class="code" href="qstem_8m.html#a48673c39259e21125ccdd489d990c78e">output</a> for qstem</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="qstem_8m.html#ae5457ac188407029525dae0d288f5060">modeNum</a> = 1;</div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="qstem_8m.html#aabea1a308e18fee00cc3a9031f079ba6">   59</a></span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.mode    = <span class="stringliteral">&#39;STEM&#39;</span>;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="qstem_8m.html#a48673c39259e21125ccdd489d990c78e">   63</a></span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.output = <a class="code" href="_displacement_params_8m.html#a6e69a2e6c16546a1aba75e0422487e55">hObject</a>;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="qstem_8m.html#acccc912fa0b7ba0b666fb82aebe54fbf">   65</a></span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.binPath = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="qstem_8m.html#a640cf21e47202d08dbf043e3923f8bbb">   66</a></span>&#160;% Root: HKLM; Subkey: <span class="stringliteral">&quot;SOFTWARE\TEM Solutions\QSTEM&quot;</span>; ValueType: string; ValueName: <span class="stringliteral">&quot;Installation Directory&quot;</span>; ValueData: <span class="stringliteral">&quot;{app}&quot;</span></div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">   67</a></span>&#160;% <span class="keywordflow">try</span>, <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.binPath  = winqueryreg(<span class="stringliteral">&#39;HKEY_LOCAL_MACHINE&#39;</span>, <span class="stringliteral">&#39;SOFTWARE\TEM Solutions\QSTEM&#39;</span>, <span class="stringliteral">&#39;Installation Directory&#39;</span>); <span class="keywordflow">catch</span>, <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.binPath  = pwd; <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">   70</a></span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>           = <a class="code" href="image_sim_8m.html#a3620c5808f65103e456213a81d95e7e3">readAllFields</a>(<a class="code" href="_displacement_params_8m.html#a6e69a2e6c16546a1aba75e0422487e55">hObject</a>, <a class="code" href="aberrations___t_e_m_8m.html#a5f0afe6204672342221604c5c8eb3887">eventdata</a>, <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(gcf,<span class="stringliteral">&#39;Name&#39;</span>,<span class="stringliteral">&#39;qstem V2.3&#39;</span>);</div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="qstem_8m.html#aef05d27f63c3f06ffb0342ae902906b1">   72</a></span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Mm        = eye(3);</div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="qstem_8m.html#a23c769480a12d8abe44e71c8fac1dcda">   73</a></span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Detectors = [70.0 200.0 0 0; 0.0 40.0 0 0];  % initialize 1: ADF, 2: BF </div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.atomPos   = [];</div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="qstem_8m.html#ac7fc17789f8e6f13fadaf928820310b8">   75</a></span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.RbboxHandle     = -1;</div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="qstem_8m.html#a5a7a04041b8d36231b865f8c9b07cd40">   76</a></span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.saveLevel     = 0;</div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="qstem_8m.html#a24e096d96b8b76611e893ddd6c372ae5">   77</a></span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.printLevel    = 2;</div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="qstem_8m.html#a771570fcbf7eebdfa7d620704a8789a0">   78</a></span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.atomRadius    = 5.0;</div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="qstem_8m.html#a2627b1fe484f7e86e38deba8dabb27ed">   79</a></span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.savePotential = 0;</div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="qstem_8m.html#ab6c80af39fbd1e06e09585d244dc28ce">   80</a></span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.saveTotalPotential = 0;</div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="qstem_8m.html#a05446d3838f219de184194c1dca0dc0e">   81</a></span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.propProgInterval = 10;</div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="qstem_8m.html#a286321d6d000730b555812c3c9ae8645">   82</a></span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.potProgInterval  = 1000;</div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">   83</a></span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.a = <a class="code" href="virtual_goniometer_8m.html#a658ea266fd3baee1bdd483b9117e9f54">zeros</a>(6);</div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="qstem_8m.html#a4cab01967e6dc75a4286ba256777ac55">   84</a></span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.phi = <a class="code" href="virtual_goniometer_8m.html#a658ea266fd3baee1bdd483b9117e9f54">zeros</a>(6);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<a class="code" href="qstem_8m.html#a4601dee94a634bce7491d70448dbafb5">cla</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.axes_model);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.axes_model,<span class="stringliteral">&#39;YDir&#39;</span>,<span class="stringliteral">&#39;reverse&#39;</span>);</div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="qstem_8m.html#a09bb454984385122db7f31c4d15310a9">   87</a></span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.atomSize = 15;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.edit_atomSize,<span class="stringliteral">&#39;String&#39;</span>,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.atomSize);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="qstem_8m.html#af1af0cd7fd83b66990bde283570f23ea">   90</a></span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.configPath = pwd();</div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="qstem_8m.html#aa908f49ed8bb16422becc0d8785fac72">   91</a></span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.configFile = <span class="stringliteral">&#39;qstem.qsc&#39;</span>;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="keywordflow">if</span> (<a class="code" href="convert2cfg_8m.html#aabbdf768a12d7ff279a05a15db19fa61">length</a>(varargin) &gt; 0)</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    inputFile = varargin{1};</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordflow">if</span> <a class="code" href="qstem_8m.html#ad23232aca9449743c8dbb4e79af48bd4">isempty</a>(findstr(inputFile,<span class="stringliteral">&#39;:\&#39;))</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="stringliteral">        inputFile = fullfile(pwd(),inputFile);</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="stringliteral">    end</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="stringliteral">    fprintf(&#39;</span>Starting configuration: %<a class="code" href="aberrations___t_e_m_8m.html#aef29541a06b7f933d32a804307db13af">s</a>\n<span class="stringliteral">&#39;,inputFile);</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="stringliteral">    [filepath,filename,ext] = fileparts(inputFile);</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="stringliteral">    handles.configPath = filepath;</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="stringliteral">    % cd(filepath);</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="stringliteral">    </span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="stringliteral">    if (ext == &#39;</span>.cfg<span class="stringliteral">&#39;) % load a model</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="stringliteral">        handles.posFileName = varargin{1};</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="stringliteral">        handles = pushbuttonLoadModel_Callback(hObject, eventdata, handles,0);</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="stringliteral">    else % load a simulation config</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="stringliteral">        handles.configFile = [filename, ext];</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="stringliteral">        handles = pushbutton_LoadConfigFile_Callback(hObject, eventdata, handles,0);        </span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="stringliteral">    end</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="stringliteral">end</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="stringliteral">% Update handles structure</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="stringliteral">guidata(hObject, handles);</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="stringliteral">% UIWAIT makes qstem wait for user response (see UIRESUME)</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="stringliteral">% uiwait(handles.figure1);</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="stringliteral">% --- Outputs from this function are returned to the command line.</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="stringliteral">function varargout = qstem_OutputFcn(hObject, eventdata, handles) </span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="stringliteral">% varargout  cell array for returning output args (see VARARGOUT);</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="stringliteral">% hObject    handle to figure</span></div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="qstem_8m.html#a7c1ef7386988a8ccd4761d8428895842">  124</a></span>&#160;<span class="stringliteral">% eventdata  reserved - to be defined in a future version of MATLAB</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="stringliteral">% handles    structure with handles and user data (see GUIDATA)</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="stringliteral">% Get default command line output from handles structure</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="stringliteral">if nargout &gt; 0</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="stringliteral">    varargout{1} = handles.output;</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="stringliteral">end</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="stringliteral">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="stringliteral">% --- Executes on button press in pushbutton_LoadConfigFile.</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="stringliteral">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="stringliteral">function handles = pushbutton_LoadConfigFile_Callback(hObject, eventdata, handles,askUser)</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="stringliteral">if (nargin &lt; 4)</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="stringliteral">    askUser = 1;</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="stringliteral">end</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="stringliteral">configFile = fullfile(handles.configPath, handles.configFile);</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="stringliteral">% handles = readConfigFile(configFile,handles,askUser)</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="stringliteral">% if we use the above function we only need to keep those lines below which</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="stringliteral">% set the controls values.</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="stringliteral">pathname = handles.configPath;</span></div>
<div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="qstem_8m.html#a1a3091fb7347c8f640f7b03687dadd44">  148</a></span>&#160;<span class="stringliteral">filename = handles.configFile;</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="stringliteral">if (askUser)</span></div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="qstem_8m.html#a9de6303e6ac6d19c016afd7d700038cc">  151</a></span>&#160;<span class="stringliteral">    [filename, pathname] = uigetfile({&#39;</span>*.qsc;*.dat<span class="stringliteral">&#39;, &#39;</span>QSTEM simulation config <a class="code" href="qmb_8m.html#a0afda3603b043ac6b7362fdee225631e">file</a> (*.qsc, *.dat)<span class="stringliteral">&#39;;...</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="stringliteral">        &#39;</span>*.*<span class="stringliteral">&#39;, &#39;</span>All files (*.*)<span class="stringliteral">&#39;},...</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="stringliteral">        &#39;</span>Select <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> <a class="code" href="qmb_8m.html#a0afda3603b043ac6b7362fdee225631e">file</a><span class="stringliteral">&#39;,configFile);</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="stringliteral">    if isequal(filename,0) || isequal(pathname,0)</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="stringliteral">        % disp(&#39;</span>User pressed cancel<span class="stringliteral">&#39;)</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="stringliteral">        return;</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="stringliteral">    end</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="stringliteral">    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="stringliteral">    % if a valid file has been selected:</span></div>
<div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="qstem_8m.html#aa6941f884e278157f98a91b064426421">  160</a></span>&#160;<span class="stringliteral">    configFile = fullfile(pathname, filename);</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="stringliteral">    handles.configPath = pathname;</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="stringliteral">    handles.configFile = filename;</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="stringliteral">end</span></div>
<div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="qstem_8m.html#ab4171a1cd001f6152db76555a7e11abf">  164</a></span>&#160;<span class="stringliteral">oldPath = pwd();</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="stringliteral">cd(pathname)</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="stringliteral">fid = fopen(filename);</span></div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="qstem_8m.html#a7b9c3d619ad7365ec6434713e76142e8">  167</a></span>&#160;<span class="stringliteral">if fid == -1</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="stringliteral">    % Display message box only if the user has selected the file:</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="stringliteral">    if (askUser)</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="stringliteral">        msgbox(sprintf(&#39;</span>Could not <a class="code" href="_read_d_m3___matlab_8m.html#aa8ef7bba54ee37a8beab56f5091c552f">open</a> <a class="code" href="qmb_8m.html#a0afda3603b043ac6b7362fdee225631e">file</a> %s\n<span class="stringliteral">&#39;,configFile));</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="stringliteral">    end</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="stringliteral">    cd(oldPath);</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="stringliteral">    return</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="stringliteral">end</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="stringliteral">% mode:  STEM</span></div>
<div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="qstem_8m.html#a94410fa84a6efa7c64c1f760371d51d1">  178</a></span>&#160;<span class="stringliteral">C = textscan(fid,&#39;</span>%<a class="code" href="aberrations___t_e_m_8m.html#aef29541a06b7f933d32a804307db13af">s</a>%<a class="code" href="qstem_8m.html#a94410fa84a6efa7c64c1f760371d51d1">q</a><span class="charliteral">&#39;,&#39;</span><a class="code" href="qstem_8m.html#aa69b855535fb9f147c5d81cf768d60ba">delimiter</a><span class="charliteral">&#39;,&#39;</span>:<span class="charliteral">&#39;,&#39;</span><a class="code" href="qstem_8m.html#aa064a786a62e1b3fb2238737759d64a1">commentStyle</a><span class="charliteral">&#39;,&#39;</span>%<span class="stringliteral">&#39;);</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="stringliteral">fclose(fid);</span></div>
<div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="qstem_8m.html#a02047256d4e9ac823a61154c81f29277">  180</a></span>&#160;<span class="stringliteral">pNames  = C{1};</span></div>
<div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="qstem_8m.html#a294329680de5531cf5c925c1003a5ec8">  181</a></span>&#160;<span class="stringliteral">pValues = C{2};</span></div>
<div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="qstem_8m.html#ae4589a396f9cbc019e49f9ff62548fcf">  182</a></span>&#160;<span class="stringliteral">Nparams = length(pNames);</span></div>
<div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="qstem_8m.html#aad9214e0b85e8827c27e156ed68b23cd">  183</a></span>&#160;<span class="stringliteral">nameLen = 0;</span></div>
<div class="line"><a name="l00184"></a><span class="lineno"><a class="line" href="qstem_8m.html#aee368d5df3f4d3fecbbfbc4853cd368a">  184</a></span>&#160;<span class="stringliteral">valueLen  = 0;</span></div>
<div class="line"><a name="l00185"></a><span class="lineno"><a class="line" href="qstem_8m.html#ac86694252f8dfdb19aaeadc4b7c342c6">  185</a></span>&#160;<span class="stringliteral">for j=1:Nparams</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="stringliteral">    name  = cell2mat(pNames(j));</span></div>
<div class="line"><a name="l00187"></a><span class="lineno"><a class="line" href="qstem_8m.html#aeee9d3c55cddc06149a5f9799cd5232d">  187</a></span>&#160;<span class="stringliteral">    value = sscanf(cell2mat(pValues(j)),&#39;</span>%<a class="code" href="aberrations___t_e_m_8m.html#aef29541a06b7f933d32a804307db13af">s</a><span class="stringliteral">&#39;,1);</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="stringliteral">    if nameLen &lt; length(name), nameLen = length(name); end</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="stringliteral">    if valueLen &lt; length(value), valueLen = length(value); end</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="stringliteral">    % nval  = str2num(value);</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="stringliteral">    % fprintf(&#39;</span>%<a class="code" href="_read_d_m3___matlab_8m.html#a1aabac6d068eef6a7bad3fdf50a05cc8">d</a>: %<a class="code" href="aberrations___t_e_m_8m.html#aef29541a06b7f933d32a804307db13af">s</a>: %<a class="code" href="aberrations___t_e_m_8m.html#aef29541a06b7f933d32a804307db13af">s</a> (%<a class="code" href="namespacepython_1_1potential.html#af887b24c78c0630197f05f84f19de90c">f</a>)\n<span class="stringliteral">&#39;,j,name,value,nval);</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="stringliteral">end</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="stringliteral">nameArray = zeros(Nparams,nameLen);</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="stringliteral">for j=1:Nparams</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="stringliteral">    name  = cell2mat(pNames(j));</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="stringliteral">    nameArray(j,1:length(name)) = name;</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="stringliteral">end</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="stringliteral">% nameArray</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="stringliteral">% determine the index for the parameter that defines the mode STEM:</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="stringliteral">% seekStr = [&#39;</span><a class="code" href="qstem_8m.html#aabea1a308e18fee00cc3a9031f079ba6">mode</a><span class="stringliteral">&#39; zeros(1,nameLen-length(&#39;</span><a class="code" href="qstem_8m.html#aabea1a308e18fee00cc3a9031f079ba6">mode</a><span class="stringliteral">&#39;))];</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="stringliteral">% indPar = find(sum(nameArray-repmat(seekStr,Nparams,1),2) == 0);</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="stringliteral">% value = sscanf(cell2mat(pValues(indPar)),&#39;</span>%<a class="code" href="aberrations___t_e_m_8m.html#aef29541a06b7f933d32a804307db13af">s</a><span class="stringliteral">&#39;,1);</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="stringliteral">value = extractParam(&#39;</span><a class="code" href="qstem_8m.html#aabea1a308e18fee00cc3a9031f079ba6">mode</a><span class="stringliteral">&#39;,nameArray,pValues);</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="stringliteral">if strcmp(value,&#39;</span><a class="code" href="stemtypes__fftw3_8hpp.html#ae37055f0823281ce47997ab6602bb607">STEM</a><span class="stringliteral">&#39;) == 1</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="stringliteral">    handles.mode = &#39;</span><a class="code" href="stemtypes__fftw3_8hpp.html#ae37055f0823281ce47997ab6602bb607">STEM</a><span class="stringliteral">&#39;;</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="stringliteral">    handles.modeNum = 1;</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="stringliteral">    set(handles.uipanel_ScanningWindow,&#39;</span>Title<span class="charliteral">&#39;,&#39;</span>Scan Window<span class="stringliteral">&#39;);</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="stringliteral">    set(handles.radiobutton_STEM,&#39;</span><a class="code" href="_display_model_properties_8m.html#aa3e85bcc21f31fb262e8662d5e2a8764">Value</a><span class="stringliteral">&#39;,1);</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="stringliteral">elseif strcmp(value,&#39;</span><a class="code" href="stemtypes__fftw3_8hpp.html#a5abef251d47456e7981e8f1ae7ba2a9a">TEM</a><span class="stringliteral">&#39;) == 1</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="stringliteral">    handles.mode = &#39;</span><a class="code" href="stemtypes__fftw3_8hpp.html#a5abef251d47456e7981e8f1ae7ba2a9a">TEM</a><span class="stringliteral">&#39;;</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="stringliteral">    handles.modeNum = 0;</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="stringliteral">    % set(handles.uipanel_ScanningWindow,&#39;</span>Title<span class="charliteral">&#39;,&#39;</span>Center<span class="stringliteral">&#39;);</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="stringliteral">    set(handles.radiobutton_TEM,&#39;</span><a class="code" href="_display_model_properties_8m.html#aa3e85bcc21f31fb262e8662d5e2a8764">Value</a><span class="stringliteral">&#39;,1);</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="stringliteral">elseif strcmp(value,&#39;</span><a class="code" href="stemtypes__fftw3_8hpp.html#a26fa01bb4b36ffed75910f878e99cadc">CBED</a><span class="stringliteral">&#39;) == 1</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="stringliteral">    handles.mode = &#39;</span><a class="code" href="stemtypes__fftw3_8hpp.html#a26fa01bb4b36ffed75910f878e99cadc">CBED</a><span class="stringliteral">&#39;;</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="stringliteral">    handles.modeNum = 2;</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="stringliteral">    % set(handles.uipanel_ScanningWindow,&#39;</span>Title<span class="charliteral">&#39;,&#39;</span>Center<span class="stringliteral">&#39;);</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="stringliteral">    set(handles.radiobutton_CBED,&#39;</span><a class="code" href="_display_model_properties_8m.html#aa3e85bcc21f31fb262e8662d5e2a8764">Value</a><span class="stringliteral">&#39;,1);</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="stringliteral">else</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="stringliteral">    msgbox(&#39;</span>This <a class="code" href="qmb_8m.html#a0afda3603b043ac6b7362fdee225631e">file</a> does not seem to be <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> valid input <a class="code" href="qmb_8m.html#a0afda3603b043ac6b7362fdee225631e">file</a><span class="stringliteral">&#39;);</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="stringliteral">    cd(oldPath);</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="stringliteral">    return</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="stringliteral">end</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="stringliteral">% fprintf(&#39;</span>Verified configuration <span class="keywordflow">for</span> <a class="code" href="stemtypes__fftw3_8hpp.html#ae37055f0823281ce47997ab6602bb607">STEM</a> <a class="code" href="qstem_8m.html#aabea1a308e18fee00cc3a9031f079ba6">mode</a>!\n<span class="stringliteral">&#39;);</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="stringliteral">handles.posFileName = extractParam(&#39;</span><a class="code" href="qstem_8m.html#a1a3091fb7347c8f640f7b03687dadd44">filename</a><span class="stringliteral">&#39;,nameArray,pValues);</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="stringliteral">handles.NcellX = str2num(extractParam(&#39;</span>NCELLX<span class="stringliteral">&#39;,nameArray,pValues));</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="stringliteral">handles.NcellY = str2num(extractParam(&#39;</span>NCELLY<span class="stringliteral">&#39;,nameArray,pValues));</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="stringliteral">value = extractParam(&#39;</span>NCELLZ<span class="stringliteral">&#39;,nameArray,pValues);</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="stringliteral">if isempty(findstr(value,&#39;</span>/<span class="stringliteral">&#39;))</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="stringliteral">    handles.NcellZ = str2num(value);</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="stringliteral">    handles.NsubSlabs = 1;</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="stringliteral">else</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="stringliteral">    ind = findstr(value,&#39;</span>/<span class="stringliteral">&#39;);</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="stringliteral">    handles.NcellZ = str2num(value(1:ind(1)-1));</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="stringliteral">    handles.NsubSlabs = str2num(value(ind(1)+1:end));</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="stringliteral">end</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="stringliteral">handles.Nslice = str2num(extractParam(&#39;</span>slices<span class="stringliteral">&#39;,nameArray,pValues));</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="stringliteral">handles.PotentialOffsetX = str2num(extractParam(&#39;</span>xOffset<span class="stringliteral">&#39;,nameArray,pValues));</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="stringliteral">handles.PotentialOffsetY = str2num(extractParam(&#39;</span>yOffset<span class="stringliteral">&#39;,nameArray,pValues));</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="stringliteral">handles.PotentialOffsetZ = str2num(extractParam(&#39;</span>zOffset<span class="stringliteral">&#39;,nameArray,pValues));</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="stringliteral">handles.SliceThickness = str2num(extractParam(&#39;</span>slice-<a class="code" href="_display_model_properties_8m.html#a938f8aa70d7f49a21679ad582b6d4ffb">thickness</a>&#39;,nameArray,<a class="code" href="qstem_8m.html#a294329680de5531cf5c925c1003a5ec8">pValues</a>));</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.CenterSlices = 0;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<a class="code" href="qstem_8m.html#aeee9d3c55cddc06149a5f9799cd5232d">value</a> = extractParam(<span class="stringliteral">&#39;center slices&#39;</span>,nameArray,<a class="code" href="qstem_8m.html#a294329680de5531cf5c925c1003a5ec8">pValues</a>);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="keywordflow">if</span> <a class="code" href="qstem_8m.html#aeee9d3c55cddc06149a5f9799cd5232d">value</a>(1) == <span class="charliteral">&#39;y&#39;</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.CenterSlices = 1;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.checkbox_CenterSlices,<span class="stringliteral">&#39;Value&#39;</span>,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.CenterSlices);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;% Periodicity of super-<a class="code" href="_read_d_m3___matlab_8m.html#a788f12e84a4147fbec966d469221fb80">cell</a>:</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;handles.PeriodicZ = 0;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.PeriodicXY = 0;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<a class="code" href="qstem_8m.html#aeee9d3c55cddc06149a5f9799cd5232d">value</a> = extractParam(<span class="stringliteral">&#39;periodicXY&#39;</span>,nameArray,<a class="code" href="qstem_8m.html#a294329680de5531cf5c925c1003a5ec8">pValues</a>);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="keywordflow">if</span> <a class="code" href="qstem_8m.html#aeee9d3c55cddc06149a5f9799cd5232d">value</a>(1) == <span class="charliteral">&#39;y&#39;</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.PeriodicXY = 1;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.checkbox_PeriodicXY,<span class="stringliteral">&#39;Value&#39;</span>,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.PeriodicXY);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<a class="code" href="qstem_8m.html#aeee9d3c55cddc06149a5f9799cd5232d">value</a> = extractParam(<span class="stringliteral">&#39;periodicZ&#39;</span>,nameArray,<a class="code" href="qstem_8m.html#a294329680de5531cf5c925c1003a5ec8">pValues</a>);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="keywordflow">if</span> <a class="code" href="qstem_8m.html#aeee9d3c55cddc06149a5f9799cd5232d">value</a>(1) == <span class="charliteral">&#39;y&#39;</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.PeriodicZ = 1;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.checkbox_PeriodicZ,<span class="stringliteral">&#39;Value&#39;</span>,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.PeriodicZ);</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;% number of cells:</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.edit_NcellX,<span class="stringliteral">&#39;String&#39;</span>,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(<span class="stringliteral">&#39;%d&#39;</span>,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.NcellX));</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.edit_NcellY,<span class="stringliteral">&#39;String&#39;</span>,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(<span class="stringliteral">&#39;%d&#39;</span>,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.NcellY));</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.edit_NcellZ,<span class="stringliteral">&#39;String&#39;</span>,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(<span class="stringliteral">&#39;%d&#39;</span>,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.NcellZ));</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.edit_NsubSlabs,<span class="stringliteral">&#39;String&#39;</span>,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(<span class="stringliteral">&#39;%d&#39;</span>,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.NsubSlabs));</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.edit_Nslice,<span class="stringliteral">&#39;String&#39;</span>,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(<span class="stringliteral">&#39;%d&#39;</span>,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Nslice));</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.edit_PotentialOffsetZ,<span class="stringliteral">&#39;String&#39;</span>,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(<span class="stringliteral">&#39;%.3f&#39;</span>,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.PotentialOffsetZ));</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.edit_PotentialOffsetY,<span class="stringliteral">&#39;String&#39;</span>,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(<span class="stringliteral">&#39;%.3f&#39;</span>,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.PotentialOffsetY));</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.edit_PotentialOffsetX,<span class="stringliteral">&#39;String&#39;</span>,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(<span class="stringliteral">&#39;%.3f&#39;</span>,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.PotentialOffsetX));</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.NsliceTot      = <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.NsubSlabs*<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Nslice;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.text_NsliceTot,<span class="stringliteral">&#39;String&#39;</span>,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(<span class="stringliteral">&#39;(Total: %d)&#39;</span>,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.NsliceTot));</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;% TDS settings</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.TDS = 0;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<a class="code" href="qstem_8m.html#aeee9d3c55cddc06149a5f9799cd5232d">value</a> = extractParam(<span class="stringliteral">&#39;tds&#39;</span>,nameArray,<a class="code" href="qstem_8m.html#a294329680de5531cf5c925c1003a5ec8">pValues</a>);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="keywordflow">if</span> <a class="code" href="qstem_8m.html#aeee9d3c55cddc06149a5f9799cd5232d">value</a>(1) == <span class="charliteral">&#39;y&#39;</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.TDS = 1;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.checkbox_TDS,<span class="stringliteral">&#39;Value&#39;</span>,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.TDS);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Temperature = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(extractParam(<span class="stringliteral">&#39;temperature&#39;</span>,nameArray,<a class="code" href="qstem_8m.html#a294329680de5531cf5c925c1003a5ec8">pValues</a>));</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.TDSruns = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(extractParam(<span class="stringliteral">&#39;Runs for averaging&#39;</span>,nameArray,<a class="code" href="qstem_8m.html#a294329680de5531cf5c925c1003a5ec8">pValues</a>));</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;% extract Box definition:</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.radiobutton_Ncells,<span class="stringliteral">&#39;Value&#39;</span>,1);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.BoxMode = 0;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<a class="code" href="qstem_8m.html#aeee9d3c55cddc06149a5f9799cd5232d">value</a> = extractParam(<span class="stringliteral">&#39;Cube&#39;</span>,nameArray,<a class="code" href="qstem_8m.html#a294329680de5531cf5c925c1003a5ec8">pValues</a>);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="keywordflow">if</span> <a class="code" href="convert2cfg_8m.html#add57aad399f787c409167e1b6d30ea8a">~isempty</a>(<a class="code" href="qstem_8m.html#aeee9d3c55cddc06149a5f9799cd5232d">value</a>)</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="qmb_8m.html#a13f76be53ff17401f7d3d4ed11b8ea45">BoxX</a> = <a class="code" href="qstem_8m.html#aeee9d3c55cddc06149a5f9799cd5232d">value</a>(1);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="qmb_8m.html#aec6c8f052b22d3766d849e2feba40010">BoxY</a> = value(2);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.BoxZ = value(3);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.radiobutton_Box,&#39;<a class="code" href="_display_model_properties_8m.html#aa3e85bcc21f31fb262e8662d5e2a8764">Value</a>&#39;,1);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.edit_NcellX,&#39;<a class="code" href="aberrations_8m.html#a57845f93c6d3079cc203a7f78506f171">String</a>&#39;,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="qmb_8m.html#a13f76be53ff17401f7d3d4ed11b8ea45">BoxX</a>);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.edit_NcellY,&#39;String&#39;,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="qmb_8m.html#aec6c8f052b22d3766d849e2feba40010">BoxY</a>);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.edit_NcellZ,&#39;String&#39;,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.BoxZ);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.SliceThickness == 0</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.SliceThickness = <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.BoxZ/<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.NsliceTot;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.BoxMode = 1;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.text_Nx,&#39;String&#39;,&#39;Box:         <a class="code" href="image_sim_8m.html#a8fa675eb2fcec5b95d9d21c670da7f30">ax</a>:&#39;);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.text_Ny,&#39;String&#39;,&#39;by:&#39;);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.text_Nz,&#39;String&#39;,&#39;cz:&#39;);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.SliceThickness == 0</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.SliceThickness = <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="qstem_8m.html#aef05d27f63c3f06ffb0342ae902906b1">Mm</a>(3,3)*<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.NcellZ/<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.NsliceTot;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.edit_SliceThickness,&#39;String&#39;,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;%.4<a class="code" href="namespacepython_1_1potential.html#af887b24c78c0630197f05f84f19de90c">f</a>&#39;,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.SliceThickness));</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="image_sim_8m.html#a9453345457e3f32823308485e91ea707">TiltX</a> = 180/pi*<a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(extractParam(&#39;Crystal tilt <a class="code" href="convert2cfg_8m.html#ac51b57a703ba1c5869228690c93e1701">X</a>&#39;,nameArray,<a class="code" href="qstem_8m.html#a294329680de5531cf5c925c1003a5ec8">pValues</a>));</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="image_sim_8m.html#a2e693f713f9e8de2e4ac5d82f5ebfe4b">TiltY</a> = 180/pi*<a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(extractParam(&#39;Crystal tilt <a class="code" href="convert2cfg_8m.html#ae76081fb2cef09480162f3c1b69dfbb2">Y</a>&#39;,nameArray,pValues));</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.TiltZ = 180/pi*<a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(extractParam(&#39;Crystal tilt <a class="code" href="_displacement_params_8m.html#accc427d493facd9d795029ff42af0392">Z</a>&#39;,nameArray,pValues));</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.BeamTiltX = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(extractParam(&#39;Beam tilt X&#39;,nameArray,pValues));</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.BeamTiltY = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(extractParam(&#39;Beam tilt Y&#39;,nameArray,pValues));</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;value = extractParam(&#39;<a class="code" href="image_sim_8m.html#a67f88f0d593aadb8fec844297e059599">Tilt</a> back&#39;,nameArray,pValues);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> value(1) == &#39;<a class="code" href="aberrations_8m.html#a0888783ccb240d8899f77cdcd85aa4b9">y</a>&#39;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.TiltBack = 1;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.AstigMag = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(extractParam(&#39;astigmatism&#39;,nameArray,pValues));</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.AstigAngle = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(extractParam(&#39;astigmatism <a class="code" href="image_sim_8m.html#aa5cd282e26bde51def39bb437904248d">angle</a>&#39;,nameArray,pValues));</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.edit_TiltX,&#39;String&#39;,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="image_sim_8m.html#a9453345457e3f32823308485e91ea707">TiltX</a>);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.edit_TiltY,&#39;String&#39;,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="image_sim_8m.html#a2e693f713f9e8de2e4ac5d82f5ebfe4b">TiltY</a>);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.edit_TiltZ,&#39;String&#39;,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.TiltZ);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.edit_BtiltX,&#39;String&#39;,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.BeamTiltX);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.edit_BtiltY,&#39;String&#39;,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.BeamTiltY);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.checkbox_TiltBack,&#39;Value&#39;,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.TiltBack);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.edit_AstigMag,&#39;String&#39;,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.AstigMag);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.edit_AstigAngle,&#39;String&#39;,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.AstigAngle);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;% microscope <a class="code" href="draw_xtal_8m.html#aeb6159906f64d5f1b8476454468f5af3">parameters</a>:</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="aberrations_8m.html#aa14d72173e9599e9e2ea02e5eefb9422">HighVoltage</a> = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(extractParam(&#39;v0&#39;,nameArray,pValues));</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.edit_HighVoltage,&#39;String&#39;,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="aberrations_8m.html#aa14d72173e9599e9e2ea02e5eefb9422">HighVoltage</a>);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Wavelength = wavelength(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.HighVoltage);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.text_wavelength,&#39;String&#39;,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;kV    (wavelength = %.2fpm)&#39;,100*<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Wavelength));</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;value = extractParam(&#39;<a class="code" href="sim_image_from_wave_8m.html#a656d5e61939acabefd422775c5d110f1">defocus</a>&#39;,nameArray,pValues);</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="image_sim_8m.html#a095451ad095fab975004df8fa1925cb8">Defocus</a> = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(value);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> abs(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="image_sim_8m.html#a095451ad095fab975004df8fa1925cb8">Defocus</a>) &lt; 1</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.edit_Defocus,&#39;String&#39;,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;%.4f&#39;,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="image_sim_8m.html#a095451ad095fab975004df8fa1925cb8">Defocus</a>));</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.edit_Defocus,&#39;String&#39;,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;%.1f&#39;,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Defocus));</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="convert2cfg_8m.html#a62197192f0fbf4e0675eb37be1c4c175">alpha</a> = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(extractParam(&#39;<a class="code" href="convert2cfg_8m.html#a62197192f0fbf4e0675eb37be1c4c175">alpha</a>&#39;,nameArray,pValues));</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.edit_alpha,&#39;String&#39;,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.alpha);</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="aberrations_8m.html#af6b128bfb9b22174e084962314cd68c2">C3</a> = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(extractParam(&#39;<a class="code" href="image_sim_8m.html#a6e1ec50d40620688cd6376e335851fa5">Cs</a>&#39;,nameArray,pValues));</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.edit_C3,&#39;String&#39;,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="aberrations_8m.html#af6b128bfb9b22174e084962314cd68c2">C3</a>);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.edit_AstigMag,&#39;String&#39;,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.AstigMag);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.edit_AstigAngle,&#39;String&#39;,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.AstigAngle);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.edit_C3,&#39;String&#39;,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.C3);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.edit_alpha,&#39;String&#39;,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.alpha);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.C5 = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(extractParam(&#39;C5&#39;,nameArray,pValues));  % C5 <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> mm</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="aberrations_8m.html#a9a0c48d58e082211052c49509165f1db">c</a>(6) = 1e7*<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.C5;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;% <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.edit_C5,&#39;String&#39;,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.C5);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;% other aberrations:</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;% Write all the other aberrations as <a class="code" href="image_sim_8m.html#a2fd56ce4970b3332e6c626b31607b782">well</a>:</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;for <a class="code" href="_display_model_properties_8m.html#a76b405b72b88bde9488209ac06ddb714">ix</a>=3:6</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    for <a class="code" href="_display_model_properties_8m.html#af4c5cec9fce175f73b7da5ecd33c2af6">iy</a>=1:6</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        % str = <a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;<a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a>[%<a class="code" href="_read_d_m3___matlab_8m.html#a1aabac6d068eef6a7bad3fdf50a05cc8">d</a>,%d]&#39;,<a class="code" href="_display_model_properties_8m.html#a76b405b72b88bde9488209ac06ddb714">ix</a>,<a class="code" href="_display_model_properties_8m.html#af4c5cec9fce175f73b7da5ecd33c2af6">iy</a>);</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        % str = <a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;a_%d%d&#39;,ix,iy);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        value = extractParam(<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;a_%d%d&#39;,ix,iy),nameArray,pValues);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        % <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="qmb_8m.html#acb0bf34e5a38d0484b1e3e24b8106f52">strcmp</a>(value,&#39;0&#39;) == 0</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(value) &gt; 0</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;            <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a>(ix,iy) = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(value);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;            % <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="qstem_8m.html#a4cab01967e6dc75a4286ba256777ac55">phi</a>(ix,iy) = pi/180*<a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(extractParam(<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;<a class="code" href="qstem_8m.html#a4cab01967e6dc75a4286ba256777ac55">phi</a>[%d,%d]&#39;,ix,iy),nameArray,pValues));</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="qstem_8m.html#a4cab01967e6dc75a4286ba256777ac55">phi</a>(ix,iy) = pi/180*<a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(extractParam(<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;phi_%d%d&#39;,ix,iy),nameArray,pValues));</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;            % <a class="code" href="qstem_8m.html#ae78618edac03dcbe434c7a42daf5bcee">fprintf</a>(&#39;Found: <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a>(%d,%d) = %g, <a class="code" href="qstem_8m.html#a4cab01967e6dc75a4286ba256777ac55">phi</a> = %g\n&#39;,ix,iy,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a>(ix,iy),<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="qstem_8m.html#a4cab01967e6dc75a4286ba256777ac55">phi</a>(ix,iy));</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;% Cc <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> mm:</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Cc   = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(extractParam(&#39;Cc&#39;,nameArray,pValues));</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.dE_E = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(extractParam(&#39;dV/V&#39;,nameArray,pValues));</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.dE    = <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.dE_E*<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.HighVoltage*1<a class="code" href="qmb_8m.html#ada985816ea79ac4451f0f552d48090e5">e3</a>;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.edit_dE,&#39;String&#39;,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.dE);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;% <a class="code" href="image_sim_8m.html#a15f1a96dd5e77ed931110fbb52692049">Delta</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="_display_model_properties_8m.html#ab15b62bce31d4d4d1314fd7533fce833">nm</a>:</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="image_sim_8m.html#a15f1a96dd5e77ed931110fbb52692049">Delta</a>   = <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Cc*1e3*<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.dE/<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.HighVoltage;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;% folder and <a class="code" href="qstem_8m.html#a48673c39259e21125ccdd489d990c78e">output</a> <a class="code" href="qmb_8m.html#a02eacfd40be9042ceb0f07547365203d">options</a>:</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.SlicesBetweenOutputs = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(extractParam(&#39;slices between outputs&#39;,nameArray,pValues));</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.OutputFolder = extractParam(&#39;Folder&#39;,nameArray,pValues);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.edit_OutputFolder,&#39;String&#39;,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.OutputFolder);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.edit_SlicesBetweenOutputs,&#39;String&#39;,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.SlicesBetweenOutputs);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;% Read the coordinates:</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;% Load the structure model:</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;% check to <a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> whether the <a class="code" href="qmb_8m.html#a0afda3603b043ac6b7362fdee225631e">file</a> needs extension by the path of the</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;% config <a class="code" href="qmb_8m.html#a0afda3603b043ac6b7362fdee225631e">file</a>:</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<a class="code" href="qstem_8m.html#a1a3091fb7347c8f640f7b03687dadd44">filename</a> = fullfile(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="qstem_8m.html#af1af0cd7fd83b66990bde283570f23ea">configPath</a>,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="_display_model_properties_8m.html#addd102b0e03af2114c4c0c229debaf4d">posFileName</a>);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<a class="code" href="qstem_8m.html#a7b9c3d619ad7365ec6434713e76142e8">fid</a> = fopen(<a class="code" href="qstem_8m.html#a1a3091fb7347c8f640f7b03687dadd44">filename</a>);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="qstem_8m.html#a7b9c3d619ad7365ec6434713e76142e8">fid</a> ~= -1</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.posFileName = filename;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <a class="code" href="qstem_8m.html#a5d04349061ee763f85034acb36ce935d">fclose</a>(<a class="code" href="qstem_8m.html#a7b9c3d619ad7365ec6434713e76142e8">fid</a>);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<a class="code" href="qstem_8m.html#a9d144cda3d92caf15dfa24a69905c654">cd</a>(<a class="code" href="qstem_8m.html#ab4171a1cd001f6152db76555a7e11abf">oldPath</a>);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> (0)</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    [<a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a>, <a class="code" href="_display_model_properties_8m.html#ad4a8ac3c7026e0e2e13426103c839cb7">aType</a>, Mm,<a class="code" href="_display_model_properties_8m.html#ae436dbba71d976b0111c531939f54e66">DW</a>,<a class="code" href="_display_model_properties_8m.html#a14685678a932a690bb677ca0be6b191a">occ</a>,<a class="code" href="_display_model_properties_8m.html#a9f9b7255ba6680c145f9c08ebf2bc024">charge</a>] = readCFG_qstem(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.posFileName,[0 0 0],0);</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="qstem_8m.html#ad23232aca9449743c8dbb4e79af48bd4">isempty</a>(coords)</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <a class="code" href="convert2cfg_8m.html#adaf2296b0af0af8d6d31aa11f288b107">msgbox</a>(<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;Could not <a class="code" href="_read_d_m3___matlab_8m.html#aa8ef7bba54ee37a8beab56f5091c552f">open</a> .cfg <a class="code" href="qmb_8m.html#a0afda3603b043ac6b7362fdee225631e">file</a> %<a class="code" href="aberrations___t_e_m_8m.html#aef29541a06b7f933d32a804307db13af">s</a>!&#39;,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.posFileName));</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.uipanel_model,&#39;Title&#39;,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;Model: %s&#39;,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.posFileName));</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="qmb_8m.html#aea9102df42c96670313e90f848e15c9e">atomPos</a> = [aType coords DW occ <a class="code" href="_display_model_properties_8m.html#a9f9b7255ba6680c145f9c08ebf2bc024">charge</a>];</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        clear coords aType</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Mm = Mm;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a> = pushbuttonLoadModel_Callback(<a class="code" href="_displacement_params_8m.html#a6e69a2e6c16546a1aba75e0422487e55">hObject</a>, <a class="code" href="aberrations___t_e_m_8m.html#a5f0afe6204672342221604c5c8eb3887">eventdata</a>, <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>,0,0);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;% Read the probe <a class="code" href="convert2cfg_8m.html#a7cec22fd326288e5df0dadf886d5d919">array</a> <a class="code" href="draw_xtal_8m.html#aeb6159906f64d5f1b8476454468f5af3">parameters</a>:</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;handles.ProbeNx = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(extractParam(&#39;<a class="code" href="namespacepython_1_1potential.html#a45ef3ba885a8655a58532ce88f7a85b0">nx</a>&#39;,nameArray,pValues));</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;handles.ProbeNy = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(extractParam(&#39;<a class="code" href="namespacepython_1_1potential.html#a35c4557193f9702081df5ac284fbcf3b">ny</a>&#39;,nameArray,pValues));</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> handles.ProbeNy &lt;= 0</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    handles.ProbeNy = handles.ProbeNx;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;handles.ProbeResolutionX = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(extractParam(&#39;resolutionX&#39;,nameArray,pValues));</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;handles.ProbeResolutionY = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(extractParam(&#39;resolutionY&#39;,nameArray,pValues));</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeNx,&#39;String&#39;,handles.ProbeNx);</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeNy,&#39;String&#39;,handles.ProbeNy);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;% <a class="code" href="qstem_8m.html#ae78618edac03dcbe434c7a42daf5bcee">fprintf</a>(&#39;Resol: %g %g %d %d %g %g\n&#39;,handles.ProbeResolutionX,handles.ProbeResolutionY,handles.ProbeNx,handles.ProbeNy,handles.Mm(1,1),handles.Mm(2,2));</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> handles.ProbeResolutionX &lt;= 1e-4</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    handles.ProbeResolutionX = handles.Mm(1,1)/handles.ProbeNx;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> handles.ProbeResolutionY &lt;= 1e-4</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    handles.ProbeResolutionY = handles.Mm(2,2)/handles.ProbeNy;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeResolutionX,&#39;String&#39;,handles.ProbeResolutionX);</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeResolutionY,&#39;String&#39;,handles.ProbeResolutionY);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;% Define the additional <a class="code" href="draw_xtal_8m.html#aeb6159906f64d5f1b8476454468f5af3">parameters</a>:</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;handles.ProbeWindowX = handles.ProbeResolutionX*handles.ProbeNx;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;handles.ProbeWindowY = handles.ProbeResolutionY*handles.ProbeNy;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeWindowX,&#39;String&#39;,handles.ProbeWindowX);</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeWindowY,&#39;String&#39;,handles.ProbeWindowX);</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;handles.ProbeMaxAngleX = 2/6*handles.Wavelength * (handles.ProbeNx/handles.ProbeWindowX);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;handles.ProbeMaxAngleY = 2/6*handles.Wavelength * (handles.ProbeNy/handles.ProbeWindowY);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeMaxAngleX,&#39;String&#39;,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;%.1f&#39;,1e3*handles.ProbeMaxAngleX));</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeMaxAngleY,&#39;String&#39;,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;%.1f&#39;,1e3*handles.ProbeMaxAngleY));</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;% scan <a class="code" href="draw_xtal_8m.html#aeb6159906f64d5f1b8476454468f5af3">parameters</a>:</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<a class="code" href="draw_xtal_8m.html#a097da1a4e072a25b17f4eb06d5c4ab1d">switch</a> handles.<a class="code" href="qstem_8m.html#ae5457ac188407029525dae0d288f5060">modeNum</a></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <a class="code" href="convert2cfg_8m.html#a851a9364db662e9fa5eb14ca6e8a4b5a">case</a> 1</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        handles.Xstart = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(extractParam(&#39;scan_x_start&#39;,nameArray,pValues));</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        handles.Xstop  = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(extractParam(&#39;scan_x_stop&#39;,nameArray,pValues));</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        handles.Xpixels = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(extractParam(&#39;scan_x_pixels&#39;,nameArray,pValues));</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        </div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        handles.Ystart = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(extractParam(&#39;scan_y_start&#39;,nameArray,pValues));</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        handles.Ystop  = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(extractParam(&#39;scan_y_stop&#39;,nameArray,pValues));</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        handles.Ypixels = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(extractParam(&#39;scan_y_pixels&#39;,nameArray,pValues));</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        </div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        % Read the detector configuration:</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        % handles.<a class="code" href="qstem_8m.html#a23c769480a12d8abe44e71c8fac1dcda">Detectors</a> = [70.0 200.0 0 0; 0.0 40.0 0 0];  % initialize 1: ADF, 2: BF</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        handles.Detectors = extractParam(&#39;detector&#39;,nameArray,pValues);</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_DetectorNumber,&#39;String&#39;,1);</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="_displacement_params_8m.html#affbd44b02f0a59a4922b0c7d090cadd4">size</a>(handles.Detectors,1) &gt; 0</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            <a class="code" href="qstem_8m.html#ac86694252f8dfdb19aaeadc4b7c342c6">j</a> = 1;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_InnerAngle,&#39;String&#39;,handles.Detectors(j,1));</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_OuterAngle,&#39;String&#39;,handles.Detectors(j,2));</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_OffsetX,&#39;String&#39;,handles.Detectors(j,3));</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_OffsetY,&#39;String&#39;,handles.Detectors(j,4));</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_InnerAngle,&#39;String&#39;,&#39; &#39;);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_OuterAngle,&#39;String&#39;,&#39; &#39;);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_OffsetX,&#39;String&#39;,&#39; &#39;);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;            <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_OffsetY,&#39;String&#39;,&#39; &#39;);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <a class="code" href="convert2cfg_8m.html#a851a9364db662e9fa5eb14ca6e8a4b5a">case</a> 2  % <a class="code" href="stemtypes__fftw3_8hpp.html#a26fa01bb4b36ffed75910f878e99cadc">CBED</a></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        handles.Xstart = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(extractParam(&#39;scan_x_start&#39;,nameArray,pValues));</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        handles.Xstop  = handles.Xstart;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        handles.Xpixels = 1;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        </div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        handles.Ystart = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(extractParam(&#39;scan_y_start&#39;,nameArray,pValues));</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        handles.Ystop  = handles.Ystart;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        handles.Ypixels = 1;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_InnerAngle,&#39;String&#39;,&#39; &#39;);</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_OuterAngle,&#39;String&#39;,&#39; &#39;);</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_OffsetX,&#39;String&#39;,&#39; &#39;);</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_OffsetY,&#39;String&#39;,&#39; &#39;);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        </div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <a class="code" href="convert2cfg_8m.html#a851a9364db662e9fa5eb14ca6e8a4b5a">case</a> 0  % <a class="code" href="stemtypes__fftw3_8hpp.html#a5abef251d47456e7981e8f1ae7ba2a9a">TEM</a> <a class="code" href="qstem_8m.html#aabea1a308e18fee00cc3a9031f079ba6">mode</a>:</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        handles.Xstart = 0.5*handles.ProbeWindowX;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        handles.Xstop = handles.Xstart;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        handles.Xpixels = 1;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        handles.Ystart = 0.5*handles.ProbeWindowY;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        handles.Ystop = handles.Ystart;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        handles.Ypixels = 1;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_InnerAngle,&#39;String&#39;,&#39; &#39;);</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_OuterAngle,&#39;String&#39;,&#39; &#39;);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_OffsetX,&#39;String&#39;,&#39; &#39;);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_OffsetY,&#39;String&#39;,&#39; &#39;);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Xstart,&#39;String&#39;,handles.Xstart);</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Xstop,&#39;String&#39;,handles.Xstop);</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Xpixels,&#39;String&#39;,handles.Xpixels);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Ystart,&#39;String&#39;,handles.Ystart);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Ystop,&#39;String&#39;,handles.Ystop);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Ypixels,&#39;String&#39;,handles.Ypixels);</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;handles.<a class="code" href="qstem_8m.html#a5a7a04041b8d36231b865f8c9b07cd40">saveLevel</a>     = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(extractParam(&#39;save <a class="code" href="_read_d_m3___matlab_8m.html#afde8e18a788ccc92fc61cab298bca7e3">level</a>&#39;,nameArray,pValues));</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;handles.<a class="code" href="qstem_8m.html#a24e096d96b8b76611e893ddd6c372ae5">printLevel</a>    = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(extractParam(&#39;print level&#39;,nameArray,pValues));</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;handles.<a class="code" href="qstem_8m.html#a771570fcbf7eebdfa7d620704a8789a0">atomRadius</a>    = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(extractParam(&#39;<a class="code" href="qmb_8m.html#ad5a54bc5a2abedf790cf00f7c63f6235">atom</a> <a class="code" href="_displacement_params_8m.html#acc620a89e606f875661525fd6365a421">radius</a>&#39;,nameArray,pValues));</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;handles.<a class="code" href="qstem_8m.html#a2627b1fe484f7e86e38deba8dabb27ed">savePotential</a>   = <a class="code" href="qmb_8m.html#acb0bf34e5a38d0484b1e3e24b8106f52">strcmp</a>(extractParam(&#39;save potential&#39;,nameArray,pValues),&#39;yes&#39;);</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;handles.<a class="code" href="qstem_8m.html#ab6c80af39fbd1e06e09585d244dc28ce">saveTotalPotential</a>   = <a class="code" href="qmb_8m.html#acb0bf34e5a38d0484b1e3e24b8106f52">strcmp</a>(extractParam(&#39;save projected potential&#39;,nameArray,pValues),&#39;yes&#39;);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;handles.<a class="code" href="qstem_8m.html#a286321d6d000730b555812c3c9ae8645">potProgInterval</a> = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(extractParam(&#39;potential progress interval&#39;,nameArray,pValues));</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;handles.<a class="code" href="qstem_8m.html#a05446d3838f219de184194c1dca0dc0e">propProgInterval</a> = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(extractParam(&#39;propagation progress interval&#39;,nameArray,pValues));</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<a class="code" href="draw_xtal_8m.html#a097da1a4e072a25b17f4eb06d5c4ab1d">switch</a> handles.<a class="code" href="qstem_8m.html#ae5457ac188407029525dae0d288f5060">modeNum</a></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <a class="code" href="convert2cfg_8m.html#a851a9364db662e9fa5eb14ca6e8a4b5a">case</a> 2</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        handles = radiobutton_CBED_Callback(hObject, eventdata, handles);        </div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <a class="code" href="convert2cfg_8m.html#a851a9364db662e9fa5eb14ca6e8a4b5a">case</a> 1</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        handles = radiobutton_STEM_Callback(hObject, eventdata, handles);</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <a class="code" href="convert2cfg_8m.html#a851a9364db662e9fa5eb14ca6e8a4b5a">case</a> 0</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        handles = radiobutton_TEM_Callback(hObject, eventdata, handles);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;% <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a> of LoadConfigFile</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> value = extractParam(<a class="code" href="convert2cfg_8m.html#ab74e6bf80237ddc4109968cedc58c151">name</a>,nameArray,pValues);</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;[<a class="code" href="qstem_8m.html#ae4589a396f9cbc019e49f9ff62548fcf">Nparams</a>,<a class="code" href="qstem_8m.html#aad9214e0b85e8827c27e156ed68b23cd">nameLen</a>] = <a class="code" href="_displacement_params_8m.html#affbd44b02f0a59a4922b0c7d090cadd4">size</a>(nameArray);</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="qmb_8m.html#acb0bf34e5a38d0484b1e3e24b8106f52">strcmp</a>(name,&#39;detector&#39;) == 0</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="qmb_8m.html#acb0bf34e5a38d0484b1e3e24b8106f52">strcmp</a>(name,&#39;Cube&#39;) == 0</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        indPar = <a class="code" href="qmb_8m.html#aa32473e7c2134539f1ba31d78099a876">find</a>(<a class="code" href="read_c_f_g__qstem_8m.html#a85162b5d5e6736f5aa8616580d4e8a75">sum</a>(abs(nameArray-repmat([name <a class="code" href="virtual_goniometer_8m.html#a658ea266fd3baee1bdd483b9117e9f54">zeros</a>(1,<a class="code" href="qstem_8m.html#aad9214e0b85e8827c27e156ed68b23cd">nameLen</a>-<a class="code" href="convert2cfg_8m.html#aabbdf768a12d7ff279a05a15db19fa61">length</a>(name))],<a class="code" href="qstem_8m.html#ae4589a396f9cbc019e49f9ff62548fcf">Nparams</a>,1)),2) == 0);</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="qstem_8m.html#ad23232aca9449743c8dbb4e79af48bd4">isempty</a>(indPar)</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;            value = &#39;0&#39;;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;            <a class="code" href="convert2cfg_8m.html#a9717e7bbecb906637e86cef6da3d83c2">return</a></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            % pValues(indPar(1))</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;            value = sscanf(cell2mat(pValues(indPar(1))),&#39;%s&#39;,1);</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;            % <a class="code" href="qstem_8m.html#ae78618edac03dcbe434c7a42daf5bcee">fprintf</a>(&#39;%s (%d): %s\n&#39;,name,<a class="code" href="convert2cfg_8m.html#aabbdf768a12d7ff279a05a15db19fa61">length</a>(name),value);</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a> % extracting Box <a class="code" href="_read_d_m3___matlab_8m.html#aa4f42c0d3275c58153f3d1af1dda3edf">information</a>:</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        indPar = <a class="code" href="qmb_8m.html#aa32473e7c2134539f1ba31d78099a876">find</a>(<a class="code" href="read_c_f_g__qstem_8m.html#a85162b5d5e6736f5aa8616580d4e8a75">sum</a>(abs(nameArray-repmat([name zeros(1,<a class="code" href="qstem_8m.html#aad9214e0b85e8827c27e156ed68b23cd">nameLen</a>-<a class="code" href="convert2cfg_8m.html#aabbdf768a12d7ff279a05a15db19fa61">length</a>(name))],Nparams,1)),2) == 0);</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="qstem_8m.html#ad23232aca9449743c8dbb4e79af48bd4">isempty</a>(indPar)</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            value = [];</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        <a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;            value = sscanf(cell2mat(pValues(indPar(1))),&#39;%f&#39;,3);</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a> </div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;   % <a class="code" href="qstem_8m.html#ae78618edac03dcbe434c7a42daf5bcee">fprintf</a>(&#39;Looking for detectors\n&#39;)</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;   % value = [70.0 200.0 0 0; 0.0 40.0 0 0];    </div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;   indPar = <a class="code" href="qmb_8m.html#aa32473e7c2134539f1ba31d78099a876">find</a>(<a class="code" href="read_c_f_g__qstem_8m.html#a85162b5d5e6736f5aa8616580d4e8a75">sum</a>(abs(nameArray-repmat([name zeros(1,<a class="code" href="qstem_8m.html#aad9214e0b85e8827c27e156ed68b23cd">nameLen</a>-<a class="code" href="convert2cfg_8m.html#aabbdf768a12d7ff279a05a15db19fa61">length</a>(name))],Nparams,1)),2) == 0);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;   value = [];</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;   for j=1:<a class="code" href="convert2cfg_8m.html#aabbdf768a12d7ff279a05a15db19fa61">length</a>(indPar)</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;       det = textscan(cell2mat(pValues(indPar(j))),&#39;%f %f %s %f %f&#39;);</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;       <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="read_c_f_g__qstem_8m.html#a0e449fa3bec1a9c581f9174baf647616">prod</a>(<a class="code" href="_displacement_params_8m.html#affbd44b02f0a59a4922b0c7d090cadd4">size</a>(det{4})) &gt; 0</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;           <a class="code" href="qstem_8m.html#aeee9d3c55cddc06149a5f9799cd5232d">value</a>(<a class="code" href="qstem_8m.html#ac86694252f8dfdb19aaeadc4b7c342c6">j</a>,1:4) = [det{1} det{2} det{4} det{5}];</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;       <span class="keywordflow">else</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;           <a class="code" href="qstem_8m.html#aeee9d3c55cddc06149a5f9799cd5232d">value</a>(<a class="code" href="qstem_8m.html#ac86694252f8dfdb19aaeadc4b7c342c6">j</a>,1:4) = [det{1} det{2} 0 0];</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;       <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;   <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;% --- Executes <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> press <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> pushbutton_SaveConfigFile.</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> pushbutton_SaveConfigFile_Callback(<a class="code" href="_displacement_params_8m.html#a6e69a2e6c16546a1aba75e0422487e55">hObject</a>, <a class="code" href="aberrations___t_e_m_8m.html#a5f0afe6204672342221604c5c8eb3887">eventdata</a>, <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>)</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;% <a class="code" href="_displacement_params_8m.html#a6e69a2e6c16546a1aba75e0422487e55">hObject</a>    handle to pushbutton_SaveConfigFile (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;% <a class="code" href="aberrations___t_e_m_8m.html#a5f0afe6204672342221604c5c8eb3887">eventdata</a>  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;% <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>    structure with <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a> and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;% check for TDS flag:</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;if handles.modeNum == 0</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    handles.TDS         = get(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.checkbox_TDS,&#39;<a class="code" href="_display_model_properties_8m.html#aa3e85bcc21f31fb262e8662d5e2a8764">Value</a>&#39;);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="keywordflow">if</span> <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.TDS</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        ButtonName=questdlg({<span class="stringliteral">&#39;Are you shure about including TDS?&#39;</span>,<span class="stringliteral">&#39;This will greatly increase the computational effort.&#39;</span>}, ...</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;            <span class="stringliteral">&#39;Verify TDS flag&#39;</span>, ...</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;            <span class="stringliteral">&#39;Keep TDS on&#39;</span>,<span class="stringliteral">&#39;Turn TDS off&#39;</span>,<span class="stringliteral">&#39;Turn TDS off&#39;</span>);</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        <span class="keywordflow">switch</span> ButtonName</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;            <span class="keywordflow">case</span> <span class="stringliteral">&#39;Turn TDS off&#39;</span>,</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.TDS = 0;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.checkbox_TDS,<span class="stringliteral">&#39;Value&#39;</span>,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.TDS);</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                <a class="code" href="_display_model_properties_8m.html#ace6453c265aedf6f6d285350c6f6a7ec">pause</a>(0.2);</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a> % <span class="keywordflow">switch</span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;<a class="code" href="qstem_8m.html#aa908f49ed8bb16422becc0d8785fac72">configFile</a> = fullfile(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.configPath, <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.configFile);</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;[filename, pathname] = <a class="code" href="_display_model_properties_8m.html#add3fe7a65ad92a8dbbf453a00425c7c1">uiputfile</a>({<span class="stringliteral">&#39;*.qsc;*.dat&#39;</span>, <span class="stringliteral">&#39;QSTEM simulation config files (*.qsc, *.dat)&#39;</span>;...</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="stringliteral">&#39;*.*&#39;</span>, <span class="stringliteral">&#39;All files (*.*)&#39;</span>},...</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <span class="stringliteral">&#39;Save file&#39;</span>,<a class="code" href="qstem_8m.html#aa908f49ed8bb16422becc0d8785fac72">configFile</a>);</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="keywordflow">if</span> <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(<a class="code" href="qstem_8m.html#a1a3091fb7347c8f640f7b03687dadd44">filename</a>,0) || <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(<a class="code" href="qstem_8m.html#a9de6303e6ac6d19c016afd7d700038cc">pathname</a>,0)</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    % <a class="code" href="qstem_8m.html#aec3f4cc4ab5daa6d56adc1cef9bd94fa">disp</a>(<span class="stringliteral">&#39;User pressed cancel&#39;</span>)</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;<a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    % Attach proper ending <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> necessary:</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="qstem_8m.html#ad23232aca9449743c8dbb4e79af48bd4">isempty</a>(<a class="code" href="convert2cfg_8m.html#aabbdf768a12d7ff279a05a15db19fa61">length</a>(<a class="code" href="qstem_8m.html#a1a3091fb7347c8f640f7b03687dadd44">filename</a>) - findstr(<a class="code" href="qstem_8m.html#a1a3091fb7347c8f640f7b03687dadd44">filename</a>,&#39;.qsc&#39;))</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        filename = [filename &#39;.qsc&#39;];</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="qstem_8m.html#af1af0cd7fd83b66990bde283570f23ea">configPath</a> = <a class="code" href="qstem_8m.html#a9de6303e6ac6d19c016afd7d700038cc">pathname</a>;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.configFile = filename;</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    configFile = fullfile(pathname, filename);</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a> = <a class="code" href="image_sim_8m.html#a3620c5808f65103e456213a81d95e7e3">readAllFields</a>(<a class="code" href="_displacement_params_8m.html#a6e69a2e6c16546a1aba75e0422487e55">hObject</a>, <a class="code" href="aberrations___t_e_m_8m.html#a5f0afe6204672342221604c5c8eb3887">eventdata</a>, <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <a class="code" href="write_fields2_file_8m.html#a79499b523dd8dff45cb559e070ca9b60">writeFields2File</a>(configFile,handles);</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;% --- Executes <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> press <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> pushbutton_RunStem3.</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> pushbutton_RunStem3_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;configFile = fullfile(handles.<a class="code" href="qstem_8m.html#af1af0cd7fd83b66990bde283570f23ea">configPath</a>, handles.configFile);</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;[filename,folder] = <a class="code" href="image_sim_8m.html#acf66413b59082c95cc095f3e1373f608">uigetfile</a>({<span class="stringliteral">&#39;*.qsc;*.dat&#39;</span>,<span class="stringliteral">&#39;QSTEM simulation config files (*.qsc, *.dat)&#39;</span>; ...</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        <span class="stringliteral">&#39;*.*&#39;</span>,  <span class="stringliteral">&#39;All Files (*.*)&#39;</span>},<span class="stringliteral">&#39;Select config file to execute&#39;</span>,<a class="code" href="qstem_8m.html#aa908f49ed8bb16422becc0d8785fac72">configFile</a>);</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="keywordflow">if</span> ~(<a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(<a class="code" href="qstem_8m.html#a1a3091fb7347c8f640f7b03687dadd44">filename</a>,0) || <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(folder,0))</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    oldFolder = pwd();</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    % cmd = <a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(<span class="stringliteral">&#39;cd &quot;%s&quot; &amp; &quot;%s&quot; %s &amp;&#39;</span>,folder,fullfile(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.binPath,<span class="stringliteral">&#39;stem3.exe&#39;</span>),<a class="code" href="qstem_8m.html#a1a3091fb7347c8f640f7b03687dadd44">filename</a>);</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    systemStr = computer();</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keywordflow">switch</span> systemStr</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        <span class="keywordflow">case</span> {<span class="stringliteral">&#39;PCWIN&#39;</span>,<span class="stringliteral">&#39;PCWIN64&#39;</span>}</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;            <a class="code" href="qstem_8m.html#a9d144cda3d92caf15dfa24a69905c654">cd</a>(folder);</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;            cmd = <a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(<span class="stringliteral">&#39;cd &quot;%s&quot; &amp; stem3 %s &amp;&#39;</span>,folder,<a class="code" href="qstem_8m.html#a1a3091fb7347c8f640f7b03687dadd44">filename</a>);</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;            system(cmd);</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;            <a class="code" href="qstem_8m.html#a9d144cda3d92caf15dfa24a69905c654">cd</a>(oldFolder);</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        <span class="keywordflow">case</span> <span class="stringliteral">&#39;GLNX86&#39;</span>           </div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;            warndlg(<span class="stringliteral">&#39;PC Linux is not yet supported\nPlease run stem3 from the command line&#39;</span>,<span class="stringliteral">&#39;Running stem3&#39;</span>,<span class="stringliteral">&#39;modal&#39;</span>);</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;            </div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        <a class="code" href="draw_xtal_8m.html#a6c61c47a014d6a5cdfaf5f90d77d2954">otherwise</a></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            warndlg(<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(<span class="stringliteral">&#39;This system (%s) is not supported\nPlease run stem3 from the command line&#39;</span>,systemStr),<span class="stringliteral">&#39;Running stem3&#39;</span>,<span class="stringliteral">&#39;modal&#39;</span>)</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;% --- Executes <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> press <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> pushbutton_DisplayResults.</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> pushbutton_DisplayResults_Callback(<a class="code" href="_displacement_params_8m.html#a6e69a2e6c16546a1aba75e0422487e55">hObject</a>, <a class="code" href="aberrations___t_e_m_8m.html#a5f0afe6204672342221604c5c8eb3887">eventdata</a>, <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>)</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="_displacement_params_8m.html#acde093ecb328e089c7e8699979b778d1">isfield</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>,&#39;OutputFolder&#39;)</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="qstem_8m.html#ad23232aca9449743c8dbb4e79af48bd4">isempty</a>(findstr(handles.OutputFolder,&#39;:\&#39;))</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        % system(<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;showimage %<a class="code" href="aberrations___t_e_m_8m.html#aef29541a06b7f933d32a804307db13af">s</a>&#39;,fullfile(handles.<a class="code" href="qstem_8m.html#af1af0cd7fd83b66990bde283570f23ea">configPath</a>,handles.OutputFolder)));</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        % system(<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;&quot;%s&quot; %s&#39;,fullfile(handles.<a class="code" href="qstem_8m.html#acccc912fa0b7ba0b666fb82aebe54fbf">binPath</a>,&#39;showimage&#39;),fullfile(handles.configPath,handles.OutputFolder)));</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        system(<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;showimage %s&#39;,fullfile(handles.configPath,handles.OutputFolder)));</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        % system(<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;showimage %s&#39;,handles.OutputFolder));</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        % system(<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;&quot;%s&quot; %s&#39;,fullfile(handles.binPath,&#39;showimage&#39;),handles.OutputFolder));</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        system(<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;&quot;%s&quot; %s&#39;,&#39;showimage&#39;,handles.OutputFolder));</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a>    </div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    % system(<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;showimage %s&#39;,handles.configPath));    </div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    % system(<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;&quot;%s&quot; %s&#39;,fullfile(handles.binPath,&#39;showimage&#39;),handles.configPath));    </div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    system(<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;&quot;%s&quot; %s&#39;,showimage,handles.configPath));    </div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;% --- Executes <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> press <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> pushbutton_UpdateView.</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> handles = <a class="code" href="_display_model_properties_8m.html#ae26b38067a9792326b19b3e2e057feb1">pushbutton_UpdateView_Callback</a>(hObject, eventdata, handles)</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;% hObject    handle to pushbutton_UpdateView (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.pushbutton_ScanAccept,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.pushbutton_ScanReject,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;handles.<a class="code" href="qstem_8m.html#ac7fc17789f8e6f13fadaf928820310b8">RbboxHandle</a> = -1;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;handles = <a class="code" href="image_sim_8m.html#a3620c5808f65103e456213a81d95e7e3">readAllFields</a>(hObject, eventdata, handles);</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="qstem_8m.html#ad23232aca9449743c8dbb4e79af48bd4">isempty</a>(handles.<a class="code" href="qmb_8m.html#aea9102df42c96670313e90f848e15c9e">atomPos</a>)</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;   <a class="code" href="convert2cfg_8m.html#a9717e7bbecb906637e86cef6da3d83c2">return</a> </div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;<a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a> = handles.<a class="code" href="qmb_8m.html#aea9102df42c96670313e90f848e15c9e">atomPos</a>;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;modelSize = <a class="code" href="aberrations_8m.html#a28e9293ee026e172309e68c6c4671a07">get</a>(handles.radiobutton_SuperCell,&#39;<a class="code" href="_display_model_properties_8m.html#aa3e85bcc21f31fb262e8662d5e2a8764">Value</a>&#39;)*handles.NcellZ;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="aberrations_8m.html#a28e9293ee026e172309e68c6c4671a07">get</a>(handles.radiobutton_Slab,&#39;<a class="code" href="_display_model_properties_8m.html#aa3e85bcc21f31fb262e8662d5e2a8764">Value</a>&#39;) == 1</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;   modelSize = ceil(handles.NcellZ / handles.NsubSlabs); </div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    </div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="aberrations_8m.html#a28e9293ee026e172309e68c6c4671a07">get</a>(handles.radiobutton_Ncells,&#39;<a class="code" href="_display_model_properties_8m.html#aa3e85bcc21f31fb262e8662d5e2a8764">Value</a>&#39;)  % <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> NCELLS <a class="code" href="qstem_8m.html#aabea1a308e18fee00cc3a9031f079ba6">mode</a></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <a class="code" href="_displacement_params_8m.html#a02389a9bda512aa8f8a3345f4fa27f25">center</a> = 0.5*[handles.NcellX handles.NcellY handles.NcellZ];</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <a class="code" href="read_c_f_g__qstem_8m.html#a552eedb796e4ec274fe617b434bf69b2">box</a> = [0 0 0;handles.NcellX 0 0; handles.NcellX handles.NcellY 0; ...</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        0 handles.NcellY 0;0 0 handles.NcellZ;handles.NcellX 0 handles.NcellZ; ...</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        handles.NcellX handles.NcellY handles.NcellZ; 0 handles.NcellY handles.NcellZ];</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    % <a class="code" href="read_c_f_g__qstem_8m.html#a552eedb796e4ec274fe617b434bf69b2">box</a> = (handles.<a class="code" href="qstem_8m.html#aef05d27f63c3f06ffb0342ae902906b1">Mm</a>.&#39;*(<a class="code" href="read_c_f_g__qstem_8m.html#a552eedb796e4ec274fe617b434bf69b2">box</a>-repmat(<a class="code" href="_displacement_params_8m.html#a02389a9bda512aa8f8a3345f4fa27f25">center</a>,<a class="code" href="_displacement_params_8m.html#affbd44b02f0a59a4922b0c7d090cadd4">size</a>(<a class="code" href="read_c_f_g__qstem_8m.html#a552eedb796e4ec274fe617b434bf69b2">box</a>,1),1)).&#39;).&#39;;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    box = (handles.<a class="code" href="qstem_8m.html#aef05d27f63c3f06ffb0342ae902906b1">Mm</a>*(box-repmat(center,<a class="code" href="_displacement_params_8m.html#affbd44b02f0a59a4922b0c7d090cadd4">size</a>(box,1),1)).&#39;).&#39;;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    rotationCenter = (handles.<a class="code" href="qstem_8m.html#aef05d27f63c3f06ffb0342ae902906b1">Mm</a>*(center.&#39;)).&#39;;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    % rotationCenter = center*handles.<a class="code" href="qstem_8m.html#aef05d27f63c3f06ffb0342ae902906b1">Mm</a>;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    box = repmat(rotationCenter,<a class="code" href="_displacement_params_8m.html#affbd44b02f0a59a4922b0c7d090cadd4">size</a>(box,1),1)+(handles.<a class="code" href="rotate_zone_axis_8m.html#a68f78b58110e3cb5e477322ce0248870">Mrot</a>*(box.&#39;)).&#39;;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    % This moves the most left, front and bottom point of the super <a class="code" href="_read_d_m3___matlab_8m.html#a788f12e84a4147fbec966d469221fb80">cell</a> to</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    % the origin.</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    NcellPotOffset = min(box,[],1); % +[handles.PotentialOffsetX handles.PotentialOffsetY 0];</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    box = box-repmat(NcellPotOffset,<a class="code" href="_displacement_params_8m.html#affbd44b02f0a59a4922b0c7d090cadd4">size</a>(box,1),1);</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> (1)</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        <a class="code" href="qstem_8m.html#ae78618edac03dcbe434c7a42daf5bcee">fprintf</a>(&#39;Super <a class="code" href="_read_d_m3___matlab_8m.html#a788f12e84a4147fbec966d469221fb80">cell</a> <a class="code" href="_displacement_params_8m.html#affbd44b02f0a59a4922b0c7d090cadd4">size</a>: %.3<a class="code" href="namespacepython_1_1potential.html#af887b24c78c0630197f05f84f19de90c">f</a> <a class="code" href="aberrations_8m.html#a84c455b54a16f1c540f6abcc5b858393">x</a> %.3<a class="code" href="namespacepython_1_1potential.html#af887b24c78c0630197f05f84f19de90c">f</a> <a class="code" href="aberrations_8m.html#a84c455b54a16f1c540f6abcc5b858393">x</a> %.3<a class="code" href="namespacepython_1_1potential.html#af887b24c78c0630197f05f84f19de90c">f</a> <a class="code" href="fileio__fftw3_8cpp.html#a955f504eccf76b4eb2489c0adab03121">A</a>\n&#39;,<a class="code" href="convert2cfg_8m.html#a20fc5038c021fd98154bd49a45a0e238">max</a>(box(:,1)),<a class="code" href="convert2cfg_8m.html#a20fc5038c021fd98154bd49a45a0e238">max</a>(box(:,2)),<a class="code" href="convert2cfg_8m.html#a20fc5038c021fd98154bd49a45a0e238">max</a>(box(:,3)));</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    handles.NcellPotOffset = NcellPotOffset;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;<a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a>  % <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> box <a class="code" href="qstem_8m.html#aabea1a308e18fee00cc3a9031f079ba6">mode</a></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    box = [0 0 0;1 0 0; 1 1 0; 0 1 0;0 0 1;1 0 1; 1 1 1; 0 1 1]*[handles.<a class="code" href="qmb_8m.html#a13f76be53ff17401f7d3d4ed11b8ea45">BoxX</a> 0 0;0 handles.<a class="code" href="qmb_8m.html#aec6c8f052b22d3766d849e2feba40010">BoxY</a> 0; 0 0 handles.BoxZ];</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    % box = box+repmat([handles.PotentialOffsetX handles.PotentialOffsetY 0],<a class="code" href="_displacement_params_8m.html#affbd44b02f0a59a4922b0c7d090cadd4">size</a>(box,1),1);</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    rotationCenter = 0.5*[handles.BoxX handles.BoxY handles.BoxZ]; % +[handles.PotentialOffsetX handles.PotentialOffsetY 0];</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    handles.NcellPotOffset = [0 0 0];</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;% This bounding box contains the limits of the rotated structure:</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;handles.boundingBox = box;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;% Adjust the slice Thickness:</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;handles.SliceThickness = (<a class="code" href="convert2cfg_8m.html#a20fc5038c021fd98154bd49a45a0e238">max</a>(handles.boundingBox(:,3))-min(handles.boundingBox(:,3)))/handles.NsliceTot;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_SliceThickness,&#39;<a class="code" href="aberrations_8m.html#a57845f93c6d3079cc203a7f78506f171">String</a>&#39;,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;%.4<a class="code" href="namespacepython_1_1potential.html#af887b24c78c0630197f05f84f19de90c">f</a>&#39;,handles.SliceThickness));</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;% <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a> the probe window <a class="code" href="draw_xtal_8m.html#aeb6159906f64d5f1b8476454468f5af3">parameters</a>:</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> handles.<a class="code" href="qstem_8m.html#ae5457ac188407029525dae0d288f5060">modeNum</a> == 0  % <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="stemtypes__fftw3_8hpp.html#a5abef251d47456e7981e8f1ae7ba2a9a">TEM</a> <a class="code" href="qstem_8m.html#aabea1a308e18fee00cc3a9031f079ba6">mode</a></div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    handles.ProbeWindowX = <a class="code" href="convert2cfg_8m.html#a20fc5038c021fd98154bd49a45a0e238">max</a>(handles.boundingBox(:,1))-min(handles.boundingBox(:,1));</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    handles.ProbeWindowY = <a class="code" href="convert2cfg_8m.html#a20fc5038c021fd98154bd49a45a0e238">max</a>(handles.boundingBox(:,2))-min(handles.boundingBox(:,2));</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    % <a class="code" href="qstem_8m.html#ae78618edac03dcbe434c7a42daf5bcee">fprintf</a>(&#39;probe: %<a class="code" href="_read_d_m3___matlab_8m.html#a1aabac6d068eef6a7bad3fdf50a05cc8">d</a> <a class="code" href="aberrations_8m.html#a84c455b54a16f1c540f6abcc5b858393">x</a> %<a class="code" href="_read_d_m3___matlab_8m.html#a1aabac6d068eef6a7bad3fdf50a05cc8">d</a>\n&#39;,handles.ProbeNx,handles.ProbeNy);</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    handles.ProbeResolutionX = handles.ProbeWindowX/handles.ProbeNx;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    handles.ProbeResolutionY = handles.ProbeWindowY/handles.ProbeNy;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeWindowX,&#39;String&#39;,handles.ProbeWindowX);</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeWindowY,&#39;String&#39;,handles.ProbeWindowY);</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeResolutionX,&#39;String&#39;,handles.ProbeResolutionX);</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeResolutionY,&#39;String&#39;,handles.ProbeResolutionY);</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.pushbutton_ImageSim,&#39;Visible&#39;,&#39;<a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a>&#39;);</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.pushbutton_MoreAberrations,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.pushbutton_ImageSim,&#39;Visible&#39;,&#39;on&#39;);</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    % <a class="code" href="qstem_8m.html#ae78618edac03dcbe434c7a42daf5bcee">fprintf</a>(&#39;<a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="stemtypes__fftw3_8hpp.html#a5abef251d47456e7981e8f1ae7ba2a9a">TEM</a> <a class="code" href="qstem_8m.html#aabea1a308e18fee00cc3a9031f079ba6">mode</a> ...\n&#39;);</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.pushbutton_ImageSim,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.pushbutton_MoreAberrations,&#39;Visible&#39;,&#39;on&#39;);</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    % <a class="code" href="qstem_8m.html#ae78618edac03dcbe434c7a42daf5bcee">fprintf</a>(&#39;<a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="stemtypes__fftw3_8hpp.html#ae37055f0823281ce47997ab6602bb607">STEM</a> <a class="code" href="qstem_8m.html#aabea1a308e18fee00cc3a9031f079ba6">mode</a> ...\n&#39;);</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;% Do the TOP VIEW:</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a>  <a class="code" href="aberrations_8m.html#a28e9293ee026e172309e68c6c4671a07">get</a>(handles.radiobutton_viewFront,&#39;<a class="code" href="_display_model_properties_8m.html#aa3e85bcc21f31fb262e8662d5e2a8764">Value</a>&#39;) == 0</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    % show top view:</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    % If the user <a class="code" href="qstem_8m.html#aa6941f884e278157f98a91b064426421">selected</a> Ncell <a class="code" href="qstem_8m.html#aabea1a308e18fee00cc3a9031f079ba6">mode</a>:</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="aberrations_8m.html#a28e9293ee026e172309e68c6c4671a07">get</a>(handles.radiobutton_Ncells,&#39;<a class="code" href="_display_model_properties_8m.html#aa3e85bcc21f31fb262e8662d5e2a8764">Value</a>&#39;)</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        % replicate <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="convert2cfg_8m.html#ac51b57a703ba1c5869228690c93e1701">X</a>- and <a class="code" href="convert2cfg_8m.html#ae76081fb2cef09480162f3c1b69dfbb2">Y</a>-direction, <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="image_sim_8m.html#accfa32fc89ba0b38e0504d8b8a0a6f54">requested</a></div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> modelSize &gt; 0</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;            coords0 = <a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a>;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;            <a class="code" href="_display_model_properties_8m.html#af443bf254531220087dc4c76086f3c60">Natom</a> = <a class="code" href="_displacement_params_8m.html#affbd44b02f0a59a4922b0c7d090cadd4">size</a>(coords,1);</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;            for iz = 0:handles.NcellZ-1</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;                for <a class="code" href="_display_model_properties_8m.html#a76b405b72b88bde9488209ac06ddb714">ix</a> = 0:handles.NcellX-1</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                    <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> (<a class="code" href="_display_model_properties_8m.html#a76b405b72b88bde9488209ac06ddb714">ix</a> == 0) &amp;&amp; (iz == 0)</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                        for <a class="code" href="_display_model_properties_8m.html#af4c5cec9fce175f73b7da5ecd33c2af6">iy</a> = 1:handles.NcellY-1</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                            % [<a class="code" href="_display_model_properties_8m.html#ad4a8ac3c7026e0e2e13426103c839cb7">aType</a> coords <a class="code" href="_display_model_properties_8m.html#ae436dbba71d976b0111c531939f54e66">DW</a> <a class="code" href="_display_model_properties_8m.html#a14685678a932a690bb677ca0be6b191a">occ</a> <a class="code" href="_display_model_properties_8m.html#a9f9b7255ba6680c145f9c08ebf2bc024">charge</a>]</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                            coords = [coords; coords0+repmat([0 <a class="code" href="_display_model_properties_8m.html#a76b405b72b88bde9488209ac06ddb714">ix</a> <a class="code" href="_display_model_properties_8m.html#af4c5cec9fce175f73b7da5ecd33c2af6">iy</a> iz 0 0 0],<a class="code" href="_display_model_properties_8m.html#af443bf254531220087dc4c76086f3c60">Natom</a>,1)];</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                        <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                    <a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                        for <a class="code" href="_display_model_properties_8m.html#af4c5cec9fce175f73b7da5ecd33c2af6">iy</a> = 0:handles.NcellY-1</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;                            coords = [coords; coords0+repmat([0 <a class="code" href="_display_model_properties_8m.html#a76b405b72b88bde9488209ac06ddb714">ix</a> <a class="code" href="_display_model_properties_8m.html#af4c5cec9fce175f73b7da5ecd33c2af6">iy</a> iz 0 0 0],Natom,1)];</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                        <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;                    <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;                <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;            <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;        <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        % coords(:,2:4) = (handles.<a class="code" href="rotate_zone_axis_8m.html#a68f78b58110e3cb5e477322ce0248870">Mrot</a>*((coords(:,2:4)*handles.Mm).&#39;)).&#39;;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        % coords(:,2:4) = (handles.Mm.&#39;*(coords(:,2:4).&#39;)).&#39;;</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        coords(:,2:4) = (handles.Mm*(coords(:,2:4).&#39;)).&#39;;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        % coords(:,2:4) = coords(:,2:4)*handles.Mm;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        Ncoords = <a class="code" href="_displacement_params_8m.html#affbd44b02f0a59a4922b0c7d090cadd4">size</a>(coords,1);</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        % Do the rotation:</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="read_c_f_g__qstem_8m.html#a85162b5d5e6736f5aa8616580d4e8a75">sum</a>(<a class="code" href="read_c_f_g__qstem_8m.html#a85162b5d5e6736f5aa8616580d4e8a75">sum</a>(handles.<a class="code" href="rotate_zone_axis_8m.html#a68f78b58110e3cb5e477322ce0248870">Mrot</a> == eye(3))) &lt; 9</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;            % coords(:,2:4) = repmat(rotationCenter,Ncoords,1)+(coords(:,2:4)-repmat(rotationCenter,Ncoords,1))*(handles.<a class="code" href="rotate_zone_axis_8m.html#a68f78b58110e3cb5e477322ce0248870">Mrot</a>.&#39;);</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;            coords(:,2:4) = repmat(rotationCenter,Ncoords,1)+(handles.Mrot*(coords(:,2:4)-repmat(rotationCenter,Ncoords,1)).&#39;).&#39;;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;            % coords(:,2:4) = coords(:,2:4)-repmat(min(coords(:,2:4),[],1),Ncoords,1);</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;            % coords(:,2:4) = coords(:,2:4)-repmat(NcellPotOffset,Ncoords,1);</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a>        </div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        </div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        coords(:,2:4) = coords(:,2:4)-repmat(NcellPotOffset-[handles.PotentialOffsetX,handles.PotentialOffsetY,0],Ncoords,1);</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;       </div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a>  % <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a> of NCELLS <a class="code" href="qstem_8m.html#aabea1a308e18fee00cc3a9031f079ba6">mode</a> - start BOX <a class="code" href="qstem_8m.html#aabea1a308e18fee00cc3a9031f079ba6">mode</a></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;       % MmOrigInv = inv(handles.Mm);</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;       % Mm        = handles.Mm*(handles.Mrot.&#39;)  % this is even different than handles.Mm*handles.Mrot       </div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;       % ((handles.Mm.&#39;)*(handles.Mrot.&#39;)).&#39;  is the same as below</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;       Mm        = handles.Mrot*handles.Mm;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;       </div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;       Mminv     = inv(Mm);</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;       % <a class="code" href="qmb_8m.html#aa32473e7c2134539f1ba31d78099a876">find</a> the integer <a class="code" href="convert2cfg_8m.html#a923d61728dac7c6dff07427a901c9ba9">positions</a> of the corners of the big cube:</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;       Mbox   = [handles.BoxX 0 0;0 handles.BoxY 0; 0 0 handles.BoxZ];</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;       box    = [0 0 0;1 0 0; 1 1 0; 0 1 0;0 0 1;1 0 1; 1 1 1; 0 1 1]*Mbox;</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;       % boxred = box*Mminv;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;       boxred = (Mminv*(box.&#39;)).&#39;;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;       NxMin = min(<a class="code" href="advanced_settings_8m.html#a05ceb1cc3b74082a4c5ce7f459a483d4">floor</a>(boxred(:,1)))-1;         NxMax =  <a class="code" href="convert2cfg_8m.html#a20fc5038c021fd98154bd49a45a0e238">max</a>(ceil(boxred(:,1)));</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;       NyMin = min(<a class="code" href="advanced_settings_8m.html#a05ceb1cc3b74082a4c5ce7f459a483d4">floor</a>(boxred(:,2)))-1;         NyMax =  <a class="code" href="convert2cfg_8m.html#a20fc5038c021fd98154bd49a45a0e238">max</a>(ceil(boxred(:,2)));</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;       NzMin = min(<a class="code" href="advanced_settings_8m.html#a05ceb1cc3b74082a4c5ce7f459a483d4">floor</a>(boxred(:,3)))-1;         NzMax =  <a class="code" href="convert2cfg_8m.html#a20fc5038c021fd98154bd49a45a0e238">max</a>(ceil(boxred(:,3)));</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;       % <a class="code" href="qstem_8m.html#ae78618edac03dcbe434c7a42daf5bcee">fprintf</a>(&#39;%<a class="code" href="_read_d_m3___matlab_8m.html#a1aabac6d068eef6a7bad3fdf50a05cc8">d</a> .. %<a class="code" href="_read_d_m3___matlab_8m.html#a1aabac6d068eef6a7bad3fdf50a05cc8">d</a> | %<a class="code" href="_read_d_m3___matlab_8m.html#a1aabac6d068eef6a7bad3fdf50a05cc8">d</a> .. %<a class="code" href="_read_d_m3___matlab_8m.html#a1aabac6d068eef6a7bad3fdf50a05cc8">d</a> | %<a class="code" href="_read_d_m3___matlab_8m.html#a1aabac6d068eef6a7bad3fdf50a05cc8">d</a> .. %<a class="code" href="_read_d_m3___matlab_8m.html#a1aabac6d068eef6a7bad3fdf50a05cc8">d</a>\n&#39;,NxMin,NxMax,NyMin,NyMax,NzMin,NzMax);</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;       coords0 = coords;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;       Natom = <a class="code" href="_displacement_params_8m.html#affbd44b02f0a59a4922b0c7d090cadd4">size</a>(coords,1);</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;       coords = [];</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;       for <a class="code" href="_display_model_properties_8m.html#a76b405b72b88bde9488209ac06ddb714">ix</a> = NxMin:NxMax</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;           for <a class="code" href="_display_model_properties_8m.html#af4c5cec9fce175f73b7da5ecd33c2af6">iy</a> = NyMin:NyMax</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;               for iz = NzMin:NzMax               </div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;                   % newcoords = (coords0+repmat([0 <a class="code" href="_display_model_properties_8m.html#a76b405b72b88bde9488209ac06ddb714">ix</a> <a class="code" href="_display_model_properties_8m.html#af4c5cec9fce175f73b7da5ecd33c2af6">iy</a> iz 0 0 0],Natom,1))*Mm;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;                   % newcoords = [coords0(:,1) (coords0(:,2:4)+repmat([<a class="code" href="_display_model_properties_8m.html#a76b405b72b88bde9488209ac06ddb714">ix</a> <a class="code" href="_display_model_properties_8m.html#af4c5cec9fce175f73b7da5ecd33c2af6">iy</a> iz],Natom,1))*Mm+repmat([handles.PotentialOffsetX,handles.PotentialOffsetY,0],Natom,1)  coords0(:,5:7)];</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;                   newcoords = [coords0(:,1) (Mm*(coords0(:,2:4).&#39;+repmat([<a class="code" href="_display_model_properties_8m.html#a76b405b72b88bde9488209ac06ddb714">ix</a> <a class="code" href="_display_model_properties_8m.html#af4c5cec9fce175f73b7da5ecd33c2af6">iy</a> iz].&#39;,1,Natom))).&#39;+repmat([handles.PotentialOffsetX,handles.PotentialOffsetY,0],Natom,1)  coords0(:,5:7)];</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                   <a class="code" href="_displacement_params_8m.html#a01a4e1016a69f35833aabe42f9174645">ind</a> = <a class="code" href="qmb_8m.html#aa32473e7c2134539f1ba31d78099a876">find</a>((<a class="code" href="read_c_f_g__qstem_8m.html#a85162b5d5e6736f5aa8616580d4e8a75">sum</a>(newcoords(:,2:4)&lt;0,2)==0) &amp; (newcoords(:,2)&lt;=handles.BoxX) &amp; (newcoords(:,3)&lt;=handles.BoxY)&amp; (newcoords(:,4)&lt;=handles.BoxZ));</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                   <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ~<a class="code" href="qstem_8m.html#ad23232aca9449743c8dbb4e79af48bd4">isempty</a>(<a class="code" href="_displacement_params_8m.html#a01a4e1016a69f35833aabe42f9174645">ind</a>)</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                       coords = [coords; newcoords(<a class="code" href="_displacement_params_8m.html#a01a4e1016a69f35833aabe42f9174645">ind</a>,:)];</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                   <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;               <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;           <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;       <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;       <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> (0)</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;           ind = <a class="code" href="qmb_8m.html#aa32473e7c2134539f1ba31d78099a876">find</a>((<a class="code" href="read_c_f_g__qstem_8m.html#a85162b5d5e6736f5aa8616580d4e8a75">sum</a>(coords(:,2:4)&lt;0,2)==0) &amp; (coords(:,2)&lt;=handles.BoxX) &amp; (coords(:,3)&lt;=handles.BoxY)&amp; (coords(:,4)&lt;=handles.BoxZ));</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;           coords = coords(ind,:);</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;       <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    hold off</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> (0)</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        <a class="code" href="_display_model_properties_8m.html#a391e34f2de441d79152a7b3d6e4c9c86">figure</a>;</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;        <a class="code" href="draw_xtal_8m.html#abc26c33960c3103b4dade478795ea82b">h</a> = scatter(handles.PotentialOffsetX+coords(:,2),handles.PotentialOffsetY+coords(:,3),handles.<a class="code" href="qstem_8m.html#a09bb454984385122db7f31c4d15310a9">atomSize</a>,[0 0 0],&#39;<a class="code" href="_display_model_properties_8m.html#ad2fefc6d13dcba7604d1dbe5835ccbe9">filled</a>&#39;);</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="draw_xtal_8m.html#abc26c33960c3103b4dade478795ea82b">h</a>,&#39;ButtonDownFcn&#39;,{@scatter_ButtonDownFcn,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>,hObject});</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;        % This is the top view:</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;        <span class="keywordflow">if</span> (0)</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;            <a class="code" href="draw_xtal_8m.html#abc26c33960c3103b4dade478795ea82b">h</a> = scatter(<a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a>(:,2),<a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a>(:,3),<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.atomSize,<a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a>(:,1),<span class="stringliteral">&#39;filled&#39;</span>);</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;            <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="draw_xtal_8m.html#abc26c33960c3103b4dade478795ea82b">h</a>,<span class="stringliteral">&#39;ButtonDownFcn&#39;</span>,{@scatter_ButtonDownFcn,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>,<a class="code" href="_displacement_params_8m.html#a6e69a2e6c16546a1aba75e0422487e55">hObject</a>});</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;            <a class="code" href="draw_xtal_8m.html#a21256831ba759257db42df917f908387">Zmin</a> = min(<a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a>(:,1));</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;            <a class="code" href="draw_xtal_8m.html#a8984593f734b9e7e81fe655c78fa7ea7">Zmax</a> = <a class="code" href="convert2cfg_8m.html#a20fc5038c021fd98154bd49a45a0e238">max</a>(<a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a>(:,1));</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;            <span class="keywordflow">if</span> Zmin == <a class="code" href="draw_xtal_8m.html#a8984593f734b9e7e81fe655c78fa7ea7">Zmax</a></div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                <a class="code" href="draw_xtal_8m.html#a8984593f734b9e7e81fe655c78fa7ea7">Zmax</a> = Zmin+1;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;            <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;            <a class="code" href="draw_xtal_8m.html#a2b41f8c3196a93b87c47b08c3614b5dc">cmap</a> = <a class="code" href="aberrations_8m.html#a41299fb47ae95ac70ff2a59757b16f13">colormap</a>();</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;            % <a class="code" href="qmb_8m.html#a44fc7b4d71d6310e89c58b0d54ad4ef2">sortrows</a>(<a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a>,[1 4]);</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;            <a class="code" href="qmb_8m.html#ac74032f311f4adda9c041808ad50b4c7">coordsNext</a> = <a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a>;</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;            <span class="keywordflow">while</span> <a class="code" href="convert2cfg_8m.html#add57aad399f787c409167e1b6d30ea8a">~isempty</a>(<a class="code" href="qmb_8m.html#ac74032f311f4adda9c041808ad50b4c7">coordsNext</a>)</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;                <a class="code" href="_displacement_params_8m.html#accc427d493facd9d795029ff42af0392">Z</a> = <a class="code" href="qmb_8m.html#ac74032f311f4adda9c041808ad50b4c7">coordsNext</a>(1,1);</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;                <a class="code" href="_displacement_params_8m.html#a01a4e1016a69f35833aabe42f9174645">ind</a> = <a class="code" href="qmb_8m.html#aa32473e7c2134539f1ba31d78099a876">find</a>(coordsNext(:,1) == <a class="code" href="_displacement_params_8m.html#accc427d493facd9d795029ff42af0392">Z</a>);</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                <a class="code" href="convert2cfg_8m.html#abec65cbed63875da4a4ea5447e83b867">col</a> = 1+round((Z-Zmin)/(Zmax-Zmin)*(<a class="code" href="_displacement_params_8m.html#affbd44b02f0a59a4922b0c7d090cadd4">size</a>(cmap,1)-1));</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;                <a class="code" href="draw_xtal_8m.html#abc26c33960c3103b4dade478795ea82b">h</a> = <a class="code" href="_display_model_properties_8m.html#a4a4817b8f77622be8fc00228c8ab44f3">plot</a>(coordsNext(<a class="code" href="_displacement_params_8m.html#a01a4e1016a69f35833aabe42f9174645">ind</a>,2),coordsNext(ind,3),&#39;.&#39;,&#39;MarkerSize&#39;,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="qstem_8m.html#a09bb454984385122db7f31c4d15310a9">atomSize</a>,&#39;MarkerEdgeColor&#39;,cmap(<a class="code" href="convert2cfg_8m.html#abec65cbed63875da4a4ea5447e83b867">col</a>,:));</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;                hold <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a></div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;                <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="draw_xtal_8m.html#abc26c33960c3103b4dade478795ea82b">h</a>,&#39;ButtonDownFcn&#39;,{@scatter_ButtonDownFcn,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>,<a class="code" href="_displacement_params_8m.html#a6e69a2e6c16546a1aba75e0422487e55">hObject</a>});                </div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;                <a class="code" href="qmb_8m.html#ac74032f311f4adda9c041808ad50b4c7">coordsNext</a> = <a class="code" href="qmb_8m.html#ac74032f311f4adda9c041808ad50b4c7">coordsNext</a>(<a class="code" href="qmb_8m.html#aa32473e7c2134539f1ba31d78099a876">find</a>(<a class="code" href="qmb_8m.html#ac74032f311f4adda9c041808ad50b4c7">coordsNext</a>(:,1) ~= <a class="code" href="_displacement_params_8m.html#accc427d493facd9d795029ff42af0392">Z</a>),:);                </div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;            <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;            <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.axes_model,<span class="stringliteral">&#39;YDir&#39;</span>,<span class="stringliteral">&#39;normal&#39;</span>);</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;            hold off</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    </div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    % show the potential window as <a class="code" href="image_sim_8m.html#a2fd56ce4970b3332e6c626b31607b782">well</a> as the scan <a class="code" href="convert2cfg_8m.html#a923d61728dac7c6dff07427a901c9ba9">positions</a>:</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.modeNum == 1) || (<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.modeNum == 2)  % <span class="keywordflow">if</span> we are <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> scan (<a class="code" href="stemtypes__fftw3_8hpp.html#ae37055f0823281ce47997ab6602bb607">STEM</a>) <a class="code" href="qstem_8m.html#aabea1a308e18fee00cc3a9031f079ba6">mode</a></div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;        hold <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a></div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Xpixels &gt; 0) &amp;&amp; (<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Ypixels &gt; 0)</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;            <a class="code" href="binwrite2_d_8m.html#af50f21d9ce17d934229f60fd58b3fac0">dx</a> = (<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Xstop-<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Xstart)/<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Xpixels;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;            <a class="code" href="binwrite2_d_8m.html#ac6bb4b856c3d13f19466d849c6ae0138">dy</a> = (<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Ystop-<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Ystart)/<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Ypixels;</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;        <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        <a class="code" href="qmb_8m.html#af79869f374612ad3c80fb889bca60bb0">x1</a> = <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Xstart-0.5*<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.ProbeWindowX;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;        <a class="code" href="qmb_8m.html#aab2463cd078f7c5368f6eb80f5a549b8">x2</a> = <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Xstop+0.5*<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.ProbeWindowX;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        <a class="code" href="qmb_8m.html#a7f911dc1dbbc41c6cae56357e8fb2230">y1</a> = <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Ystart-0.5*<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.ProbeWindowY;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        <a class="code" href="qmb_8m.html#a41b94b12b7cb45b3ddee299d4e7b79e8">y2</a> = <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Ystop+0.5*<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.ProbeWindowY;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;        <a class="code" href="draw_xtal_8m.html#abc26c33960c3103b4dade478795ea82b">h</a> = patch([x1 <a class="code" href="qmb_8m.html#aab2463cd078f7c5368f6eb80f5a549b8">x2</a> <a class="code" href="qmb_8m.html#aab2463cd078f7c5368f6eb80f5a549b8">x2</a> x1],[<a class="code" href="qmb_8m.html#a7f911dc1dbbc41c6cae56357e8fb2230">y1</a> <a class="code" href="qmb_8m.html#a7f911dc1dbbc41c6cae56357e8fb2230">y1</a> <a class="code" href="qmb_8m.html#a41b94b12b7cb45b3ddee299d4e7b79e8">y2</a> <a class="code" href="qmb_8m.html#a41b94b12b7cb45b3ddee299d4e7b79e8">y2</a>],[1 0 0]); <a class="code" href="convert2cfg_8m.html#a62197192f0fbf4e0675eb37be1c4c175">alpha</a>(0.2);</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;        <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="draw_xtal_8m.html#abc26c33960c3103b4dade478795ea82b">h</a>,<span class="stringliteral">&#39;ButtonDownFcn&#39;</span>,{@scatter_ButtonDownFcn,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>,<a class="code" href="_displacement_params_8m.html#a6e69a2e6c16546a1aba75e0422487e55">hObject</a>});</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;        x1 = <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Xstart;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;        <a class="code" href="qmb_8m.html#aab2463cd078f7c5368f6eb80f5a549b8">x2</a> = <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Xstop;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        <a class="code" href="qmb_8m.html#a7f911dc1dbbc41c6cae56357e8fb2230">y1</a> = <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Ystart;</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;        <a class="code" href="qmb_8m.html#a41b94b12b7cb45b3ddee299d4e7b79e8">y2</a> = <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Ystop;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;        <a class="code" href="draw_xtal_8m.html#abc26c33960c3103b4dade478795ea82b">h</a> = patch([x1 <a class="code" href="qmb_8m.html#aab2463cd078f7c5368f6eb80f5a549b8">x2</a> <a class="code" href="qmb_8m.html#aab2463cd078f7c5368f6eb80f5a549b8">x2</a> x1],[<a class="code" href="qmb_8m.html#a7f911dc1dbbc41c6cae56357e8fb2230">y1</a> <a class="code" href="qmb_8m.html#a7f911dc1dbbc41c6cae56357e8fb2230">y1</a> <a class="code" href="qmb_8m.html#a41b94b12b7cb45b3ddee299d4e7b79e8">y2</a> <a class="code" href="qmb_8m.html#a41b94b12b7cb45b3ddee299d4e7b79e8">y2</a>],[0 1 0]); <a class="code" href="convert2cfg_8m.html#a62197192f0fbf4e0675eb37be1c4c175">alpha</a>(0.2);</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;        <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="draw_xtal_8m.html#abc26c33960c3103b4dade478795ea82b">h</a>,<span class="stringliteral">&#39;ButtonDownFcn&#39;</span>,{@scatter_ButtonDownFcn,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>,<a class="code" href="_displacement_params_8m.html#a6e69a2e6c16546a1aba75e0422487e55">hObject</a>});</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        [X,Y] = meshgrid(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Xstart+<a class="code" href="binwrite2_d_8m.html#af50f21d9ce17d934229f60fd58b3fac0">dx</a>*[0:<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Xpixels],<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Ystart+<a class="code" href="binwrite2_d_8m.html#ac6bb4b856c3d13f19466d849c6ae0138">dy</a>*[0:<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Ypixels]);</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;        <a class="code" href="draw_xtal_8m.html#abc26c33960c3103b4dade478795ea82b">h</a> = scatter(<a class="code" href="convert2cfg_8m.html#ac51b57a703ba1c5869228690c93e1701">X</a>(1:<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a>),<a class="code" href="convert2cfg_8m.html#ae76081fb2cef09480162f3c1b69dfbb2">Y</a>(1:<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a>),50,<span class="stringliteral">&#39;k+&#39;</span>);</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="draw_xtal_8m.html#abc26c33960c3103b4dade478795ea82b">h</a>,<span class="stringliteral">&#39;ButtonDownFcn&#39;</span>,{@scatter_ButtonDownFcn,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>,<a class="code" href="_displacement_params_8m.html#a6e69a2e6c16546a1aba75e0422487e55">hObject</a>});</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;        </div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;        hold off</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <span class="keywordflow">else</span>  % <span class="keywordflow">if</span> we are <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="stemtypes__fftw3_8hpp.html#a5abef251d47456e7981e8f1ae7ba2a9a">TEM</a> <a class="code" href="qstem_8m.html#aabea1a308e18fee00cc3a9031f079ba6">mode</a>:</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;        x1 = min([<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.boundingBox(:,1); 0]);</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;        <a class="code" href="qmb_8m.html#aab2463cd078f7c5368f6eb80f5a549b8">x2</a> = <a class="code" href="convert2cfg_8m.html#a20fc5038c021fd98154bd49a45a0e238">max</a>([<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.boundingBox(:,1); <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.ProbeWindowX]);</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;        <a class="code" href="qmb_8m.html#a7f911dc1dbbc41c6cae56357e8fb2230">y1</a> = min([<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.boundingBox(:,2); 0]);</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;        <a class="code" href="qmb_8m.html#a41b94b12b7cb45b3ddee299d4e7b79e8">y2</a> = <a class="code" href="convert2cfg_8m.html#a20fc5038c021fd98154bd49a45a0e238">max</a>([<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.boundingBox(:,2); <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.ProbeWindowY]);</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;        <a class="code" href="draw_xtal_8m.html#abc26c33960c3103b4dade478795ea82b">h</a> = patch([0 <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.ProbeWindowX <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.ProbeWindowX 0],[0 0 <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.ProbeWindowY <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.ProbeWindowY],[1 0 0]); <a class="code" href="convert2cfg_8m.html#a62197192f0fbf4e0675eb37be1c4c175">alpha</a>(0.2);</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(h,<span class="stringliteral">&#39;ButtonDownFcn&#39;</span>,{@scatter_ButtonDownFcn,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>,<a class="code" href="_displacement_params_8m.html#a6e69a2e6c16546a1aba75e0422487e55">hObject</a>});</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;        <a class="code" href="aberrations_8m.html#a5eb8d5664fde7892dc80f5dbe5218568">xlim</a>([x1 x2]);</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;        <a class="code" href="aberrations_8m.html#a1d335e5bcdf56df6b3b7e32f4bc4b9ec">ylim</a>([y1 y2]);</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;<span class="keywordflow">else</span></div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%555</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    % show front view:</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%555</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    </div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    % replicate <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="convert2cfg_8m.html#ac51b57a703ba1c5869228690c93e1701">X</a>- and <a class="code" href="_displacement_params_8m.html#accc427d493facd9d795029ff42af0392">Z</a>-direction, <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="image_sim_8m.html#accfa32fc89ba0b38e0504d8b8a0a6f54">requested</a></div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="aberrations_8m.html#a28e9293ee026e172309e68c6c4671a07">get</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.radiobutton_Ncells,&#39;<a class="code" href="_display_model_properties_8m.html#aa3e85bcc21f31fb262e8662d5e2a8764">Value</a>&#39;)</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> modelSize &gt; 0</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;            coords0 = <a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a>;</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;            <a class="code" href="_display_model_properties_8m.html#af443bf254531220087dc4c76086f3c60">Natom</a> = <a class="code" href="_displacement_params_8m.html#affbd44b02f0a59a4922b0c7d090cadd4">size</a>(<a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a>,1);</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        </div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;            % If the user <a class="code" href="qstem_8m.html#aa6941f884e278157f98a91b064426421">selected</a> Ncell <a class="code" href="qstem_8m.html#aabea1a308e18fee00cc3a9031f079ba6">mode</a>:</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;            <span class="keywordflow">for</span> <a class="code" href="_display_model_properties_8m.html#af4c5cec9fce175f73b7da5ecd33c2af6">iy</a>=0:<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.NcellY-1</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;                for <a class="code" href="_display_model_properties_8m.html#a76b405b72b88bde9488209ac06ddb714">ix</a> = 0:handles.NcellX-1</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;                    if (<a class="code" href="_display_model_properties_8m.html#a76b405b72b88bde9488209ac06ddb714">ix</a> == 0) &amp;&amp; (<a class="code" href="_display_model_properties_8m.html#af4c5cec9fce175f73b7da5ecd33c2af6">iy</a> == 0)</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;                        for iz = 1:modelSize-1</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;                            coords = [coords; coords0+repmat([0 <a class="code" href="_display_model_properties_8m.html#a76b405b72b88bde9488209ac06ddb714">ix</a> <a class="code" href="_display_model_properties_8m.html#af4c5cec9fce175f73b7da5ecd33c2af6">iy</a> iz 0 0 0],<a class="code" href="_display_model_properties_8m.html#af443bf254531220087dc4c76086f3c60">Natom</a>,1)];</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                        <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                        <span class="keywordflow">for</span> iz = 0:modelSize-1</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                            <a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a> = [<a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a>; coords0+repmat([0 <a class="code" href="_display_model_properties_8m.html#a76b405b72b88bde9488209ac06ddb714">ix</a> <a class="code" href="_display_model_properties_8m.html#af4c5cec9fce175f73b7da5ecd33c2af6">iy</a> iz 0 0 0],<a class="code" href="_display_model_properties_8m.html#af443bf254531220087dc4c76086f3c60">Natom</a>,1)];</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                        <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                    <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;            <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;        <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;        % <a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a>(:,2:4) = (<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Mrot*((<a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a>(:,2:4)*<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Mm).<span class="stringliteral">&#39;)).&#39;</span>;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;        <a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a>(:,2:4) = (<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Mm*(<a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a>(:,2:4).<span class="stringliteral">&#39;)).&#39;</span>;</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        Ncoords = <a class="code" href="_displacement_params_8m.html#affbd44b02f0a59a4922b0c7d090cadd4">size</a>(<a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a>,1);</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;        % Do the rotation:</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        <span class="keywordflow">if</span> <a class="code" href="read_c_f_g__qstem_8m.html#a85162b5d5e6736f5aa8616580d4e8a75">sum</a>(<a class="code" href="read_c_f_g__qstem_8m.html#a85162b5d5e6736f5aa8616580d4e8a75">sum</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Mrot == eye(3))) &lt; 9</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;            <a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a>(:,2:4) = repmat(rotationCenter,Ncoords,1)+(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="rotate_zone_axis_8m.html#a68f78b58110e3cb5e477322ce0248870">Mrot</a>*(<a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a>(:,2:4)-repmat(rotationCenter,Ncoords,1)).&#39;).&#39;;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;            % <a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a>(:,2:4) = repmat(rotationCenter,Ncoords,1)+(<a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a>(:,2:4)-repmat(rotationCenter,Ncoords,1))*(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="rotate_zone_axis_8m.html#a68f78b58110e3cb5e477322ce0248870">Mrot</a>.&#39;);</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;            % <a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a>(:,2:4) = <a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a>(:,2:4)-repmat(NcellPotOffset,Ncoords,1);</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;        <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;        <a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a>(:,2:4) = <a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a>(:,2:4)-repmat(NcellPotOffset-[<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.PotentialOffsetX,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.PotentialOffsetY,0],Ncoords,1);</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <span class="keywordflow">else</span>  % Box <a class="code" href="qstem_8m.html#aabea1a308e18fee00cc3a9031f079ba6">mode</a> !!!  front view</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        % <a class="code" href="convert2cfg_8m.html#adaf2296b0af0af8d6d31aa11f288b107">msgbox</a>(<span class="stringliteral">&#39;Box mode not implemented yet!&#39;</span>);</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        <a class="code" href="qstem_8m.html#aef05d27f63c3f06ffb0342ae902906b1">Mm</a>        = <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Mrot*<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Mm;</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;        </div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        Mminv     = inv(<a class="code" href="qstem_8m.html#aef05d27f63c3f06ffb0342ae902906b1">Mm</a>);</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        % <a class="code" href="qmb_8m.html#aa32473e7c2134539f1ba31d78099a876">find</a> the integer <a class="code" href="convert2cfg_8m.html#a923d61728dac7c6dff07427a901c9ba9">positions</a> of the corners of the big cube:</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        Mbox   = [handles.BoxX 0 0;0 handles.BoxY 0; 0 0 handles.BoxZ];</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;        <a class="code" href="read_c_f_g__qstem_8m.html#a552eedb796e4ec274fe617b434bf69b2">box</a>    = [0 0 0;1 0 0; 1 1 0; 0 1 0;0 0 1;1 0 1; 1 1 1; 0 1 1]*Mbox;</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;        % boxred = <a class="code" href="read_c_f_g__qstem_8m.html#a552eedb796e4ec274fe617b434bf69b2">box</a>*Mminv;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;        boxred = (Mminv*(<a class="code" href="read_c_f_g__qstem_8m.html#a552eedb796e4ec274fe617b434bf69b2">box</a>.<span class="stringliteral">&#39;)).&#39;</span>;</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;        NxMin = min(<a class="code" href="advanced_settings_8m.html#a05ceb1cc3b74082a4c5ce7f459a483d4">floor</a>(boxred(:,1)))-1;         NxMax =  <a class="code" href="convert2cfg_8m.html#a20fc5038c021fd98154bd49a45a0e238">max</a>(ceil(boxred(:,1)));</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;        NyMin = min(<a class="code" href="advanced_settings_8m.html#a05ceb1cc3b74082a4c5ce7f459a483d4">floor</a>(boxred(:,2)))-1;         NyMax =  <a class="code" href="convert2cfg_8m.html#a20fc5038c021fd98154bd49a45a0e238">max</a>(ceil(boxred(:,2)));</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        NzMin = min(<a class="code" href="advanced_settings_8m.html#a05ceb1cc3b74082a4c5ce7f459a483d4">floor</a>(boxred(:,3)))-1;         NzMax =  <a class="code" href="convert2cfg_8m.html#a20fc5038c021fd98154bd49a45a0e238">max</a>(ceil(boxred(:,3)));</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        % <a class="code" href="qstem_8m.html#ae78618edac03dcbe434c7a42daf5bcee">fprintf</a>(<span class="stringliteral">&#39;%d .. %d | %d .. %d | %d .. %d\n&#39;</span>,NxMin,NxMax,NyMin,NyMax,NzMin,NzMax);</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        coords0 = <a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a>;</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;        <a class="code" href="_display_model_properties_8m.html#af443bf254531220087dc4c76086f3c60">Natom</a> = <a class="code" href="_displacement_params_8m.html#affbd44b02f0a59a4922b0c7d090cadd4">size</a>(<a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a>,1);</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;        <a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a> = [];</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;        <span class="keywordflow">for</span> <a class="code" href="_display_model_properties_8m.html#a76b405b72b88bde9488209ac06ddb714">ix</a> = NxMin:NxMax</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;            <span class="keywordflow">for</span> <a class="code" href="_display_model_properties_8m.html#af4c5cec9fce175f73b7da5ecd33c2af6">iy</a> = NyMin:NyMax</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;                <span class="keywordflow">for</span> iz = NzMin:NzMax</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;                    % <a class="code" href="qstem_8m.html#ae78618edac03dcbe434c7a42daf5bcee">fprintf</a>(<span class="stringliteral">&#39;%d %d %d: (%f %f %f) %f %f %f\n&#39;</span>,<a class="code" href="_display_model_properties_8m.html#a76b405b72b88bde9488209ac06ddb714">ix</a>,iy,iz,coords0(1,2:4),(<a class="code" href="qstem_8m.html#aef05d27f63c3f06ffb0342ae902906b1">Mm</a>*(coords0(1,2:4).<span class="stringliteral">&#39;+[ix iy iz].&#39;</span>)).<span class="stringliteral">&#39;);</span></div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;<span class="stringliteral">                    % coords = [coords; coords0+repmat([0 ix iy iz 0 0 0],Natom,1)];</span></div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;<span class="stringliteral">                    % newcoords = [coords0(:,1) (coords0(:,2:4)+repmat([ix iy iz],Natom,1))*Mm+repmat([handles.PotentialOffsetX,handles.PotentialOffsetY,0],Natom,1) coords0(:,5:7)];                      </span></div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;<span class="stringliteral">                    newcoords = [coords0(:,1) (Mm*(coords0(:,2:4).&#39;</span>+repmat([<a class="code" href="_display_model_properties_8m.html#a76b405b72b88bde9488209ac06ddb714">ix</a> iy iz].<span class="stringliteral">&#39;,1,Natom))).&#39;</span>+repmat([<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.PotentialOffsetX,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.PotentialOffsetY,0],<a class="code" href="_display_model_properties_8m.html#af443bf254531220087dc4c76086f3c60">Natom</a>,1)  coords0(:,5:7)];</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;                    <a class="code" href="_displacement_params_8m.html#a01a4e1016a69f35833aabe42f9174645">ind</a> = <a class="code" href="qmb_8m.html#aa32473e7c2134539f1ba31d78099a876">find</a>((<a class="code" href="read_c_f_g__qstem_8m.html#a85162b5d5e6736f5aa8616580d4e8a75">sum</a>(newcoords(:,2:4)&lt;0,2)==0) &amp; (newcoords(:,2)&lt;=<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.BoxX) &amp; (newcoords(:,3)&lt;=<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.BoxY)&amp; (newcoords(:,4)&lt;=<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.BoxZ));</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;                    <span class="keywordflow">if</span> <a class="code" href="convert2cfg_8m.html#add57aad399f787c409167e1b6d30ea8a">~isempty</a>(ind)</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;                        <a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a> = [<a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a>; newcoords(ind,:)];</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;                    <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a>                </div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;            <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;        <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;        <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> (0)</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;            % coords(:,2:4) = (<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="rotate_zone_axis_8m.html#a68f78b58110e3cb5e477322ce0248870">Mrot</a>*((coords(:,2:4)*<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="qstem_8m.html#aef05d27f63c3f06ffb0342ae902906b1">Mm</a>).&#39;)).&#39;;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;            %coords(:,2:4) = coords(:,2:4)*Mm;</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;            ind = <a class="code" href="qmb_8m.html#aa32473e7c2134539f1ba31d78099a876">find</a>((<a class="code" href="read_c_f_g__qstem_8m.html#a85162b5d5e6736f5aa8616580d4e8a75">sum</a>(coords(:,2:4)&lt;0,2)==0) &amp; (coords(:,2)&lt;=<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="qmb_8m.html#a13f76be53ff17401f7d3d4ed11b8ea45">BoxX</a>) &amp; (coords(:,3)&lt;=<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="qmb_8m.html#aec6c8f052b22d3766d849e2feba40010">BoxY</a>)&amp; (coords(:,4)&lt;=<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.BoxZ));</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;            coords = coords(ind,:);</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;        <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;        <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> (<a class="code" href="aberrations_8m.html#a28e9293ee026e172309e68c6c4671a07">get</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.radiobutton_Slab,&#39;<a class="code" href="_display_model_properties_8m.html#aa3e85bcc21f31fb262e8662d5e2a8764">Value</a>&#39;) == 1)</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;            ind = <a class="code" href="qmb_8m.html#aa32473e7c2134539f1ba31d78099a876">find</a>(coords(:,4)&lt;=<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.BoxZ/<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.NsubSlabs);</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;            coords = coords(ind,:);</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;        elseif (<a class="code" href="aberrations_8m.html#a28e9293ee026e172309e68c6c4671a07">get</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.radiobutton_UnitCell,&#39;<a class="code" href="_display_model_properties_8m.html#aa3e85bcc21f31fb262e8662d5e2a8764">Value</a>&#39;) == 1)</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;            ind = <a class="code" href="qmb_8m.html#aa32473e7c2134539f1ba31d78099a876">find</a>(coords(:,4)&lt;=<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Mm(3,3));</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;            coords = coords(ind,:);            </div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;        </div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a>  % <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a> of <a class="code" href="read_c_f_g__qstem_8m.html#a552eedb796e4ec274fe617b434bf69b2">box</a> <a class="code" href="qstem_8m.html#aabea1a308e18fee00cc3a9031f079ba6">mode</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> front view</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.CenterSlices = <a class="code" href="aberrations_8m.html#a28e9293ee026e172309e68c6c4671a07">get</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.checkbox_CenterSlices,&#39;<a class="code" href="_display_model_properties_8m.html#aa3e85bcc21f31fb262e8662d5e2a8764">Value</a>&#39;) == 1;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> (<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="qstem_8m.html#ae5457ac188407029525dae0d288f5060">modeNum</a> == 1) || (<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="qstem_8m.html#ae5457ac188407029525dae0d288f5060">modeNum</a> == 2)  % for <a class="code" href="stemtypes__fftw3_8hpp.html#ae37055f0823281ce47997ab6602bb607">STEM</a> <a class="code" href="qstem_8m.html#aabea1a308e18fee00cc3a9031f079ba6">mode</a></div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;        x1 = <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Xstart-0.5*<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.ProbeWindowX;</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;        x2 = <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Xstop+0.5*<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.ProbeWindowX;</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        dz = 0; -min(coords(:,4));</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;        dz = -min(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.boundingBox(:,3));</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;        % <a class="code" href="qstem_8m.html#ae78618edac03dcbe434c7a42daf5bcee">fprintf</a>(&#39;dz= %<a class="code" href="namespacepython_1_1potential.html#af887b24c78c0630197f05f84f19de90c">f</a>, min(coords) = %f\n&#39;,dz,min(coords(:,4)));</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    <a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a>                     % for <a class="code" href="stemtypes__fftw3_8hpp.html#a5abef251d47456e7981e8f1ae7ba2a9a">TEM</a> <a class="code" href="qstem_8m.html#aabea1a308e18fee00cc3a9031f079ba6">mode</a></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;       x1 = min(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.boundingBox(:,1));</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;       x2 = <a class="code" href="convert2cfg_8m.html#a20fc5038c021fd98154bd49a45a0e238">max</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.boundingBox(:,1));</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;       sliceThickness = <a class="code" href="convert2cfg_8m.html#a20fc5038c021fd98154bd49a45a0e238">max</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.boundingBox(:,3))-min(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.boundingBox(:,3));</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;       dz = -min(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.boundingBox(:,3));</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    % <a class="code" href="qstem_8m.html#ae78618edac03dcbe434c7a42daf5bcee">fprintf</a>(&#39;%<a class="code" href="_read_d_m3___matlab_8m.html#a1aabac6d068eef6a7bad3fdf50a05cc8">d</a> <a class="code" href="qmb_8m.html#a7c5cd0264da47e230ba8c984690fe16c">atoms</a>\n&#39;,<a class="code" href="_displacement_params_8m.html#affbd44b02f0a59a4922b0c7d090cadd4">size</a>(coords,1))</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    hold off    </div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> (0)</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        scatter(coords(:,2),<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.PotentialOffsetZ+dz+coords(:,4),<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="qstem_8m.html#a09bb454984385122db7f31c4d15310a9">atomSize</a>,coords(:,1),&#39;<a class="code" href="_display_model_properties_8m.html#ad2fefc6d13dcba7604d1dbe5835ccbe9">filled</a>&#39;);</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    <a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a></div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;        Zmin = min(coords(:,1));</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;        Zmax = <a class="code" href="convert2cfg_8m.html#a20fc5038c021fd98154bd49a45a0e238">max</a>(coords(:,1));</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;        <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> Zmin == Zmax</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;            Zmax = Zmin+1;</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;        <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;        cmap = <a class="code" href="aberrations_8m.html#a41299fb47ae95ac70ff2a59757b16f13">colormap</a>();</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;        % <a class="code" href="qmb_8m.html#a44fc7b4d71d6310e89c58b0d54ad4ef2">sortrows</a>(coords,[1 4]);</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        coordsNext = coords;</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        <a class="code" href="qmb_8m.html#a516de6ea08285d21453660e255a49e88">while</a> ~<a class="code" href="qstem_8m.html#ad23232aca9449743c8dbb4e79af48bd4">isempty</a>(coordsNext)</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;            <a class="code" href="_displacement_params_8m.html#accc427d493facd9d795029ff42af0392">Z</a> = coordsNext(1,1);</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;            ind = <a class="code" href="qmb_8m.html#aa32473e7c2134539f1ba31d78099a876">find</a>(coordsNext(:,1) == <a class="code" href="_displacement_params_8m.html#accc427d493facd9d795029ff42af0392">Z</a>);</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;            <a class="code" href="convert2cfg_8m.html#abec65cbed63875da4a4ea5447e83b867">col</a> = 1+round((Z-Zmin)/(Zmax-Zmin)*(<a class="code" href="_displacement_params_8m.html#affbd44b02f0a59a4922b0c7d090cadd4">size</a>(cmap,1)-1));</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;            <a class="code" href="_display_model_properties_8m.html#a4a4817b8f77622be8fc00228c8ab44f3">plot</a>(coordsNext(ind,2),<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.PotentialOffsetZ+dz+coordsNext(ind,4),&#39;.&#39;,&#39;MarkerSize&#39;,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.atomSize,&#39;MarkerEdgeColor&#39;,cmap(<a class="code" href="convert2cfg_8m.html#abec65cbed63875da4a4ea5447e83b867">col</a>,:));</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;            hold <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a></div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;            coordsNext = coordsNext(<a class="code" href="qmb_8m.html#aa32473e7c2134539f1ba31d78099a876">find</a>(coordsNext(:,1) ~= Z),:);</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;        <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;        hold off        </div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;        <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.axes_model,&#39;YDir&#39;,&#39;reverse&#39;);</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    hold <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    </div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    % x1 = min(coords(:,2));</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    % x2 = <a class="code" href="convert2cfg_8m.html#a20fc5038c021fd98154bd49a45a0e238">max</a>(coords(:,2));</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="aberrations_8m.html#a28e9293ee026e172309e68c6c4671a07">get</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.radiobutton_Ncells,&#39;Value&#39;)  % <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> NCELLS <a class="code" href="qstem_8m.html#aabea1a308e18fee00cc3a9031f079ba6">mode</a> (front view)</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;        sliceThickness = <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.SliceThickness; % <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.NcellZ*<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Mm(3,3)/<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.NsliceTot;</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;        % <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> only <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> single sub-slab is shown:</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> (<a class="code" href="aberrations_8m.html#a28e9293ee026e172309e68c6c4671a07">get</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.radiobutton_UnitCell,&#39;Value&#39;) == 1)</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;            for iz=0:ceil(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.NsliceTot/<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.NcellZ)-1+<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.CenterSlices</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;                patch([x1 x2 x2 x1],sliceThickness*([iz iz iz+1 iz+1]-0.5*<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.CenterSlices),[(mod(iz,3)==0),(mod(iz,3)==1),(mod(iz,3)==2)]); <a class="code" href="convert2cfg_8m.html#a62197192f0fbf4e0675eb37be1c4c175">alpha</a>(0.2);</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;            <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;        elseif (<a class="code" href="aberrations_8m.html#a28e9293ee026e172309e68c6c4671a07">get</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.radiobutton_Slab,&#39;Value&#39;) == 1)</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;            for iz=0:<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Nslice-1+<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.CenterSlices</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;                patch([x1 x2 x2 x1],sliceThickness*([iz iz iz+1 iz+1]-0.5*<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.CenterSlices),[(mod(iz,3)==0),(mod(iz,3)==1),(mod(iz,3)==2)]); <a class="code" href="convert2cfg_8m.html#a62197192f0fbf4e0675eb37be1c4c175">alpha</a>(0.2);</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;            <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;        elseif (<a class="code" href="aberrations_8m.html#a28e9293ee026e172309e68c6c4671a07">get</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.radiobutton_SuperCell,&#39;Value&#39;) == 1)</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;            for iz=0:<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.NsubSlabs-1</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;                patch([x1 x2 x2 x1],<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Nslice*sliceThickness*[iz iz iz+1 iz+1],[(mod(iz,3)==0),(mod(iz,3)==1),(mod(iz,3)==2)]); <a class="code" href="convert2cfg_8m.html#a62197192f0fbf4e0675eb37be1c4c175">alpha</a>(0.2);</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;            <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;        <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    <a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a>  % <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="read_c_f_g__qstem_8m.html#a552eedb796e4ec274fe617b434bf69b2">box</a> <a class="code" href="qstem_8m.html#aabea1a308e18fee00cc3a9031f079ba6">mode</a> (front view)</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;        sliceThickness = <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.BoxZ/<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.NsliceTot;</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;        <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> (<a class="code" href="aberrations_8m.html#a28e9293ee026e172309e68c6c4671a07">get</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.radiobutton_UnitCell,&#39;Value&#39;) == 1)</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;            for iz=0:ceil(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.NsliceTot/(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.BoxZ/<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Mm(3,3)))-1+<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.CenterSlices</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;                patch([x1 x2 x2 x1],sliceThickness*([iz iz iz+1 iz+1]-0.5*<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.CenterSlices),[(mod(iz,3)==0),(mod(iz,3)==1),(mod(iz,3)==2)]); <a class="code" href="convert2cfg_8m.html#a62197192f0fbf4e0675eb37be1c4c175">alpha</a>(0.2);</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;            <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;        elseif (<a class="code" href="aberrations_8m.html#a28e9293ee026e172309e68c6c4671a07">get</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.radiobutton_Slab,&#39;Value&#39;) == 1)</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;            for iz=0:ceil(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.BoxZ/(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.NsubSlabs*sliceThickness))-1+<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.CenterSlices</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;                patch([x1 x2 x2 x1],sliceThickness*([iz iz iz+1 iz+1]-0.5*<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.CenterSlices),[(mod(iz,3)==0),(mod(iz,3)==1),(mod(iz,3)==2)]); <a class="code" href="convert2cfg_8m.html#a62197192f0fbf4e0675eb37be1c4c175">alpha</a>(0.2);</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;            <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;        elseif (<a class="code" href="aberrations_8m.html#a28e9293ee026e172309e68c6c4671a07">get</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.radiobutton_SuperCell,&#39;Value&#39;) == 1)</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;            for iz=0:<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.NsubSlabs-1</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;                patch([x1 x2 x2 x1],<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Nslice*sliceThickness*[iz iz iz+1 iz+1],[(mod(iz,3)==0),(mod(iz,3)==1),(mod(iz,3)==2)]); <a class="code" href="convert2cfg_8m.html#a62197192f0fbf4e0675eb37be1c4c175">alpha</a>(0.2);</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;            <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;        <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        </div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a>  % <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a> of plotting the patch (front view)</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    </div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    hold off</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;axis <a class="code" href="_display_model_properties_8m.html#afeaa7ecdd726aa1950ba61dc659eb561">equal</a>; axis <a class="code" href="_display_model_properties_8m.html#a1a71f5e406b211ed616173276484b78b">tight</a></div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.coords = coords;</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;clear coords</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;<a class="code" href="_display_model_properties_8m.html#ace6453c265aedf6f6d285350c6f6a7ec">pause</a>(0.2)</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="qstem_8m.html#ae5457ac188407029525dae0d288f5060">modeNum</a> == 0</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.pushbutton_ImageSim,&#39;Visible&#39;,&#39;<a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a>&#39;);</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.pushbutton_MoreAberrations,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.pushbutton_ImageSim,&#39;Visible&#39;,&#39;on&#39;);</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    % <a class="code" href="qstem_8m.html#ae78618edac03dcbe434c7a42daf5bcee">fprintf</a>(&#39;<a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="stemtypes__fftw3_8hpp.html#a5abef251d47456e7981e8f1ae7ba2a9a">TEM</a> <a class="code" href="qstem_8m.html#aabea1a308e18fee00cc3a9031f079ba6">mode</a> ...\n&#39;);</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;<a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a></div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.pushbutton_ImageSim,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.pushbutton_MoreAberrations,&#39;Visible&#39;,&#39;on&#39;);</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    % <a class="code" href="qstem_8m.html#ae78618edac03dcbe434c7a42daf5bcee">fprintf</a>(&#39;<a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="stemtypes__fftw3_8hpp.html#ae37055f0823281ce47997ab6602bb607">STEM</a> <a class="code" href="qstem_8m.html#aabea1a308e18fee00cc3a9031f079ba6">mode</a> ...\n&#39;);</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;<a class="code" href="_display_model_properties_8m.html#ace6453c265aedf6f6d285350c6f6a7ec">pause</a>(0.2)</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(<a class="code" href="_displacement_params_8m.html#a6e69a2e6c16546a1aba75e0422487e55">hObject</a>, <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>);</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;% --- Executes on <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> press <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> pushbuttonLoadModel.</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> handles = pushbuttonLoadModel_Callback(hObject, <a class="code" href="aberrations___t_e_m_8m.html#a5f0afe6204672342221604c5c8eb3887">eventdata</a>, handles,<a class="code" href="qstem_8m.html#a2f8cce2b1dd242f340f7458147e5b402">askUser</a>,showStruct)</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;% hObject    handle to pushbuttonLoadModel (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="convert2cfg_8m.html#a7f9b12e953d2678415a3d421f36ae4d6">nargin</a> &lt; 4</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    showStruct = 1;</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> (<a class="code" href="convert2cfg_8m.html#a7f9b12e953d2678415a3d421f36ae4d6">nargin</a> &lt; 4)</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    askUser = 1;</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="_displacement_params_8m.html#acde093ecb328e089c7e8699979b778d1">isfield</a>(handles,&#39;<a class="code" href="_display_model_properties_8m.html#addd102b0e03af2114c4c0c229debaf4d">posFileName</a>&#39;)</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    [<a class="code" href="qstem_8m.html#a9de6303e6ac6d19c016afd7d700038cc">pathname</a>, <a class="code" href="qstem_8m.html#a1a3091fb7347c8f640f7b03687dadd44">filename</a>, ext] = <a class="code" href="qmb_8m.html#a3f5148a2cb27e0bbf68da5bed91b82e0">fileparts</a>(handles.<a class="code" href="_display_model_properties_8m.html#addd102b0e03af2114c4c0c229debaf4d">posFileName</a>);</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    filename = [filename ext];</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;<a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a></div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    askUser = 1;</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> (askUser)</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="_displacement_params_8m.html#acde093ecb328e089c7e8699979b778d1">isfield</a>(handles,&#39;posFileName&#39;)</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;        [filename, pathname] = <a class="code" href="image_sim_8m.html#acf66413b59082c95cc095f3e1373f608">uigetfile</a>({<span class="stringliteral">&#39;*.cfg&#39;</span>, <span class="stringliteral">&#39;CFG file (*.cfg)&#39;</span>;...</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;            <span class="stringliteral">&#39;*.*&#39;</span>, <span class="stringliteral">&#39;All files (*.*)&#39;</span>},...</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;            <span class="stringliteral">&#39;Select a file&#39;</span>,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.posFileName);</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;        [filename, pathname] = <a class="code" href="image_sim_8m.html#acf66413b59082c95cc095f3e1373f608">uigetfile</a>({<span class="stringliteral">&#39;*.cfg&#39;</span>, <span class="stringliteral">&#39;CFG file (*.cfg)&#39;</span>;...</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;            <span class="stringliteral">&#39;*.*&#39;</span>, <span class="stringliteral">&#39;All files (*.*)&#39;</span>},...</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;            <span class="stringliteral">&#39;Select a file&#39;</span>);</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <span class="keywordflow">if</span> <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(<a class="code" href="qstem_8m.html#a1a3091fb7347c8f640f7b03687dadd44">filename</a>,0) || <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(<a class="code" href="qstem_8m.html#a9de6303e6ac6d19c016afd7d700038cc">pathname</a>,0)</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;        % <a class="code" href="qstem_8m.html#aec3f4cc4ab5daa6d56adc1cef9bd94fa">disp</a>(<span class="stringliteral">&#39;User pressed cancel&#39;</span>)</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        <a class="code" href="convert2cfg_8m.html#a9717e7bbecb906637e86cef6da3d83c2">return</a></div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> (0)</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    <a class="code" href="qstem_8m.html#ab4171a1cd001f6152db76555a7e11abf">oldPath</a> = pwd()</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <a class="code" href="qstem_8m.html#a9d144cda3d92caf15dfa24a69905c654">cd</a>(<a class="code" href="qstem_8m.html#a9de6303e6ac6d19c016afd7d700038cc">pathname</a>);</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    </div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    [<a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a>, <a class="code" href="_display_model_properties_8m.html#ad4a8ac3c7026e0e2e13426103c839cb7">aType</a>, <a class="code" href="qstem_8m.html#aef05d27f63c3f06ffb0342ae902906b1">Mm</a>, <a class="code" href="_display_model_properties_8m.html#ae436dbba71d976b0111c531939f54e66">DW</a>, <a class="code" href="_display_model_properties_8m.html#a14685678a932a690bb677ca0be6b191a">occ</a>, <a class="code" href="_display_model_properties_8m.html#a9f9b7255ba6680c145f9c08ebf2bc024">charge</a>] = readCFG_qstem(<a class="code" href="qstem_8m.html#a1a3091fb7347c8f640f7b03687dadd44">filename</a>,[0 0 0],2);</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    <a class="code" href="qstem_8m.html#a9d144cda3d92caf15dfa24a69905c654">cd</a>(<a class="code" href="qstem_8m.html#ab4171a1cd001f6152db76555a7e11abf">oldPath</a>);</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;<a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a></div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    [<a class="code" href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a>, <a class="code" href="_display_model_properties_8m.html#ad4a8ac3c7026e0e2e13426103c839cb7">aType</a>, <a class="code" href="qstem_8m.html#aef05d27f63c3f06ffb0342ae902906b1">Mm</a>, <a class="code" href="_display_model_properties_8m.html#ae436dbba71d976b0111c531939f54e66">DW</a>, <a class="code" href="_display_model_properties_8m.html#a14685678a932a690bb677ca0be6b191a">occ</a>, <a class="code" href="_display_model_properties_8m.html#a9f9b7255ba6680c145f9c08ebf2bc024">charge</a>] = readCFG_qstem(fullfile(pathname,filename),[0 0 0],2);</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ~<a class="code" href="qstem_8m.html#ad23232aca9449743c8dbb4e79af48bd4">isempty</a>(coords)</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="_display_model_properties_8m.html#addd102b0e03af2114c4c0c229debaf4d">posFileName</a> = fullfile(pathname,filename);</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.uipanel_model,&#39;Title&#39;,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;Model: %<a class="code" href="aberrations___t_e_m_8m.html#aef29541a06b7f933d32a804307db13af">s</a>&#39;,filename));</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.<a class="code" href="qmb_8m.html#aea9102df42c96670313e90f848e15c9e">atomPos</a> = [aType coords  DW occ <a class="code" href="_display_model_properties_8m.html#a9f9b7255ba6680c145f9c08ebf2bc024">charge</a>];</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    % [aType coords  DW occ charge]</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    clear coords aType DW occ charge</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Mm = Mm;</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    <a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(<a class="code" href="_displacement_params_8m.html#a6e69a2e6c16546a1aba75e0422487e55">hObject</a>, <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>);</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> showStruct</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;        handles = <a class="code" href="_display_model_properties_8m.html#ae26b38067a9792326b19b3e2e057feb1">pushbutton_UpdateView_Callback</a>(hObject, <a class="code" href="aberrations___t_e_m_8m.html#a5f0afe6204672342221604c5c8eb3887">eventdata</a>, handles);</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;        <a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;% --- Executes <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> press <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> pushbutton_show3Dmodel.</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> pushbutton_show3Dmodel_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;% hObject    handle to pushbutton_show3Dmodel (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;% coords = handles.<a class="code" href="qmb_8m.html#aea9102df42c96670313e90f848e15c9e">atomPos</a>(:,2:4)*(handles.Mm);</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;% <a class="code" href="draw_xtal_8m.html#afb1bbfb9a3c5e18cdcdb7bb98b462196">drawXtal</a>([handles.atomPos(:,1) coords],handles.Mm);</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;% clear coords</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="_displacement_params_8m.html#acde093ecb328e089c7e8699979b778d1">isfield</a>(handles,&#39;coords&#39;)</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="_displacement_params_8m.html#acde093ecb328e089c7e8699979b778d1">isfield</a>(handles,&#39;NcellPotOffset&#39;)</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;        <a class="code" href="draw_xtal_8m.html#afb1bbfb9a3c5e18cdcdb7bb98b462196">drawXtal</a>([handles.coords(:,1) handles.coords(:,2:4)],handles.Mm,-handles.NcellPotOffset);</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    <a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a></div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;        <a class="code" href="draw_xtal_8m.html#afb1bbfb9a3c5e18cdcdb7bb98b462196">drawXtal</a>([handles.coords(:,1) handles.coords(:,2:4)],handles.Mm);</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;<a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a></div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    drawCFG(handles.<a class="code" href="_display_model_properties_8m.html#addd102b0e03af2114c4c0c229debaf4d">posFileName</a>,1);</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_Xstart_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> handles.<a class="code" href="qstem_8m.html#ae5457ac188407029525dae0d288f5060">modeNum</a> == 2 % <a class="code" href="stemtypes__fftw3_8hpp.html#a26fa01bb4b36ffed75910f878e99cadc">CBED</a></div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    handles.Xstart = <a class="code" href="qmb_8m.html#ab68aa604d0cbafb60d37e13d919f3cbb">str2double</a>(<a class="code" href="aberrations_8m.html#a28e9293ee026e172309e68c6c4671a07">get</a>(handles.edit_Xstart,&#39;<a class="code" href="aberrations_8m.html#a57845f93c6d3079cc203a7f78506f171">String</a>&#39;));</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    handles.Xstop = handles.Xstart;</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    handles.Ystart = <a class="code" href="qmb_8m.html#ab68aa604d0cbafb60d37e13d919f3cbb">str2double</a>(<a class="code" href="aberrations_8m.html#a28e9293ee026e172309e68c6c4671a07">get</a>(handles.edit_Ystart,&#39;String&#39;));</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    handles.Ystop = handles.Ystart;</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Xstop,&#39;String&#39;,handles.Xstop);</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Ystop,&#39;String&#39;,handles.Ystop);</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    handles = <a class="code" href="_display_model_properties_8m.html#ae26b38067a9792326b19b3e2e057feb1">pushbutton_UpdateView_Callback</a>(hObject, eventdata, handles);</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    <a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_Xstart_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;% hObject    handle to edit_Xstart (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> <a class="code" href="image_sim_8m.html#acc4c9367cff2473d08ec9910547865f6">white</a> background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(<a class="code" href="aberrations_8m.html#a28e9293ee026e172309e68c6c4671a07">get</a>(hObject,&#39;<a class="code" href="image_sim_8m.html#a97695672c0d89ebbb1074dee2ea2a8d8">BackgroundColor</a>&#39;), <a class="code" href="aberrations_8m.html#a28e9293ee026e172309e68c6c4671a07">get</a>(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;<a class="code" href="image_sim_8m.html#acc4c9367cff2473d08ec9910547865f6">white</a>&#39;);</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_Xstop_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;% hObject    handle to edit_Xstop (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;% Hints: get(hObject,&#39;String&#39;) returns contents of edit_Xstop as text</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;%        <a class="code" href="qmb_8m.html#ab68aa604d0cbafb60d37e13d919f3cbb">str2double</a>(get(hObject,&#39;String&#39;)) returns contents of edit_Xstop as <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> <span class="keywordtype">double</span></div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_Xstop_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_Ystart_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> handles.<a class="code" href="qstem_8m.html#ae5457ac188407029525dae0d288f5060">modeNum</a> == 2 % <a class="code" href="stemtypes__fftw3_8hpp.html#a26fa01bb4b36ffed75910f878e99cadc">CBED</a></div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    handles.Xstart = <a class="code" href="qmb_8m.html#ab68aa604d0cbafb60d37e13d919f3cbb">str2double</a>(get(handles.edit_Xstart,&#39;String&#39;));</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    handles.Xstop = handles.Xstart;</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    handles.Ystart = <a class="code" href="qmb_8m.html#ab68aa604d0cbafb60d37e13d919f3cbb">str2double</a>(get(handles.edit_Ystart,&#39;String&#39;));</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    handles.Ystop = handles.Ystart;</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Xstop,&#39;String&#39;,handles.Xstop);</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Ystop,&#39;String&#39;,handles.Ystop);</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    handles = <a class="code" href="_display_model_properties_8m.html#ae26b38067a9792326b19b3e2e057feb1">pushbutton_UpdateView_Callback</a>(hObject, eventdata, handles);</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    <a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_Ystart_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_Ystop_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_Ystop_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;% hObject    handle to edit_Ystop (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> white background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_Xpixels_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;% hObject    handle to edit_Xpixels (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;% Hints: get(hObject,&#39;String&#39;) returns contents of edit_Xpixels as text</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;%        <a class="code" href="qmb_8m.html#ab68aa604d0cbafb60d37e13d919f3cbb">str2double</a>(get(hObject,&#39;String&#39;)) returns contents of edit_Xpixels as <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> <span class="keywordtype">double</span></div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_Xpixels_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;% hObject    handle to edit_Xpixels (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> white background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_Ypixels_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;% hObject    handle to edit_Ypixels (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;% Hints: get(hObject,&#39;String&#39;) returns contents of edit_Ypixels as text</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;%        <a class="code" href="qmb_8m.html#ab68aa604d0cbafb60d37e13d919f3cbb">str2double</a>(get(hObject,&#39;String&#39;)) returns contents of edit_Ypixels as <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> <span class="keywordtype">double</span></div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_Ypixels_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;% hObject    handle to edit_Ypixels (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> white background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_NcellX_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;% hObject    handle to edit_NcellX (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;% Hints: get(hObject,&#39;String&#39;) returns contents of edit_NcellX as text</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;%        <a class="code" href="qmb_8m.html#ab68aa604d0cbafb60d37e13d919f3cbb">str2double</a>(get(hObject,&#39;String&#39;)) returns contents of edit_NcellX as <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> <span class="keywordtype">double</span></div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_NcellX_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;% hObject    handle to edit_NcellX (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> white background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_NcellY_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;% hObject    handle to edit_NcellY (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;% Hints: get(hObject,&#39;String&#39;) returns contents of edit_NcellY as text</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;%        <a class="code" href="qmb_8m.html#ab68aa604d0cbafb60d37e13d919f3cbb">str2double</a>(get(hObject,&#39;String&#39;)) returns contents of edit_NcellY as <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> <span class="keywordtype">double</span></div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_NcellY_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;% hObject    handle to edit_NcellY (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> white background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit9_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;% hObject    handle to edit9 (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;% Hints: get(hObject,&#39;String&#39;) returns contents of edit9 as text</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;%        <a class="code" href="qmb_8m.html#ab68aa604d0cbafb60d37e13d919f3cbb">str2double</a>(get(hObject,&#39;String&#39;)) returns contents of edit9 as <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> <span class="keywordtype">double</span></div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit9_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;% hObject    handle to edit9 (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> white background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_tiltX_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;% hObject    handle to edit_tiltX (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;% Hints: get(hObject,&#39;String&#39;) returns contents of edit_tiltX as text</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;%        <a class="code" href="qmb_8m.html#ab68aa604d0cbafb60d37e13d919f3cbb">str2double</a>(get(hObject,&#39;String&#39;)) returns contents of edit_tiltX as <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> <span class="keywordtype">double</span></div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_tiltX_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;% hObject    handle to edit_tiltX (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> white background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_tiltY_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;% hObject    handle to edit_tiltY (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;% Hints: get(hObject,&#39;String&#39;) returns contents of edit_tiltY as text</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;%        <a class="code" href="qmb_8m.html#ab68aa604d0cbafb60d37e13d919f3cbb">str2double</a>(get(hObject,&#39;String&#39;)) returns contents of edit_tiltY as <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> <span class="keywordtype">double</span></div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_tiltY_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;% hObject    handle to edit_tiltY (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> white background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_tiltZ_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;% hObject    handle to edit_tiltZ (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;% Hints: get(hObject,&#39;String&#39;) returns contents of edit_tiltZ as text</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;%        <a class="code" href="qmb_8m.html#ab68aa604d0cbafb60d37e13d919f3cbb">str2double</a>(get(hObject,&#39;String&#39;)) returns contents of edit_tiltZ as <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> <span class="keywordtype">double</span></div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_tiltZ_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;% hObject    handle to edit_tiltZ (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> white background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_ProbeNx_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> handles.<a class="code" href="qstem_8m.html#ae5457ac188407029525dae0d288f5060">modeNum</a> &gt; 0  % <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="stemtypes__fftw3_8hpp.html#ae37055f0823281ce47997ab6602bb607">STEM</a> <a class="code" href="qstem_8m.html#aabea1a308e18fee00cc3a9031f079ba6">mode</a></div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;    handles.ProbeNx = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_ProbeNx,&#39;String&#39;));</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    handles.ProbeResolutionX = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_ProbeResolutionX,&#39;String&#39;));</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> handles.ProbeNx &lt; 8</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;        handles.ProbeNx = 8;</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;        <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeNx,&#39;String&#39;,handles.ProbeNx);</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;    <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a>    </div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;    %<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a> <a class="code" href="convert2cfg_8m.html#ac51b57a703ba1c5869228690c93e1701">X</a>-<a class="code" href="draw_xtal_8m.html#aeb6159906f64d5f1b8476454468f5af3">parameters</a>:</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    handles.ProbeWindowX = handles.ProbeResolutionX*handles.ProbeNx;</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    handles.ProbeMaxAngleX = 2/6*handles.Wavelength * (handles.ProbeNx/handles.ProbeWindowX);</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;<a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a>  % <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="stemtypes__fftw3_8hpp.html#a5abef251d47456e7981e8f1ae7ba2a9a">TEM</a> <a class="code" href="qstem_8m.html#aabea1a308e18fee00cc3a9031f079ba6">mode</a></div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    handles.ProbeNx = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_ProbeNx,&#39;String&#39;));</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    handles.ProbeWindowX = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_ProbeWindowX,&#39;String&#39;));</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    handles.ProbeResolutionX = handles.ProbeWindowX/handles.ProbeNx;    </div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    handles.ProbeMaxAngleX = 2/6*handles.Wavelength * (handles.ProbeNx/handles.ProbeWindowX);</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a>    </div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeWindowX,&#39;String&#39;,handles.ProbeWindowX);</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeResolutionX,&#39;String&#39;,handles.ProbeResolutionX);</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeMaxAngleX,&#39;String&#39;,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;%.1<a class="code" href="namespacepython_1_1potential.html#af887b24c78c0630197f05f84f19de90c">f</a>&#39;,1<a class="code" href="qmb_8m.html#ada985816ea79ac4451f0f552d48090e5">e3</a>*handles.ProbeMaxAngleX));</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_ProbeNx_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_ProbeNy_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> handles.<a class="code" href="qstem_8m.html#ae5457ac188407029525dae0d288f5060">modeNum</a> &gt; 0</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    handles.ProbeNy = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_ProbeNy,&#39;String&#39;));</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;    handles.ProbeResolutionY = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_ProbeResolutionY,&#39;String&#39;));</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> handles.ProbeNy &lt; 8</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;        handles.ProbeNy = 8;</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;        <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeNy,&#39;String&#39;,handles.ProbeNy);</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    </div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;    % <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a> <a class="code" href="convert2cfg_8m.html#ae76081fb2cef09480162f3c1b69dfbb2">Y</a>-<a class="code" href="draw_xtal_8m.html#aeb6159906f64d5f1b8476454468f5af3">parameters</a>:</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    handles.ProbeWindowY = handles.ProbeResolutionY*handles.ProbeNy;</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    </div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;    handles.ProbeMaxAngleY = 2/6*handles.Wavelength * (handles.ProbeNy/handles.ProbeWindowY);</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;<a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a>  % <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="stemtypes__fftw3_8hpp.html#a5abef251d47456e7981e8f1ae7ba2a9a">TEM</a> <a class="code" href="qstem_8m.html#aabea1a308e18fee00cc3a9031f079ba6">mode</a></div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;    handles.ProbeNy = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_ProbeNy,&#39;String&#39;));</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    handles.ProbeWindowY = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_ProbeWindowY,&#39;String&#39;));</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;    handles.ProbeResolutionY = handles.ProbeWindowY/handles.ProbeNy;    </div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;    handles.ProbeMaxAngleY = 2/6*handles.Wavelength * (handles.ProbeNy/handles.ProbeWindowY);</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeWindowY,&#39;String&#39;,handles.ProbeWindowY);</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeResolutionY,&#39;String&#39;,handles.ProbeResolutionY);</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeMaxAngleY,&#39;String&#39;,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;%.1f&#39;,1<a class="code" href="qmb_8m.html#ada985816ea79ac4451f0f552d48090e5">e3</a>*handles.ProbeMaxAngleY));</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_ProbeNy_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;% hObject    handle to edit_ProbeNy (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> white background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_ProbeResolutionX_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;handles.ProbeNx = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_ProbeNx,&#39;String&#39;));</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;handles.ProbeResolutionX = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_ProbeResolutionX,&#39;String&#39;));</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> handles.ProbeResolutionX &lt; 1e-4</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;    handles.ProbeResolutionX = 1e-4;</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeResolutionX,&#39;String&#39;,handles.ProbeResolutionX);</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;%<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a> <a class="code" href="convert2cfg_8m.html#ac51b57a703ba1c5869228690c93e1701">X</a>-<a class="code" href="draw_xtal_8m.html#aeb6159906f64d5f1b8476454468f5af3">parameters</a>:</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;handles.ProbeWindowX = handles.ProbeResolutionX*handles.ProbeNx;</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;handles.ProbeMaxAngleX = 2/6*handles.Wavelength * (handles.ProbeNx/handles.ProbeWindowX);</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeWindowX,&#39;String&#39;,handles.ProbeWindowX);</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeMaxAngleX,&#39;String&#39;,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;%.1f&#39;,1<a class="code" href="qmb_8m.html#ada985816ea79ac4451f0f552d48090e5">e3</a>*handles.ProbeMaxAngleX));</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_ProbeResolutionX_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;% hObject    handle to edit_ProbeResolutionX (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> white background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_ProbeResolutionY_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;handles.ProbeNy = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_ProbeNy,&#39;String&#39;));</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;handles.ProbeResolutionY = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_ProbeResolutionY,&#39;String&#39;));</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> handles.ProbeResolutionY &lt; 1e-4</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    handles.ProbeResolutionY = 1e-4;</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeResolutionY,&#39;String&#39;,handles.ProbeResolutionY);</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;% <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a> <a class="code" href="convert2cfg_8m.html#ae76081fb2cef09480162f3c1b69dfbb2">Y</a>-<a class="code" href="draw_xtal_8m.html#aeb6159906f64d5f1b8476454468f5af3">parameters</a>:</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;handles.ProbeWindowY = handles.ProbeResolutionY*handles.ProbeNy;</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;handles.ProbeMaxAngleY = 2/6*handles.Wavelength * (handles.ProbeNy/handles.ProbeWindowY);</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeWindowY,&#39;String&#39;,handles.ProbeWindowX);</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeMaxAngleY,&#39;String&#39;,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;%.1f&#39;,1<a class="code" href="qmb_8m.html#ada985816ea79ac4451f0f552d48090e5">e3</a>*handles.ProbeMaxAngleY));</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_ProbeResolutionY_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_ProbeWindowX_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;handles.ProbeNx = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_ProbeNx,&#39;String&#39;));</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;handles.ProbeWindowX = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_ProbeWindowX,&#39;String&#39;));</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> handles.ProbeWindowX &lt; 1</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    handles.ProbeWindowX = 1;</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeWindowX,&#39;String&#39;,handles.ProbeWindowX);</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;%<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a> <a class="code" href="convert2cfg_8m.html#ac51b57a703ba1c5869228690c93e1701">X</a>-<a class="code" href="draw_xtal_8m.html#aeb6159906f64d5f1b8476454468f5af3">parameters</a>:</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;handles.ProbeResolutionX = handles.ProbeWindowX/handles.ProbeNx;</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;handles.ProbeMaxAngleX = 2/6*handles.Wavelength * (handles.ProbeNx/handles.ProbeWindowX);</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeResolutionX,&#39;String&#39;,handles.ProbeResolutionX);</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeMaxAngleX,&#39;String&#39;,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;%.1f&#39;,1<a class="code" href="qmb_8m.html#ada985816ea79ac4451f0f552d48090e5">e3</a>*handles.ProbeMaxAngleX));</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_ProbeWindowX_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_ProbeWindowY_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;handles.ProbeNy = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_ProbeNy,&#39;String&#39;));</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;handles.ProbeWindowY = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_ProbeWindowY,&#39;String&#39;));</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> handles.ProbeWindowY &lt; 1</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    handles.ProbeWindowY = 1;</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeWindowY,&#39;String&#39;,handles.ProbeWindowY);</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;%<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a> <a class="code" href="convert2cfg_8m.html#ac51b57a703ba1c5869228690c93e1701">X</a>-<a class="code" href="draw_xtal_8m.html#aeb6159906f64d5f1b8476454468f5af3">parameters</a>:</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;handles.ProbeResolutionY = handles.ProbeWindowY/handles.ProbeNy;</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;handles.ProbeMaxAngleY = 2/6*handles.Wavelength * (handles.ProbeNy/handles.ProbeWindowY);</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeResolutionY,&#39;String&#39;,handles.ProbeResolutionY);</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeMaxAngleY,&#39;String&#39;,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;%.1f&#39;,1<a class="code" href="qmb_8m.html#ada985816ea79ac4451f0f552d48090e5">e3</a>*handles.ProbeMaxAngleY));</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_ProbeWindowY_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_ProbeMaxAngleX_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;% hObject    handle to edit_ProbeMaxAngleX (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;% Hints: get(hObject,&#39;String&#39;) returns contents of edit_ProbeMaxAngleX as text</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;%        <a class="code" href="qmb_8m.html#ab68aa604d0cbafb60d37e13d919f3cbb">str2double</a>(get(hObject,&#39;String&#39;)) returns contents of edit_ProbeMaxAngleX as <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> <span class="keywordtype">double</span></div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_ProbeMaxAngleX_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;% hObject    handle to edit_ProbeMaxAngleX (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> white background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_ProbeMaxAngleY_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;% hObject    handle to edit_ProbeMaxAngleY (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;% Hints: get(hObject,&#39;String&#39;) returns contents of edit_ProbeMaxAngleY as text</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;%        <a class="code" href="qmb_8m.html#ab68aa604d0cbafb60d37e13d919f3cbb">str2double</a>(get(hObject,&#39;String&#39;)) returns contents of edit_ProbeMaxAngleY as <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> <span class="keywordtype">double</span></div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_ProbeMaxAngleY_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;% hObject    handle to edit_ProbeMaxAngleY (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> white background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_NsubSlabs_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;handles.NcellZ         = <a class="code" href="advanced_settings_8m.html#a05ceb1cc3b74082a4c5ce7f459a483d4">floor</a>(<a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_NcellZ,&#39;String&#39;)));</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;handles.NsubSlabs      = <a class="code" href="advanced_settings_8m.html#a05ceb1cc3b74082a4c5ce7f459a483d4">floor</a>(<a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_NsubSlabs,&#39;String&#39;)));</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;handles.Nslice         = <a class="code" href="advanced_settings_8m.html#a05ceb1cc3b74082a4c5ce7f459a483d4">floor</a>(<a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_Nslice,&#39;String&#39;)));</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;handles.NsliceTot      = handles.NsubSlabs*handles.Nslice;</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> get(handles.radiobutton_Box,&#39;<a class="code" href="_display_model_properties_8m.html#aa3e85bcc21f31fb262e8662d5e2a8764">Value</a>&#39;)</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;    handles.SliceThickness = handles.BoxZ/handles.NsliceTot;</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;<a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a></div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;    handles.SliceThickness = handles.Mm(3,3)*handles.NcellZ/handles.NsliceTot;</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.text_NsliceTot,&#39;String&#39;,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;(Total: %<a class="code" href="_read_d_m3___matlab_8m.html#a1aabac6d068eef6a7bad3fdf50a05cc8">d</a>)&#39;,handles.NsliceTot));</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_SliceThickness,&#39;String&#39;,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;%.4f&#39;,handles.SliceThickness));</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_NsubSlabs_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;% hObject    handle to edit_NsubSlabs (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> white background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_Nslice_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;handles.NcellZ         = <a class="code" href="advanced_settings_8m.html#a05ceb1cc3b74082a4c5ce7f459a483d4">floor</a>(<a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_NcellZ,&#39;String&#39;)));</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;handles.NsubSlabs      = <a class="code" href="advanced_settings_8m.html#a05ceb1cc3b74082a4c5ce7f459a483d4">floor</a>(<a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_NsubSlabs,&#39;String&#39;)));</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;handles.Nslice         = <a class="code" href="advanced_settings_8m.html#a05ceb1cc3b74082a4c5ce7f459a483d4">floor</a>(<a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_Nslice,&#39;String&#39;)));</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;handles.NsliceTot      = handles.NsubSlabs*handles.Nslice;</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> get(handles.radiobutton_Box,&#39;<a class="code" href="_display_model_properties_8m.html#aa3e85bcc21f31fb262e8662d5e2a8764">Value</a>&#39;)</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;    handles.SliceThickness = handles.BoxZ/handles.NsliceTot;</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;<a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a></div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;    <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="_displacement_params_8m.html#acde093ecb328e089c7e8699979b778d1">isfield</a>(handles,&#39;boundingBox&#39;)</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;        handles.SliceThickness = (<a class="code" href="convert2cfg_8m.html#a20fc5038c021fd98154bd49a45a0e238">max</a>(handles.boundingBox(:,3))-min(handles.boundingBox(:,3)))/handles.NsliceTot;</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;    <a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a></div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;        handles.SliceThickness = handles.Mm(3,3)*handles.NcellZ/handles.NsliceTot;</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;    <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.text_NsliceTot,&#39;String&#39;,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;(Total: %d)&#39;,handles.NsliceTot));</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_SliceThickness,&#39;String&#39;,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;%.4f&#39;,handles.SliceThickness));</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_Nslice_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;% hObject    handle to edit_Nslice (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> white background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_SliceThickness_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;% hObject    handle to edit_SliceThickness (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;% Hints: get(hObject,&#39;String&#39;) returns contents of edit_SliceThickness as text</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;%        <a class="code" href="qmb_8m.html#ab68aa604d0cbafb60d37e13d919f3cbb">str2double</a>(get(hObject,&#39;String&#39;)) returns contents of edit_SliceThickness as <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> <span class="keywordtype">double</span></div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_SliceThickness_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;% hObject    handle to edit_SliceThickness (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> white background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_C3_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;% hObject    handle to edit_C3 (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;% Hints: get(hObject,&#39;String&#39;) returns contents of edit_C3 as text</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;%        <a class="code" href="qmb_8m.html#ab68aa604d0cbafb60d37e13d919f3cbb">str2double</a>(get(hObject,&#39;String&#39;)) returns contents of edit_C3 as <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> <span class="keywordtype">double</span></div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_C3_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;% hObject    handle to edit_C3 (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> white background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_HighVoltage_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;handles.<a class="code" href="image_sim_8m.html#a8729222064abdba94398e8a2caf0609e">highVoltage</a> = <a class="code" href="qmb_8m.html#ab68aa604d0cbafb60d37e13d919f3cbb">str2double</a>(get(hObject,&#39;String&#39;));</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;% update the wavelength:</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;handles.Wavelength = wavelength(handles.<a class="code" href="aberrations_8m.html#aa14d72173e9599e9e2ea02e5eefb9422">HighVoltage</a>);</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.text_wavelength,&#39;String&#39;,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;kV    (wavelength = %.2fpm)&#39;,100*handles.Wavelength));</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;% update the scattering angles:</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;handles.ProbeMaxAngleX = 2/6*handles.Wavelength * (handles.ProbeNx/handles.ProbeWindowX);</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;handles.ProbeMaxAngleY = 2/6*handles.Wavelength * (handles.ProbeNy/handles.ProbeWindowY);</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeMaxAngleX,&#39;String&#39;,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;%.1f&#39;,1<a class="code" href="qmb_8m.html#ada985816ea79ac4451f0f552d48090e5">e3</a>*handles.ProbeMaxAngleX));</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeMaxAngleY,&#39;String&#39;,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;%.1f&#39;,1<a class="code" href="qmb_8m.html#ada985816ea79ac4451f0f552d48090e5">e3</a>*handles.ProbeMaxAngleY));</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_HighVoltage_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;% hObject    handle to edit_HighVoltage (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> white background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_Defocus_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;% hObject    handle to edit_Defocus (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;% Hints: get(hObject,&#39;String&#39;) returns contents of edit_Defocus as text</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;%        <a class="code" href="qmb_8m.html#ab68aa604d0cbafb60d37e13d919f3cbb">str2double</a>(get(hObject,&#39;String&#39;)) returns contents of edit_Defocus as <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> <span class="keywordtype">double</span></div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_Defocus_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;% hObject    handle to edit_Defocus (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> white background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_AstigMag_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;% hObject    handle to edit_AstigMag (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;% Hints: get(hObject,&#39;String&#39;) returns contents of edit_AstigMag as text</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;%        <a class="code" href="qmb_8m.html#ab68aa604d0cbafb60d37e13d919f3cbb">str2double</a>(get(hObject,&#39;String&#39;)) returns contents of edit_AstigMag as <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> <span class="keywordtype">double</span></div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_AstigMag_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;% hObject    handle to edit_AstigMag (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> white background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_AstigAngle_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;% hObject    handle to edit_AstigAngle (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;% Hints: get(hObject,&#39;String&#39;) returns contents of edit_AstigAngle as text</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;%        <a class="code" href="qmb_8m.html#ab68aa604d0cbafb60d37e13d919f3cbb">str2double</a>(get(hObject,&#39;String&#39;)) returns contents of edit_AstigAngle as <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> <span class="keywordtype">double</span></div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_AstigAngle_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;% hObject    handle to edit_AstigAngle (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> white background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;% --- Executes <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> press <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> pushbutton_Scherzer.</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> pushbutton_Scherzer_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;handles.<a class="code" href="aberrations_8m.html#af6b128bfb9b22174e084962314cd68c2">C3</a> = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_C3,&#39;String&#39;));</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;handles.HighVoltage = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_HighVoltage,&#39;String&#39;));</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;handles.<a class="code" href="image_sim_8m.html#a095451ad095fab975004df8fa1925cb8">Defocus</a> = -0.1*sign(handles.<a class="code" href="aberrations_8m.html#af6b128bfb9b22174e084962314cd68c2">C3</a>)*sqrt(1.5*abs(handles.<a class="code" href="aberrations_8m.html#af6b128bfb9b22174e084962314cd68c2">C3</a>)*1e7*wavelength(handles.HighVoltage));</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> abs(handles.<a class="code" href="image_sim_8m.html#a095451ad095fab975004df8fa1925cb8">Defocus</a>) &gt; 1</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Defocus,&#39;String&#39;,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;%.1f&#39;,handles.<a class="code" href="image_sim_8m.html#a095451ad095fab975004df8fa1925cb8">Defocus</a>));    </div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;<a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a></div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Defocus,&#39;String&#39;,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;%.4f&#39;,handles.Defocus));</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;% --- Executes <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> press <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> checkbox_CenterSlices.</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> checkbox_CenterSlices_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;% hObject    handle to checkbox_CenterSlices (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: get(hObject,&#39;<a class="code" href="_display_model_properties_8m.html#aa3e85bcc21f31fb262e8662d5e2a8764">Value</a>&#39;) returns toggle state of checkbox_CenterSlices</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;% --- Executes <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> press <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> checkbox_PeriodicXY.</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> checkbox_PeriodicXY_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;% hObject    handle to checkbox_PeriodicXY (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: get(hObject,&#39;<a class="code" href="_display_model_properties_8m.html#aa3e85bcc21f31fb262e8662d5e2a8764">Value</a>&#39;) returns toggle state of checkbox_PeriodicXY</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;% --- Executes <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> press <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> checkbox_PeriodicZ.</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> checkbox_PeriodicZ_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;% hObject    handle to checkbox_PeriodicZ (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: get(hObject,&#39;<a class="code" href="_display_model_properties_8m.html#aa3e85bcc21f31fb262e8662d5e2a8764">Value</a>&#39;) returns toggle state of checkbox_PeriodicZ</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_PotentialOffsetX_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;% hObject    handle to edit_PotentialOffsetX (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;% Hints: get(hObject,&#39;String&#39;) returns contents of edit_PotentialOffsetX as text</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;%        <a class="code" href="qmb_8m.html#ab68aa604d0cbafb60d37e13d919f3cbb">str2double</a>(get(hObject,&#39;String&#39;)) returns contents of edit_PotentialOffsetX as <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> <span class="keywordtype">double</span></div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_PotentialOffsetX_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;% hObject    handle to edit_PotentialOffsetX (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> white background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_PotentialOffsetY_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;% hObject    handle to edit_PotentialOffsetY (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;% Hints: get(hObject,&#39;String&#39;) returns contents of edit_PotentialOffsetY as text</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;%        <a class="code" href="qmb_8m.html#ab68aa604d0cbafb60d37e13d919f3cbb">str2double</a>(get(hObject,&#39;String&#39;)) returns contents of edit_PotentialOffsetY as <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> <span class="keywordtype">double</span></div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_PotentialOffsetY_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;% hObject    handle to edit_PotentialOffsetY (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> white background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_PotentialOffsetZ_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;% hObject    handle to edit_PotentialOffsetZ (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;% Hints: get(hObject,&#39;String&#39;) returns contents of edit_PotentialOffsetZ as text</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;%        <a class="code" href="qmb_8m.html#ab68aa604d0cbafb60d37e13d919f3cbb">str2double</a>(get(hObject,&#39;String&#39;)) returns contents of edit_PotentialOffsetZ as <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> <span class="keywordtype">double</span></div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_PotentialOffsetZ_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;% hObject    handle to edit_PotentialOffsetZ (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> white background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_atomSize_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;% hObject    handle to edit_atomSize (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;% Hints: get(hObject,&#39;String&#39;) returns contents of edit_atomSize as text</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;%        <a class="code" href="qmb_8m.html#ab68aa604d0cbafb60d37e13d919f3cbb">str2double</a>(get(hObject,&#39;String&#39;)) returns contents of edit_atomSize as <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> <span class="keywordtype">double</span></div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_atomSize_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;% hObject    handle to edit_atomSize (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> white background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;% --- Executes <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> press <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> pushbutton_IncreaseDetector.</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> pushbutton_IncreaseDetector_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="qstem_8m.html#ad23232aca9449743c8dbb4e79af48bd4">isempty</a>(handles.<a class="code" href="qstem_8m.html#a23c769480a12d8abe44e71c8fac1dcda">Detectors</a>)</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_DetectorNumber,&#39;String&#39;,1);</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_InnerAngle,&#39;String&#39;,&#39; &#39;);</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_OuterAngle,&#39;String&#39;,&#39; &#39;);</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_OffsetX,&#39;String&#39;,&#39; &#39;);</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_OffsetY,&#39;String&#39;,&#39; &#39;);    </div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;<a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a></div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;    handles.DetectorNumber = <a class="code" href="advanced_settings_8m.html#a05ceb1cc3b74082a4c5ce7f459a483d4">floor</a>(<a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_DetectorNumber,&#39;String&#39;)));</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;    <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> handles.DetectorNumber &lt; 1</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;        handles.DetectorNumber = 1;</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;    <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;    <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> handles.DetectorNumber &gt; <a class="code" href="_displacement_params_8m.html#affbd44b02f0a59a4922b0c7d090cadd4">size</a>(handles.<a class="code" href="qstem_8m.html#a23c769480a12d8abe44e71c8fac1dcda">Detectors</a>,1)</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;        handles.DetectorNumber = <a class="code" href="_displacement_params_8m.html#affbd44b02f0a59a4922b0c7d090cadd4">size</a>(handles.Detectors,1);</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;    <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;    <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> handles.DetectorNumber &lt; <a class="code" href="_displacement_params_8m.html#affbd44b02f0a59a4922b0c7d090cadd4">size</a>(handles.Detectors,1)</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;        handles.DetectorNumber = handles.DetectorNumber+1;</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;    <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;    </div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_DetectorNumber,&#39;String&#39;,handles.DetectorNumber);</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;    <a class="code" href="qstem_8m.html#ac86694252f8dfdb19aaeadc4b7c342c6">j</a> = handles.DetectorNumber;</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_InnerAngle,&#39;String&#39;,handles.Detectors(<a class="code" href="qstem_8m.html#ac86694252f8dfdb19aaeadc4b7c342c6">j</a>,1));</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_OuterAngle,&#39;String&#39;,handles.Detectors(j,2));</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_OffsetX,&#39;String&#39;,handles.Detectors(j,3));</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_OffsetY,&#39;String&#39;,handles.Detectors(j,4));</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a>    </div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;% --- Executes <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> press <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> pushbutton_DecreaseDetector.</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> pushbutton_DecreaseDetector_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="qstem_8m.html#ad23232aca9449743c8dbb4e79af48bd4">isempty</a>(handles.Detectors)</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_DetectorNumber,&#39;String&#39;,1);</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_InnerAngle,&#39;String&#39;,&#39; &#39;);</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_OuterAngle,&#39;String&#39;,&#39; &#39;);</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_OffsetX,&#39;String&#39;,&#39; &#39;);</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_OffsetY,&#39;String&#39;,&#39; &#39;);    </div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;<a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a></div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;    handles.DetectorNumber = <a class="code" href="advanced_settings_8m.html#a05ceb1cc3b74082a4c5ce7f459a483d4">floor</a>(<a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_DetectorNumber,&#39;String&#39;)));</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;    <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> handles.DetectorNumber &lt; 1</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;        handles.DetectorNumber = 1;</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;    <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;    <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> handles.DetectorNumber &gt; <a class="code" href="_displacement_params_8m.html#affbd44b02f0a59a4922b0c7d090cadd4">size</a>(handles.Detectors,1)</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;        handles.DetectorNumber = <a class="code" href="_displacement_params_8m.html#affbd44b02f0a59a4922b0c7d090cadd4">size</a>(handles.Detectors,1);</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;    <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;    <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> handles.DetectorNumber &gt; 1</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;        handles.DetectorNumber = handles.DetectorNumber-1;</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;    <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;    </div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_DetectorNumber,&#39;String&#39;,handles.DetectorNumber);</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;    j = handles.DetectorNumber;</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_InnerAngle,&#39;String&#39;,handles.Detectors(j,1));</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_OuterAngle,&#39;String&#39;,handles.Detectors(j,2));</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_OffsetX,&#39;String&#39;,handles.Detectors(j,3));</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_OffsetY,&#39;String&#39;,handles.Detectors(j,4));</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a>    </div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_DetectorNumber_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="qstem_8m.html#ad23232aca9449743c8dbb4e79af48bd4">isempty</a>(handles.Detectors)</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_DetectorNumber,&#39;String&#39;,1);</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_InnerAngle,&#39;String&#39;,&#39; &#39;);</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_OuterAngle,&#39;String&#39;,&#39; &#39;);</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_OffsetX,&#39;String&#39;,&#39; &#39;);</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_OffsetY,&#39;String&#39;,&#39; &#39;);    </div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;<a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a></div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;    handles.DetectorNumber = <a class="code" href="advanced_settings_8m.html#a05ceb1cc3b74082a4c5ce7f459a483d4">floor</a>(<a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_DetectorNumber,&#39;String&#39;)));</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;    <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> handles.DetectorNumber &lt; 1</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;        handles.DetectorNumber = 1;</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;    <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;    <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> handles.DetectorNumber &gt; <a class="code" href="_displacement_params_8m.html#affbd44b02f0a59a4922b0c7d090cadd4">size</a>(handles.Detectors,1)</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;        handles.DetectorNumber = <a class="code" href="_displacement_params_8m.html#affbd44b02f0a59a4922b0c7d090cadd4">size</a>(handles.Detectors,1);</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;    <a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;    </div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_DetectorNumber,&#39;String&#39;,handles.DetectorNumber);</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;    j = handles.DetectorNumber;</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_InnerAngle,&#39;String&#39;,handles.Detectors(j,1));</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_OuterAngle,&#39;String&#39;,handles.Detectors(j,2));</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_OffsetX,&#39;String&#39;,handles.Detectors(j,3));</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_OffsetY,&#39;String&#39;,handles.Detectors(j,4));</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a>    </div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_DetectorNumber_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;% hObject    handle to edit_DetectorNumber (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> white background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_InnerAngle_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;handles.DetectorNumber = <a class="code" href="advanced_settings_8m.html#a05ceb1cc3b74082a4c5ce7f459a483d4">floor</a>(<a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_DetectorNumber,&#39;String&#39;)));</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;handles.Detectors(handles.DetectorNumber,1) = abs(<a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_InnerAngle,&#39;String&#39;)));</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_InnerAngle,&#39;String&#39;,handles.Detectors(handles.DetectorNumber,1));</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_InnerAngle_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;% hObject    handle to edit_InnerAngle (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> white background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_OuterAngle_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;handles.DetectorNumber = <a class="code" href="advanced_settings_8m.html#a05ceb1cc3b74082a4c5ce7f459a483d4">floor</a>(<a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_DetectorNumber,&#39;String&#39;)));</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;handles.Detectors(handles.DetectorNumber,2) = abs(<a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_OuterAngle,&#39;String&#39;)));</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_OuterAngle,&#39;String&#39;,handles.Detectors(handles.DetectorNumber,2));</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_OuterAngle_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;% hObject    handle to edit_OuterAngle (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> white background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> <a class="code" href="qmb_8m.html#afbd1da50175d76040a2d09cbdda11151">edit_OffsetX_Callback</a>(hObject, eventdata, handles)</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;handles.DetectorNumber = <a class="code" href="advanced_settings_8m.html#a05ceb1cc3b74082a4c5ce7f459a483d4">floor</a>(<a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_DetectorNumber,&#39;String&#39;)));</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;handles.Detectors(handles.DetectorNumber,3) = (<a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_OffsetX,&#39;String&#39;)));</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_OffsetX,&#39;String&#39;,handles.Detectors(handles.DetectorNumber,3));</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_OffsetX_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;% hObject    handle to edit_OffsetX (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> white background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> <a class="code" href="qmb_8m.html#a7a36eff2c94749d8f3212706d52f4090">edit_OffsetY_Callback</a>(hObject, eventdata, handles)</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;handles.DetectorNumber = <a class="code" href="advanced_settings_8m.html#a05ceb1cc3b74082a4c5ce7f459a483d4">floor</a>(<a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_DetectorNumber,&#39;String&#39;)));</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;handles.Detectors(handles.DetectorNumber,4) = (<a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_OffsetY,&#39;String&#39;)));</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_OffsetY,&#39;String&#39;,handles.Detectors(handles.DetectorNumber,4));</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_OffsetY_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;% hObject    handle to edit_OffsetY (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> white background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;% --- Executes <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> press <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> pushbutton_AddDetector.</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> pushbutton_AddDetector_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;handles.DetectorNumber = <a class="code" href="_displacement_params_8m.html#affbd44b02f0a59a4922b0c7d090cadd4">size</a>(handles.Detectors,1)+1;</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_DetectorNumber,&#39;String&#39;,handles.DetectorNumber);</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;j = handles.DetectorNumber;</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;handles.Detectors(j,1:4) = 0;</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_InnerAngle,&#39;String&#39;,handles.Detectors(j,1));</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_OuterAngle,&#39;String&#39;,handles.Detectors(j,2));</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_OffsetX,&#39;String&#39;,handles.Detectors(j,3));</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_OffsetY,&#39;String&#39;,handles.Detectors(j,4));</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;% --- Executes <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> press <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> pushbutton_DeleteDetector.</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> pushbutton_DeleteDetector_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;handles.DetectorNumber = <a class="code" href="advanced_settings_8m.html#a05ceb1cc3b74082a4c5ce7f459a483d4">floor</a>(<a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_DetectorNumber,&#39;String&#39;)));</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ~<a class="code" href="qstem_8m.html#ad23232aca9449743c8dbb4e79af48bd4">isempty</a>(handles.Detectors)</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;    j = handles.DetectorNumber;</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;    handles.Detectors = [handles.Detectors(1:j-1,:);handles.Detectors(j+1:<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a>,:)];</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;    <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> handles.DetectorNumber &gt; <a class="code" href="_displacement_params_8m.html#affbd44b02f0a59a4922b0c7d090cadd4">size</a>(handles.Detectors,1)</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;        handles.DetectorNumber = <a class="code" href="_displacement_params_8m.html#affbd44b02f0a59a4922b0c7d090cadd4">size</a>(handles.Detectors,1);</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;    end</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_DetectorNumber,&#39;String&#39;,handles.DetectorNumber);</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;    j = handles.DetectorNumber;</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_InnerAngle,&#39;String&#39;,handles.Detectors(j,1));</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_OuterAngle,&#39;String&#39;,handles.Detectors(j,2));</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_OffsetX,&#39;String&#39;,handles.Detectors(j,3));</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_OffsetY,&#39;String&#39;,handles.Detectors(j,4));</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;end</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_SlicesBetweenOutputs_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;% hObject    handle to edit_SlicesBetweenOutputs (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;% Hints: get(hObject,&#39;String&#39;) returns contents of edit_SlicesBetweenOutputs as text</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;%        <a class="code" href="qmb_8m.html#ab68aa604d0cbafb60d37e13d919f3cbb">str2double</a>(get(hObject,&#39;String&#39;)) returns contents of edit_SlicesBetweenOutputs as <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> <span class="keywordtype">double</span></div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_SlicesBetweenOutputs_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;% hObject    handle to edit_SlicesBetweenOutputs (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> white background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;end</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_Temperature_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;% hObject    handle to edit_Temperature (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;% Hints: get(hObject,&#39;String&#39;) returns contents of edit_Temperature as text</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;%        <a class="code" href="qmb_8m.html#ab68aa604d0cbafb60d37e13d919f3cbb">str2double</a>(get(hObject,&#39;String&#39;)) returns contents of edit_Temperature as <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> <span class="keywordtype">double</span></div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_Temperature_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;% hObject    handle to edit_Temperature (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> white background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;end</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_TDSruns_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;% hObject    handle to edit_TDSruns (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;% Hints: get(hObject,&#39;String&#39;) returns contents of edit_TDSruns as text</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;%        <a class="code" href="qmb_8m.html#ab68aa604d0cbafb60d37e13d919f3cbb">str2double</a>(get(hObject,&#39;String&#39;)) returns contents of edit_TDSruns as <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> <span class="keywordtype">double</span></div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_TDSruns_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;% hObject    handle to edit_TDSruns (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> white background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;end</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;% --- Executes <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> press <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> checkbox_TDS.</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> checkbox_TDS_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;% hObject    handle to checkbox_TDS (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: get(hObject,&#39;<a class="code" href="_display_model_properties_8m.html#aa3e85bcc21f31fb262e8662d5e2a8764">Value</a>&#39;) returns toggle state of checkbox_TDS</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_Cc_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;% hObject    handle to edit_Cc (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;% Hints: get(hObject,&#39;String&#39;) returns contents of edit_Cc as text</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;%        <a class="code" href="qmb_8m.html#ab68aa604d0cbafb60d37e13d919f3cbb">str2double</a>(get(hObject,&#39;String&#39;)) returns contents of edit_Cc as <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> <span class="keywordtype">double</span></div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_Cc_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;% hObject    handle to edit_Cc (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> white background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;end</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> <a class="code" href="scale_s_t_e_m_image_8m.html#abf18f61c6ed50da6937e412ea82c74aa">edit_alpha_Callback</a>(hObject, eventdata, handles)</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;% hObject    handle to edit_alpha (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;% Hints: get(hObject,&#39;String&#39;) returns contents of edit_alpha as text</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;%        <a class="code" href="qmb_8m.html#ab68aa604d0cbafb60d37e13d919f3cbb">str2double</a>(get(hObject,&#39;String&#39;)) returns contents of edit_alpha as <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> <span class="keywordtype">double</span></div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_alpha_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;% hObject    handle to edit_alpha (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> white background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;end</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_OutputFolder_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;% hObject    handle to edit_OutputFolder (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;% Hints: get(hObject,&#39;String&#39;) returns contents of edit_OutputFolder as text</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;%        <a class="code" href="qmb_8m.html#ab68aa604d0cbafb60d37e13d919f3cbb">str2double</a>(get(hObject,&#39;String&#39;)) returns contents of edit_OutputFolder as <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> <span class="keywordtype">double</span></div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_OutputFolder_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;% hObject    handle to edit_OutputFolder (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> white background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;end</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;% --- Executes <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> press <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> pushbutton_SelectFolder.</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> pushbutton_SelectFolder_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;folder = get(handles.edit_OutputFolder,&#39;String&#39;);</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> isstr(folder)</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;    <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="qstem_8m.html#ad23232aca9449743c8dbb4e79af48bd4">isempty</a>(findstr(folder,&#39;:\&#39;))</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;        folder = fullfile(handles.<a class="code" href="qstem_8m.html#af1af0cd7fd83b66990bde283570f23ea">configPath</a>,folder);</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;    end</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;<a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a></div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;    folder = handles.configPath;</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;end</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;s = dir(folder);</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="_displacement_params_8m.html#affbd44b02f0a59a4922b0c7d090cadd4">size</a>(s,1) == 0</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;    folder = handles.configPath;</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;end</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;folder = <a class="code" href="image_sim_8m.html#aaa93f32e31a2b6945d6aa1acbf541f0e">uigetdir</a>(folder, &#39;Select target folder for simulation results&#39;);</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> folder ~= 0</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;    % <a class="code" href="_displacement_params_8m.html#ac0005745f18f3ed5d3e2f7943e5243c4">First</a> let&#39;s try to remove the config folder, <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> we can:</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;    <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ~<a class="code" href="qstem_8m.html#ad23232aca9449743c8dbb4e79af48bd4">isempty</a>(strmatch(handles.configPath,folder))</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;       folder = folder(<a class="code" href="convert2cfg_8m.html#aabbdf768a12d7ff279a05a15db19fa61">length</a>(handles.configPath)+1:end); </div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;       <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> folder(1) == &#39;\&#39;, folder = folder(2:end); end;</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;    end</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;    handles.OutputFolder = folder;</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_OutputFolder,&#39;String&#39;,handles.OutputFolder);</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;    <a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject,handles);</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;end</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;% --- Executes <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> press <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> radiobutton_SuperCell.</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> radiobutton_SuperCell_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;handles = <a class="code" href="_display_model_properties_8m.html#ae26b38067a9792326b19b3e2e057feb1">pushbutton_UpdateView_Callback</a>(hObject, eventdata, handles);</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;% --- Executes <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> press <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> radiobutton_Slab.</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> radiobutton_Slab_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;handles = <a class="code" href="_display_model_properties_8m.html#ae26b38067a9792326b19b3e2e057feb1">pushbutton_UpdateView_Callback</a>(hObject, eventdata, handles);</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;% --- Executes <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> press <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> radiobutton_UnitCell.</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> radiobutton_UnitCell_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;handles = <a class="code" href="_display_model_properties_8m.html#ae26b38067a9792326b19b3e2e057feb1">pushbutton_UpdateView_Callback</a>(hObject, eventdata, handles);</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;% --- Executes <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> press <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> radiobutton_viewTop.</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> radiobutton_viewTop_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;handles = <a class="code" href="_display_model_properties_8m.html#ae26b38067a9792326b19b3e2e057feb1">pushbutton_UpdateView_Callback</a>(hObject, eventdata, handles);</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;% --- Executes <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> press <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> radiobutton_viewFront.</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> radiobutton_viewFront_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;handles = <a class="code" href="_display_model_properties_8m.html#ae26b38067a9792326b19b3e2e057feb1">pushbutton_UpdateView_Callback</a>(hObject, eventdata, handles);</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;% This <a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> reads all relevant <a class="code" href="image_sim_8m.html#a64b52c93bb6e3c8debb644b626e7efab">fields</a> and should be executed before</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;% procesing the user-entered data, especially before displaying or saving</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;% the config <a class="code" href="qmb_8m.html#a0afda3603b043ac6b7362fdee225631e">file</a>.</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> handles = <a class="code" href="image_sim_8m.html#a3620c5808f65103e456213a81d95e7e3">readAllFields</a>(hObject, eventdata, handles)</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;% Microscope <a class="code" href="draw_xtal_8m.html#aeb6159906f64d5f1b8476454468f5af3">parameters</a>:</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;handles.HighVoltage = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_HighVoltage,&#39;String&#39;));</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;handles.Wavelength = wavelength(handles.HighVoltage);</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.text_wavelength,&#39;String&#39;,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;kV    (wavelength = %.2fpm)&#39;,100*handles.Wavelength));</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;handles.Defocus     = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_Defocus,&#39;String&#39;));</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;handles.AstigMag    = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_AstigMag,&#39;String&#39;));</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;handles.AstigAngle  = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_AstigAngle,&#39;String&#39;));</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;handles.<a class="code" href="convert2cfg_8m.html#a62197192f0fbf4e0675eb37be1c4c175">alpha</a>       = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_alpha,&#39;String&#39;));</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;handles.<a class="code" href="aberrations_8m.html#af6b128bfb9b22174e084962314cd68c2">C3</a>          = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_C3,&#39;String&#39;));</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;% handles.C5          = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_C5,&#39;String&#39;));</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;handles.Cc          = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_Cc,&#39;String&#39;));</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;handles.dE          = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_dE,&#39;String&#39;));</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;handles.<a class="code" href="image_sim_8m.html#a15f1a96dd5e77ed931110fbb52692049">Delta</a>       = handles.Cc*1<a class="code" href="qmb_8m.html#ada985816ea79ac4451f0f552d48090e5">e3</a>*handles.dE/handles.HighVoltage;</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;handles.TDS         = get(handles.checkbox_TDS,&#39;<a class="code" href="_display_model_properties_8m.html#aa3e85bcc21f31fb262e8662d5e2a8764">Value</a>&#39;);</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;handles.Temperature = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_Temperature,&#39;String&#39;));</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;handles.TDSruns     = <a class="code" href="advanced_settings_8m.html#a05ceb1cc3b74082a4c5ce7f459a483d4">floor</a>(<a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_TDSruns,&#39;String&#39;)));</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;handles.BeamTiltX   = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_BtiltX,&#39;String&#39;));</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;handles.BeamTiltY   = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_BtiltY,&#39;String&#39;));</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;handles.TiltBack    = get(handles.checkbox_TiltBack,&#39;Value&#39;);</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;% handles.<a class="code" href="image_sim_8m.html#a15f1a96dd5e77ed931110fbb52692049">Delta</a> = handles.Cc *</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;% <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(extractParam(&#39;dV/V&#39;,nameArray,<a class="code" href="qstem_8m.html#a294329680de5531cf5c925c1003a5ec8">pValues</a>));</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;% supercell and slicing data:</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;handles.<a class="code" href="qstem_8m.html#a09bb454984385122db7f31c4d15310a9">atomSize</a> = <a class="code" href="advanced_settings_8m.html#a05ceb1cc3b74082a4c5ce7f459a483d4">floor</a>(<a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_atomSize,&#39;String&#39;)));</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> get(handles.radiobutton_Ncells,&#39;Value&#39;);</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;    handles.NcellX = <a class="code" href="advanced_settings_8m.html#a05ceb1cc3b74082a4c5ce7f459a483d4">floor</a>(<a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_NcellX,&#39;String&#39;)));</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;    handles.NcellY = <a class="code" href="advanced_settings_8m.html#a05ceb1cc3b74082a4c5ce7f459a483d4">floor</a>(<a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_NcellY,&#39;String&#39;)));</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;    handles.NcellZ = <a class="code" href="advanced_settings_8m.html#a05ceb1cc3b74082a4c5ce7f459a483d4">floor</a>(<a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_NcellZ,&#39;String&#39;)));</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;<a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a></div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;    handles.<a class="code" href="qmb_8m.html#a13f76be53ff17401f7d3d4ed11b8ea45">BoxX</a> = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_NcellX,&#39;String&#39;));</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;    handles.<a class="code" href="qmb_8m.html#aec6c8f052b22d3766d849e2feba40010">BoxY</a> = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_NcellY,&#39;String&#39;));</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;    handles.BoxZ = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_NcellZ,&#39;String&#39;));    </div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;end</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;% Read the specimen tilt and compute the rotation matrix:</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;handles.degree = get(handles.radiobutton_degree,&#39;Value&#39;);</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;handles.<a class="code" href="image_sim_8m.html#a9453345457e3f32823308485e91ea707">TiltX</a>  = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_TiltX,&#39;String&#39;));</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;handles.<a class="code" href="image_sim_8m.html#a2e693f713f9e8de2e4ac5d82f5ebfe4b">TiltY</a>  = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_TiltY,&#39;String&#39;));</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;handles.TiltZ  = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_TiltZ,&#39;String&#39;));</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> handles.degree</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;   handles.<a class="code" href="image_sim_8m.html#a9453345457e3f32823308485e91ea707">TiltX</a> = handles.<a class="code" href="image_sim_8m.html#a9453345457e3f32823308485e91ea707">TiltX</a>*pi/180; </div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;   handles.<a class="code" href="image_sim_8m.html#a2e693f713f9e8de2e4ac5d82f5ebfe4b">TiltY</a> = handles.<a class="code" href="image_sim_8m.html#a2e693f713f9e8de2e4ac5d82f5ebfe4b">TiltY</a>*pi/180; </div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;   handles.TiltZ = handles.TiltZ*pi/180; </div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;end</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;cx = cos(handles.<a class="code" href="image_sim_8m.html#a9453345457e3f32823308485e91ea707">TiltX</a>);</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;<a class="code" href="_read_d_m3___matlab_8m.html#a557a90d17120e38e3437cfeacbc92b9b">sx</a> = sin(handles.TiltX);</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;cy = cos(handles.<a class="code" href="image_sim_8m.html#a2e693f713f9e8de2e4ac5d82f5ebfe4b">TiltY</a>);</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;<a class="code" href="_read_d_m3___matlab_8m.html#a22828bc75d634212ef406fa49c02e2ca">sy</a> = sin(handles.TiltY);</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;cz = cos(handles.TiltZ);</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;sz = sin(handles.TiltZ);</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> (1)</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;    % Mx = [1 0 0;0 cx <a class="code" href="_read_d_m3___matlab_8m.html#a557a90d17120e38e3437cfeacbc92b9b">sx</a>;0 -sx cx];</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;    % My = [cy 0 -<a class="code" href="_read_d_m3___matlab_8m.html#a22828bc75d634212ef406fa49c02e2ca">sy</a>;0 1 0; sy 0 cy];</div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;    % Mz = [cz sz 0;-sz cz 0; 0 0 1];</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;    Mx = [1 0 0;0 cx -sx;0 sx cx];</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;    My = [cy 0 sy;0 1 0; -sy 0 cy];</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;    Mz = [cz -sz 0;sz cz 0; 0 0 1];</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;    handles.<a class="code" href="rotate_zone_axis_8m.html#a68f78b58110e3cb5e477322ce0248870">Mrot</a> = Mz*My*Mx;</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;<a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a></div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;    handles.<a class="code" href="rotate_zone_axis_8m.html#a68f78b58110e3cb5e477322ce0248870">Mrot</a>(1,1) = cz*cy;</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;    handles.Mrot(1,2) = cz*sy*sx-sz*cx;</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;    handles.Mrot(1,3) = cz*sy*cx+sz*sx;</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;    handles.Mrot(2,1) = sz*cy;</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;    handles.Mrot(2,2) = sz*sy*sx+cz*cx;</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;    handles.Mrot(2,3) = sz*sy*cx-cz*sx;</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;    handles.Mrot(3,1) = -sy;</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;    handles.Mrot(3,2) = cy*sx;</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;    handles.Mrot(3,3) = cy*cx;</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;end</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;% Read the slicing <a class="code" href="_read_d_m3___matlab_8m.html#aa4f42c0d3275c58153f3d1af1dda3edf">information</a>:</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;handles.NsubSlabs = <a class="code" href="advanced_settings_8m.html#a05ceb1cc3b74082a4c5ce7f459a483d4">floor</a>(<a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_NsubSlabs,&#39;String&#39;)));</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;handles.Nslice = <a class="code" href="advanced_settings_8m.html#a05ceb1cc3b74082a4c5ce7f459a483d4">floor</a>(<a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_Nslice,&#39;String&#39;)));</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;handles.NsliceTot = handles.NsubSlabs*handles.Nslice;</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;handles.PotentialOffsetZ = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_PotentialOffsetZ,&#39;String&#39;));</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;handles.CenterSlices = get(handles.checkbox_CenterSlices,&#39;Value&#39;);</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;% scan <a class="code" href="draw_xtal_8m.html#aeb6159906f64d5f1b8476454468f5af3">parameters</a>:</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;handles.Xstart = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_Xstart,&#39;String&#39;));</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;handles.Xstop  = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_Xstop,&#39;String&#39;));</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;handles.Ystart = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_Ystart,&#39;String&#39;));</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;handles.Ystop  = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_Ystop,&#39;String&#39;));</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;handles.Xpixels = <a class="code" href="advanced_settings_8m.html#a05ceb1cc3b74082a4c5ce7f459a483d4">floor</a>(<a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_Xpixels,&#39;String&#39;)));</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;handles.Ypixels = <a class="code" href="advanced_settings_8m.html#a05ceb1cc3b74082a4c5ce7f459a483d4">floor</a>(<a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_Ypixels,&#39;String&#39;)));</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;% Probe window <a class="code" href="draw_xtal_8m.html#aeb6159906f64d5f1b8476454468f5af3">parameters</a>:</div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;handles.ProbeNx = <a class="code" href="advanced_settings_8m.html#a05ceb1cc3b74082a4c5ce7f459a483d4">floor</a>(<a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_ProbeNx,&#39;String&#39;)));</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;handles.ProbeNy = <a class="code" href="advanced_settings_8m.html#a05ceb1cc3b74082a4c5ce7f459a483d4">floor</a>(<a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_ProbeNy,&#39;String&#39;)));</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;handles.ProbeResolutionX = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_ProbeResolutionX,&#39;String&#39;));</div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;handles.ProbeResolutionY = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_ProbeResolutionY,&#39;String&#39;));</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;handles.ProbeWindowX = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_ProbeWindowX,&#39;String&#39;));</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;handles.ProbeWindowY = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_ProbeWindowY,&#39;String&#39;));</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;handles.PotentialOffsetX = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_PotentialOffsetX,&#39;String&#39;));</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;handles.PotentialOffsetY = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_PotentialOffsetY,&#39;String&#39;));</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;handles.PotentialOffsetZ = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_PotentialOffsetZ,&#39;String&#39;));</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;handles.PeriodicZ  = get(handles.checkbox_PeriodicZ,&#39;Value&#39;) == 1;</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;handles.PeriodicXY  = get(handles.checkbox_PeriodicXY,&#39;Value&#39;) == 1;</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;% update the scattering angles:</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;handles.ProbeMaxAngleX = 2/6*handles.Wavelength * (handles.ProbeNx/handles.ProbeWindowX);</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;handles.ProbeMaxAngleY = 2/6*handles.Wavelength * (handles.ProbeNy/handles.ProbeWindowY);</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeMaxAngleX,&#39;String&#39;,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;%.1f&#39;,1<a class="code" href="qmb_8m.html#ada985816ea79ac4451f0f552d48090e5">e3</a>*handles.ProbeMaxAngleX));</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeMaxAngleY,&#39;String&#39;,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;%.1f&#39;,1<a class="code" href="qmb_8m.html#ada985816ea79ac4451f0f552d48090e5">e3</a>*handles.ProbeMaxAngleY));</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;        </div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;% <a class="code" href="convert2cfg_8m.html#ab97515cda1e3e845e080f5f32a67fd09">Output</a> <a class="code" href="qmb_8m.html#a02eacfd40be9042ceb0f07547365203d">options</a>:</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;handles.OutputFolder = get(handles.edit_OutputFolder,&#39;String&#39;);</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;handles.SlicesBetweenOutputs = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_SlicesBetweenOutputs,&#39;String&#39;));</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160; </div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;% End of <a class="code" href="image_sim_8m.html#a3620c5808f65103e456213a81d95e7e3">readAllFields</a>()</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;% --- Executes <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> press <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> pushbutton_AutoScanX.</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> pushbutton_AutoScanX_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;% hObject    handle to pushbutton_AutoScanX (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;% --- Executes <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> press <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> pushbutton_AutoScanY.</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> pushbutton_AutoScanY_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;% hObject    handle to pushbutton_AutoScanY (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;% --- Executes <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> press <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> pushbutton_AutoZOffset.</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> pushbutton_AutoZOffset_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;handles.sliceThickness = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_SliceThickness,&#39;String&#39;));</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;handles.PotentialOffsetZ = 0.5*handles.sliceThickness;</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_PotentialOffsetZ,&#39;String&#39;,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;%.3f&#39;,handles.PotentialOffsetZ));</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.checkbox_CenterSlices,&#39;Value&#39;,0);</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;% --- Executes <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> press <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> radiobutton_Box.</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> radiobutton_Box_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;handles.BoxMode = 1;</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.text_Nx,&#39;String&#39;,&#39;Box:         <a class="code" href="image_sim_8m.html#a8fa675eb2fcec5b95d9d21c670da7f30">ax</a>:&#39;);</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.text_Ny,&#39;String&#39;,&#39;by:&#39;);</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.text_Nz,&#39;String&#39;,&#39;cz:&#39;);</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ~<a class="code" href="_displacement_params_8m.html#acde093ecb328e089c7e8699979b778d1">isfield</a>(handles,&#39;<a class="code" href="qmb_8m.html#a13f76be53ff17401f7d3d4ed11b8ea45">BoxX</a>&#39;);</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;    <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="_displacement_params_8m.html#acde093ecb328e089c7e8699979b778d1">isfield</a>(handles,&#39;Mm&#39;)</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;        handles.BoxX = handles.Mm(1,1)*handles.NcellX;</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;        handles.<a class="code" href="qmb_8m.html#aec6c8f052b22d3766d849e2feba40010">BoxY</a> = handles.Mm(2,2)*handles.NcellY;</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;        handles.BoxZ = handles.Mm(3,3)*handles.NcellZ;</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;    <a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a></div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;       handles.BoxX = 50;</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;       handles.<a class="code" href="qmb_8m.html#aec6c8f052b22d3766d849e2feba40010">BoxY</a> = 50;</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;       handles.BoxZ = 100;</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;    end</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;end</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_NcellX,&#39;String&#39;,handles.BoxX);</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_NcellY,&#39;String&#39;,handles.BoxY);</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_NcellZ,&#39;String&#39;,handles.BoxZ);</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> get(handles.radiobutton_Box,&#39;Value&#39;)</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;    handles.SliceThickness = handles.BoxZ/handles.NsliceTot;</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;<a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a></div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;    handles.SliceThickness = handles.Mm(3,3)*handles.NcellZ/handles.NsliceTot;</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;end</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_SliceThickness,&#39;String&#39;,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;%.4f&#39;,handles.SliceThickness));</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;% --- Executes <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> press <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> radiobutton_Ncells.</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> radiobutton_Ncells_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;handles.BoxMode = 0;</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.text_Nx,&#39;String&#39;,&#39;Unit cells:  <a class="code" href="aberrations_8m.html#a263cd82e310ef9ffd009f8f833a95233">Nx</a>:&#39;);</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.text_Ny,&#39;String&#39;,&#39;<a class="code" href="showimage_8m.html#ac1452fdfd6ea1c8c005ac90bbfa62011">Ny</a>:&#39;);</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.text_Nz,&#39;String&#39;,&#39;Nz:&#39;);</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_NcellX,&#39;String&#39;,handles.NcellX);</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_NcellY,&#39;String&#39;,handles.NcellY);</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_NcellZ,&#39;String&#39;,handles.NcellZ);</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> get(handles.radiobutton_Box,&#39;Value&#39;)</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;    handles.SliceThickness = handles.BoxZ/handles.NsliceTot;</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;<a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a></div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;    handles.SliceThickness = handles.Mm(3,3)*handles.NcellZ/handles.NsliceTot;</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;end</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_SliceThickness,&#39;String&#39;,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;%.4f&#39;,handles.SliceThickness));</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;% --- Executes <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> press <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> radiobutton_degree.</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> radiobutton_degree_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;% convert, <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> the unit was rad previously:</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> handles.degree == 0</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;    handles.TiltX  = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_TiltX,&#39;String&#39;));</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;    handles.TiltY  = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_TiltY,&#39;String&#39;));</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;    handles.TiltZ  = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_TiltZ,&#39;String&#39;));</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;   </div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;    handles.TiltX = handles.TiltX*180.0/pi;</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;    handles.TiltY = handles.TiltY*180.0/pi;</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;    handles.TiltZ = handles.TiltZ*180.0/pi;</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;       </div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_TiltX,&#39;String&#39;,handles.TiltX);</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_TiltY,&#39;String&#39;,handles.TiltY);</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_TiltZ,&#39;String&#39;,handles.TiltZ);</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160; </div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;end</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;handles.degree = 1;</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;</div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;% --- Executes <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> press <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> radiobutton_radians.</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> radiobutton_radians_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;% convert, <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> the unit was rad previously:</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> handles.degree == 1</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;    handles.TiltX  = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_TiltX,&#39;String&#39;));</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;    handles.TiltY  = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_TiltY,&#39;String&#39;));</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;    handles.TiltZ  = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_TiltZ,&#39;String&#39;));</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;    handles.TiltX = handles.TiltX*pi/180;</div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;    handles.TiltY = handles.TiltY*pi/180;</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;    handles.TiltZ = handles.TiltZ*pi/180;</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;    </div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_TiltX,&#39;String&#39;,handles.TiltX);</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_TiltY,&#39;String&#39;,handles.TiltY);</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_TiltZ,&#39;String&#39;,handles.TiltZ);</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160; </div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;end</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;handles.degree = 0;</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;</div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> <a class="code" href="qmb_8m.html#a8046bc71d260aac9b7254ca66a3c2161">edit_TiltX_Callback</a>(hObject, eventdata, handles)</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;% hObject    handle to edit_TiltX (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;% Hints: get(hObject,&#39;String&#39;) returns contents of edit_TiltX as text</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;%        <a class="code" href="qmb_8m.html#ab68aa604d0cbafb60d37e13d919f3cbb">str2double</a>(get(hObject,&#39;String&#39;)) returns contents of edit_TiltX as <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> <span class="keywordtype">double</span></div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_TiltX_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;% hObject    handle to edit_TiltX (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> white background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;end</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> <a class="code" href="qmb_8m.html#aeff2fa1f16e2fe4a15b7990ab368b000">edit_TiltY_Callback</a>(hObject, eventdata, handles)</div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;% hObject    handle to edit_TiltY (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;% Hints: get(hObject,&#39;String&#39;) returns contents of edit_TiltY as text</div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;%        <a class="code" href="qmb_8m.html#ab68aa604d0cbafb60d37e13d919f3cbb">str2double</a>(get(hObject,&#39;String&#39;)) returns contents of edit_TiltY as <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> <span class="keywordtype">double</span></div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_TiltY_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;% hObject    handle to edit_TiltY (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> white background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;end</div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;</div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> <a class="code" href="qmb_8m.html#ae6cb129b34f11151ba01773c9e9ee4b0">edit_TiltZ_Callback</a>(hObject, eventdata, handles)</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;% hObject    handle to edit_TiltZ (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;% Hints: get(hObject,&#39;String&#39;) returns contents of edit_TiltZ as text</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;%        <a class="code" href="qmb_8m.html#ab68aa604d0cbafb60d37e13d919f3cbb">str2double</a>(get(hObject,&#39;String&#39;)) returns contents of edit_TiltZ as <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> <span class="keywordtype">double</span></div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;</div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_TiltZ_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;% hObject    handle to edit_TiltZ (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;</div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> white background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;end</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;</div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;% --- Executes <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> press <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> pushbutton_Advanced.</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> pushbutton_Advanced_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;% hObject    handle to pushbutton_Advanced (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;data.<a class="code" href="qstem_8m.html#a5a7a04041b8d36231b865f8c9b07cd40">saveLevel</a>     = handles.<a class="code" href="qstem_8m.html#a5a7a04041b8d36231b865f8c9b07cd40">saveLevel</a>;</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;data.<a class="code" href="qstem_8m.html#a24e096d96b8b76611e893ddd6c372ae5">printLevel</a>    = handles.<a class="code" href="qstem_8m.html#a24e096d96b8b76611e893ddd6c372ae5">printLevel</a>;</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;data.<a class="code" href="qstem_8m.html#a771570fcbf7eebdfa7d620704a8789a0">atomRadius</a>    = handles.<a class="code" href="qstem_8m.html#a771570fcbf7eebdfa7d620704a8789a0">atomRadius</a>;</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;data.<a class="code" href="qstem_8m.html#a2627b1fe484f7e86e38deba8dabb27ed">savePotential</a> = handles.<a class="code" href="qstem_8m.html#a2627b1fe484f7e86e38deba8dabb27ed">savePotential</a>;</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;data.<a class="code" href="qstem_8m.html#ab6c80af39fbd1e06e09585d244dc28ce">saveTotalPotential</a> = handles.<a class="code" href="qstem_8m.html#ab6c80af39fbd1e06e09585d244dc28ce">saveTotalPotential</a>;</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;data.<a class="code" href="qstem_8m.html#a286321d6d000730b555812c3c9ae8645">potProgInterval</a> = handles.<a class="code" href="qstem_8m.html#a286321d6d000730b555812c3c9ae8645">potProgInterval</a>;</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;data.<a class="code" href="qstem_8m.html#a05446d3838f219de184194c1dca0dc0e">propProgInterval</a> = handles.<a class="code" href="qstem_8m.html#a05446d3838f219de184194c1dca0dc0e">propProgInterval</a>;</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;data = advancedSettings(data);</div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;</div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;handles.saveLevel     = data.saveLevel;</div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;handles.printLevel    = data.printLevel;</div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;handles.atomRadius    = data.atomRadius;</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;handles.savePotential = data.savePotential;</div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;handles.saveTotalPotential = data.saveTotalPotential;</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;handles.potProgInterval = data.potProgInterval;</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;handles.propProgInterval = data.propProgInterval;</div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;% <a class="code" href="qstem_8m.html#ae78618edac03dcbe434c7a42daf5bcee">fprintf</a>(&#39;saveLevel: %d, printLevel: %d, atomRadius: %.1f, savePot: %d (%d, %d)\n&#39;,handles.saveLevel,...</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;%    handles.printLevel,handles.atomRadius,handles.savePotential,handles.propProgInterval,handles.potProgInterval); </div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;</div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_dE_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;% hObject    handle to edit_dE (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;% Hints: get(hObject,&#39;String&#39;) returns contents of edit_dE as text</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;%        <a class="code" href="qmb_8m.html#ab68aa604d0cbafb60d37e13d919f3cbb">str2double</a>(get(hObject,&#39;String&#39;)) returns contents of edit_dE as <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> <span class="keywordtype">double</span></div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;</div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;</div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_dE_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;% hObject    handle to edit_dE (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;% handles    empty - handles not created until after all CreateFcns called</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;</div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;% <a class="code" href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a>: edit controls usually have <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> white background <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> Windows.</div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;%       See ISPC and COMPUTER.</div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;end</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;</div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;</div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;</div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_NcellZ_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;% hObject    handle to edit_NcellZ (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;% Hints: get(hObject,&#39;String&#39;) returns contents of edit_NcellZ as text</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;%        <a class="code" href="qmb_8m.html#ab68aa604d0cbafb60d37e13d919f3cbb">str2double</a>(get(hObject,&#39;String&#39;)) returns contents of edit_NcellZ as <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> <span class="keywordtype">double</span></div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> get(handles.radiobutton_Box,&#39;Value&#39;)</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;    handles.BoxZ = <a class="code" href="qmb_8m.html#ab68aa604d0cbafb60d37e13d919f3cbb">str2double</a>(get(hObject,&#39;String&#39;));</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;    handles.SliceThickness = handles.BoxZ/handles.NsliceTot;</div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;<a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a></div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;    handles.NcellZ = <a class="code" href="qmb_8m.html#ab68aa604d0cbafb60d37e13d919f3cbb">str2double</a>(get(hObject,&#39;String&#39;));</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;    handles.SliceThickness = handles.Mm(3,3)*handles.NcellZ/handles.NsliceTot;</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;end</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_SliceThickness,&#39;String&#39;,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;%.4f&#39;,handles.SliceThickness));</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;</div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;% --- Executes <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a> mouse press over <a class="code" href="aberrations_8m.html#aab5ae0ded50c2afc26c3d277094ad1ca">axes</a> background.</div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> axes_model_ButtonDownFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> scatter_ButtonDownFcn(src,eventdata,handles,hObject)</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;persistent <a class="code" href="qstem_8m.html#ac7fc17789f8e6f13fadaf928820310b8">RbboxHandle</a></div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="convert2cfg_8m.html#a7f9b12e953d2678415a3d421f36ae4d6">nargin</a> &lt; 4</div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;    <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ~<a class="code" href="qstem_8m.html#ad23232aca9449743c8dbb4e79af48bd4">isempty</a>(<a class="code" href="qstem_8m.html#ac7fc17789f8e6f13fadaf928820310b8">RbboxHandle</a>)</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;        <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac7fc17789f8e6f13fadaf928820310b8">RbboxHandle</a>,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;    end</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;    RbboxHandle = [];</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;    <a class="code" href="convert2cfg_8m.html#a9717e7bbecb906637e86cef6da3d83c2">return</a>;</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;end</div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;<a class="code" href="qmb_8m.html#a7bebe70772df69e543897acdd0943b35">point1</a> = get(gca,&#39;CurrentPoint&#39;);    % <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> <a class="code" href="_read_d_m3___matlab_8m.html#a0c4d90ce5be06bcdf88924556698492c">down</a> detected</div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;<a class="code" href="qmb_8m.html#a58001fa151736b8380b68b2adad5c1cb">rbbox</a>;                   % <a class="code" href="convert2cfg_8m.html#a9717e7bbecb906637e86cef6da3d83c2">return</a> <a class="code" href="_display_model_properties_8m.html#a391e34f2de441d79152a7b3d6e4c9c86">figure</a> units</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;<a class="code" href="qmb_8m.html#aeb60f7db5c35b7db0cca2af3912d2c80">point2</a> = get(gca,&#39;CurrentPoint&#39;);    % <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> up detected</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;<a class="code" href="qmb_8m.html#a7bebe70772df69e543897acdd0943b35">point1</a> = <a class="code" href="qmb_8m.html#a7bebe70772df69e543897acdd0943b35">point1</a>(1,1:2);              % extract <a class="code" href="aberrations_8m.html#a84c455b54a16f1c540f6abcc5b858393">x</a> and <a class="code" href="aberrations_8m.html#a0888783ccb240d8899f77cdcd85aa4b9">y</a></div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;<a class="code" href="qmb_8m.html#aeb60f7db5c35b7db0cca2af3912d2c80">point2</a> = <a class="code" href="qmb_8m.html#aeb60f7db5c35b7db0cca2af3912d2c80">point2</a>(1,1:2);</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;<a class="code" href="qmb_8m.html#aa850ae5126b39a75859039aa84c3a577">p1</a> = min(point1,point2);             % calculate locations</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;<a class="code" href="qmb_8m.html#a4dd6f73f98b7876577fd0d041b94d968">offset</a> = abs(point1-point2);         % and dimensions</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;<a class="code" href="aberrations_8m.html#a84c455b54a16f1c540f6abcc5b858393">x</a> = [<a class="code" href="qmb_8m.html#aa850ae5126b39a75859039aa84c3a577">p1</a>(1) <a class="code" href="qmb_8m.html#aa850ae5126b39a75859039aa84c3a577">p1</a>(1)+<a class="code" href="qmb_8m.html#a4dd6f73f98b7876577fd0d041b94d968">offset</a>(1) <a class="code" href="qmb_8m.html#aa850ae5126b39a75859039aa84c3a577">p1</a>(1)+<a class="code" href="qmb_8m.html#a4dd6f73f98b7876577fd0d041b94d968">offset</a>(1) <a class="code" href="qmb_8m.html#aa850ae5126b39a75859039aa84c3a577">p1</a>(1) <a class="code" href="qmb_8m.html#aa850ae5126b39a75859039aa84c3a577">p1</a>(1)];</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;<a class="code" href="aberrations_8m.html#a0888783ccb240d8899f77cdcd85aa4b9">y</a> = [p1(2) p1(2) p1(2)+<a class="code" href="qmb_8m.html#a4dd6f73f98b7876577fd0d041b94d968">offset</a>(2) p1(2)+<a class="code" href="qmb_8m.html#a4dd6f73f98b7876577fd0d041b94d968">offset</a>(2) p1(2)];</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;hold <a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a></div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;% If there was already <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> previous <a class="code" href="read_c_f_g__qstem_8m.html#a552eedb796e4ec274fe617b434bf69b2">box</a> drawn:</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.pushbutton_ScanAccept,&#39;Visible&#39;,&#39;<a class="code" href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a>&#39;);</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.pushbutton_ScanReject,&#39;Visible&#39;,&#39;on&#39;);</div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Xstart,&#39;String&#39;,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;%.2f&#39;,p1(1)));</div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Xstop,&#39;String&#39;,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;%.2f&#39;,p1(1)+<a class="code" href="qmb_8m.html#a4dd6f73f98b7876577fd0d041b94d968">offset</a>(1)));</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Ystart,&#39;String&#39;,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;%.2f&#39;,p1(2)));</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Ystop,&#39;String&#39;,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;%.2f&#39;,p1(2)+offset(2)));</div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;</div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> exist(&#39;RbboxHandle&#39;)</div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;    <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ~<a class="code" href="qstem_8m.html#ad23232aca9449743c8dbb4e79af48bd4">isempty</a>(RbboxHandle)</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;        <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(RbboxHandle,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;        RbboxHandle = [];</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;    end</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;end</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;</div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;axis manual</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;RbboxHandle = <a class="code" href="_display_model_properties_8m.html#a4a4817b8f77622be8fc00228c8ab44f3">plot</a>(<a class="code" href="aberrations_8m.html#a84c455b54a16f1c540f6abcc5b858393">x</a>,<a class="code" href="aberrations_8m.html#a0888783ccb240d8899f77cdcd85aa4b9">y</a>);</div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;%    <a class="code" href="image_sim_8m.html#a8c4d9ee8d4f82d724070b97e70b9c4e5">answer</a> = <a class="code" href="convert2cfg_8m.html#adaf2296b0af0af8d6d31aa11f288b107">msgbox</a>(<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;Dou you want to define the following scan window:\nX: %.2f .. %.2f, <a class="code" href="convert2cfg_8m.html#ae76081fb2cef09480162f3c1b69dfbb2">Y</a>: %.2f .. %.2fA?&#39;,...</div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;%    p1(1),p1(1)+offset(1),p1(2),p1(2)+offset(2)));</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;hold off    </div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;% --- Executes on <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> press <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> pushbutton_ScanAccept.</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> pushbutton_ScanAccept_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;</div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;scatter_ButtonDownFcn();</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.pushbutton_ScanAccept,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.pushbutton_ScanReject,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;handles.Xstart = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_Xstart,&#39;String&#39;));</div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;handles.Xstop  = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_Xstop,&#39;String&#39;));</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;handles.Ystart = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_Ystart,&#39;String&#39;));</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;handles.Ystop  = <a class="code" href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a>(get(handles.edit_Ystop,&#39;String&#39;));</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;</div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;handles = <a class="code" href="_display_model_properties_8m.html#ae26b38067a9792326b19b3e2e057feb1">pushbutton_UpdateView_Callback</a>(hObject, eventdata, handles);</div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;% --- Executes on <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> press <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> pushbutton_ScanReject.</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> pushbutton_ScanReject_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Xstart,&#39;String&#39;,handles.Xstart);</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Xstop,&#39;String&#39;,handles.Xstop);</div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Ystart,&#39;String&#39;,handles.Ystart);</div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Ystop,&#39;String&#39;,handles.Ystop);</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;</div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;scatter_ButtonDownFcn();</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.pushbutton_ScanAccept,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.pushbutton_ScanReject,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;% --- Executes on <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> press <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> pushbutton_MoreAberrations.</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> pushbutton_MoreAberrations_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;% hObject    handle to pushbutton_MoreAberrations (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GCBO)</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;% eventdata  reserved - to be <a class="code" href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a> <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> <a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a> future <a class="code" href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a> of MATLAB</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;% handles    structure with handles and user data (<a class="code" href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a> GUIDATA)</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;handles = <a class="code" href="image_sim_8m.html#a3620c5808f65103e456213a81d95e7e3">readAllFields</a>(hObject, eventdata, handles);</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;<a class="code" href="aberrations_8m.html#aca46b83ec8f21353a4ff43eb667cd2b6">params</a> = [handles.ProbeNx,handles.ProbeNy,handles.ProbeResolutionX,handles.ProbeResolutionY,handles.HighVoltage,handles.<a class="code" href="convert2cfg_8m.html#a62197192f0fbf4e0675eb37be1c4c175">alpha</a>];</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;<a class="code" href="aberrations_8m.html#a9a0c48d58e082211052c49509165f1db">c</a> = <a class="code" href="virtual_goniometer_8m.html#a658ea266fd3baee1bdd483b9117e9f54">zeros</a>(6,1);</div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;<a class="code" href="aberrations_8m.html#a9a0c48d58e082211052c49509165f1db">c</a>(2) = 10*handles.Defocus;</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;<a class="code" href="aberrations_8m.html#a9a0c48d58e082211052c49509165f1db">c</a>(4) = 1e7*handles.<a class="code" href="aberrations_8m.html#af6b128bfb9b22174e084962314cd68c2">C3</a>;</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="_displacement_params_8m.html#acde093ecb328e089c7e8699979b778d1">isfield</a>(handles,&#39;C5&#39;)</div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;    <a class="code" href="aberrations_8m.html#a9a0c48d58e082211052c49509165f1db">c</a>(6) = 1e7*handles.C5;</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;end</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;handles.<a class="code" href="qstem_8m.html#a4cab01967e6dc75a4286ba256777ac55">phi</a>(2,2) = handles.AstigAngle*pi/180;</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;handles.<a class="code" href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a>(2,2)   = 10*handles.AstigMag;</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;[a,phi,<a class="code" href="aberrations_8m.html#a9a0c48d58e082211052c49509165f1db">c</a>,<a class="code" href="aberrations_8m.html#aca46b83ec8f21353a4ff43eb667cd2b6">params</a>] = aberrations(handles.a,handles.phi,<a class="code" href="aberrations_8m.html#a9a0c48d58e082211052c49509165f1db">c</a>,<a class="code" href="aberrations_8m.html#aca46b83ec8f21353a4ff43eb667cd2b6">params</a>);</div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="convert2cfg_8m.html#aabbdf768a12d7ff279a05a15db19fa61">length</a>(params) &gt; 1</div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;    handles.HighVoltage = params(5);</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;    handles.alpha    = params(6);</div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;    handles.a        = a;</div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;    handles.phi      = phi;</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;    handles.Defocus  = 1e-1*c(2);</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;    handles.C3       = 1e-7*c(4);</div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;    handles.C5       = 1e-7*c(6);</div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;    handles.AstigAngle = phi(2,2)*180/pi;</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;    handles.AstigMag   = 1e-1*a(2,2);</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;    </div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Defocus,&#39;String&#39;,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;%.1f&#39;,handles.Defocus));</div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_AstigMag,&#39;String&#39;,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;%.1f&#39;,handles.AstigMag));</div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_AstigAngle,&#39;String&#39;,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;%.1f&#39;,handles.AstigAngle));</div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_C3,&#39;String&#39;,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(&#39;%.3f&#39;,handles.C3));</div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_alpha,&#39;String&#39;,handles.alpha);</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_HighVoltage,&#39;String&#39;,handles.HighVoltage);</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;    </div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;    <a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;end</div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;</div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;</div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;</div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;% <a class="code" href="stemtypes__fftw3_8hpp.html#ae37055f0823281ce47997ab6602bb607">STEM</a> Radiobutton Callback</div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;% --- Executes on <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> press <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> radiobutton_STEM.</div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> handles = radiobutton_STEM_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.uipanel_ScanningWindow,&#39;Title&#39;,&#39;Scan Window&#39;);</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.uipanel_ScanningWindow,&#39;Visible&#39;,&#39;on&#39;);</div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;handles.<a class="code" href="qstem_8m.html#ae5457ac188407029525dae0d288f5060">modeNum</a> = 1;</div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;handles.<a class="code" href="qstem_8m.html#aabea1a308e18fee00cc3a9031f079ba6">mode</a> = &#39;<a class="code" href="stemtypes__fftw3_8hpp.html#ae37055f0823281ce47997ab6602bb607">STEM</a>&#39;;</div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;% <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.uipanel_TEMcover1,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;% reload the old setting, <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> they have been saved previously</div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="_displacement_params_8m.html#acde093ecb328e089c7e8699979b778d1">isfield</a>(handles,&#39;XstartOld&#39;)</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;    handles.Xstart = handles.XstartOld;</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;    handles.Ystart = handles.YstartOld;</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;    handles.Xstop = handles.XstopOld;</div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;    handles.Ystop = handles.YstopOld;</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;    handles.Xpixels = handles.XpixelsOld;</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;    handles.Ypixels = handles.YpixelsOld;</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;    </div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;    handles.ProbeWindowX = handles.ProbeWindowXOld;</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;    handles.ProbeWindowY = handles.ProbeWindowYOld;</div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;    handles.ProbeResolutionX = handles.ProbeResolutionXOld;</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;    handles.ProbeResolutionY = handles.ProbeResolutionYOld;    </div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;end</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeWindowX,&#39;<a class="code" href="showimage_8m.html#a1278af71b2b0c86e50d9e50f815e6161">Enable</a>&#39;,&#39;on&#39;);</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeWindowY,&#39;Enable&#39;,&#39;on&#39;);</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeResolutionX,&#39;Enable&#39;,&#39;on&#39;);</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeResolutionY,&#39;Enable&#39;,&#39;on&#39;);</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Xstart,&#39;Visible&#39;,&#39;on&#39;);</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Xstop,&#39;Visible&#39;,&#39;on&#39;);</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Xpixels,&#39;Visible&#39;,&#39;on&#39;);</div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Ystart,&#39;Visible&#39;,&#39;on&#39;);</div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Ystop,&#39;Visible&#39;,&#39;on&#39;);</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Ypixels,&#39;Visible&#39;,&#39;on&#39;);</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;</div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.text3,&#39;String&#39;,&#39;<a class="code" href="convert2cfg_8m.html#ac51b57a703ba1c5869228690c93e1701">X</a>     start:&#39;);  % Xstart</div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.text6,&#39;String&#39;,&#39;<a class="code" href="convert2cfg_8m.html#ae76081fb2cef09480162f3c1b69dfbb2">Y</a>     start:&#39;);  % Ystart</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.text3,&#39;Visible&#39;,&#39;on&#39;);</div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.text6,&#39;Visible&#39;,&#39;on&#39;);</div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;</div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.text4,&#39;Visible&#39;,&#39;on&#39;);</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.text5,&#39;Visible&#39;,&#39;on&#39;);</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.text7,&#39;Visible&#39;,&#39;on&#39;);</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.text8,&#39;Visible&#39;,&#39;on&#39;);</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.text9,&#39;Visible&#39;,&#39;on&#39;);</div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.text10,&#39;Visible&#39;,&#39;on&#39;);</div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.pushbutton_ImageSim,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.pushbutton_MoreAberrations,&#39;Visible&#39;,&#39;on&#39;);</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Xstart,&#39;String&#39;,handles.Xstart);</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Xstop,&#39;String&#39;,handles.Xstop);</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Xpixels,&#39;String&#39;,handles.Xpixels);</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Ystart,&#39;String&#39;,handles.Ystart);</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Ystop,&#39;String&#39;,handles.Ystop);</div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Ypixels,&#39;String&#39;,handles.Ypixels);</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;    </div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeWindowX,&#39;String&#39;,handles.ProbeWindowX);</div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeWindowY,&#39;String&#39;,handles.ProbeWindowX);</div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeResolutionX,&#39;String&#39;,handles.ProbeResolutionX);</div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeResolutionY,&#39;String&#39;,handles.ProbeResolutionX);</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;</div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;</div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;handles = <a class="code" href="_display_model_properties_8m.html#ae26b38067a9792326b19b3e2e057feb1">pushbutton_UpdateView_Callback</a>(hObject, eventdata, handles);</div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;% End of STEM radiobutton Callback</div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;</div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;% <a class="code" href="stemtypes__fftw3_8hpp.html#a26fa01bb4b36ffed75910f878e99cadc">CBED</a> Radiobutton Callback</div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;% --- Executes on <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> press <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> radiobutton_CBED.</div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> handles = radiobutton_CBED_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.uipanel_ScanningWindow,&#39;Title&#39;,&#39;Probe Position&#39;);</div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.uipanel_ScanningWindow,&#39;Visible&#39;,&#39;on&#39;);</div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;handles.modeNum = 2;</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;handles.<a class="code" href="qstem_8m.html#aabea1a308e18fee00cc3a9031f079ba6">mode</a> = &#39;<a class="code" href="stemtypes__fftw3_8hpp.html#a26fa01bb4b36ffed75910f878e99cadc">CBED</a>&#39;;</div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;% <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.uipanel_TEMcover1,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;</div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;% reload the old setting, <a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> they have been saved previously</div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="_displacement_params_8m.html#acde093ecb328e089c7e8699979b778d1">isfield</a>(handles,&#39;XstartOld&#39;)</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;    handles.Xstart = 0.5*(handles.XstartOld+handles.XstopOld);</div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;    handles.Ystart = 0.5*(handles.YstartOld+handles.YstopOld);</div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;    </div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;    handles.ProbeWindowX = handles.ProbeWindowXOld;</div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;    handles.ProbeWindowY = handles.ProbeWindowYOld;</div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;    handles.ProbeResolutionX = handles.ProbeResolutionXOld;</div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;    handles.ProbeResolutionY = handles.ProbeResolutionYOld;    </div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;end</div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;handles.Xstop = handles.Xstart;</div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;handles.Ystop = handles.Ystart;</div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;handles.Xpixels = 1;</div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;handles.Ypixels = 1;</div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;</div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeWindowX,&#39;Enable&#39;,&#39;on&#39;);</div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeWindowY,&#39;Enable&#39;,&#39;on&#39;);</div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeResolutionX,&#39;Enable&#39;,&#39;on&#39;);</div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeResolutionY,&#39;Enable&#39;,&#39;on&#39;);</div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;</div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Xstart,&#39;Visible&#39;,&#39;on&#39;);</div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Ystart,&#39;Visible&#39;,&#39;on&#39;);</div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.text3,&#39;String&#39;,&#39;<a class="code" href="convert2cfg_8m.html#ac51b57a703ba1c5869228690c93e1701">X</a>  position:&#39;);  % Xstart</div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.text6,&#39;String&#39;,&#39;<a class="code" href="convert2cfg_8m.html#ae76081fb2cef09480162f3c1b69dfbb2">Y</a>  position:&#39;);  % Ystart</div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.text3,&#39;Visible&#39;,&#39;on&#39;);  % Xstart</div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.text6,&#39;Visible&#39;,&#39;on&#39;);  % Ystart</div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;    </div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Xstop,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Xpixels,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Ystop,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Ypixels,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;</div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.text4,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.text5,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.text7,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.text8,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.text9,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.text10,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.pushbutton_ImageSim,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.pushbutton_MoreAberrations,&#39;Visible&#39;,&#39;on&#39;);</div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;</div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeWindowX,&#39;String&#39;,handles.ProbeWindowX);</div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeWindowY,&#39;String&#39;,handles.ProbeWindowX);</div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeResolutionX,&#39;String&#39;,handles.ProbeResolutionX);</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeResolutionY,&#39;String&#39;,handles.ProbeResolutionX);</div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;</div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Xstart,&#39;String&#39;,handles.Xstart);</div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Xstop,&#39;String&#39;,handles.Xstop);</div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Xpixels,&#39;String&#39;,handles.Xpixels);</div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Ystart,&#39;String&#39;,handles.Ystart);</div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Ystop,&#39;String&#39;,handles.Ystop);</div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Ypixels,&#39;String&#39;,handles.Ypixels);</div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;</div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;handles = <a class="code" href="_display_model_properties_8m.html#ae26b38067a9792326b19b3e2e057feb1">pushbutton_UpdateView_Callback</a>(hObject, eventdata, handles);</div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;% end of CBED Radiobutton Callback</div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;</div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;</div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;% <a class="code" href="stemtypes__fftw3_8hpp.html#a5abef251d47456e7981e8f1ae7ba2a9a">TEM</a> Radiobutton Callback</div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;% --- Executes on <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> press <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> radiobutton_TEM.</div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> handles = radiobutton_TEM_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;</div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="qstem_8m.html#ad23232aca9449743c8dbb4e79af48bd4">isempty</a>(handles.atomPos) </div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;    uiwait(<a class="code" href="convert2cfg_8m.html#adaf2296b0af0af8d6d31aa11f288b107">msgbox</a>(&#39;Please load a model structure first&#39;,&#39;Error&#39;,&#39;<a class="code" href="convert2cfg_8m.html#abf75d0e474a103d59888210782ff8baf">modal</a>&#39;));</div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;    <a class="code" href="draw_xtal_8m.html#a097da1a4e072a25b17f4eb06d5c4ab1d">switch</a> handles.modeNum</div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;        <a class="code" href="convert2cfg_8m.html#a851a9364db662e9fa5eb14ca6e8a4b5a">case</a> 1</div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;            <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.radiobutton_STEM,&#39;Value&#39;,1);</div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;            handles = radiobutton_STEM_Callback(hObject, eventdata, handles);</div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;        <a class="code" href="convert2cfg_8m.html#a851a9364db662e9fa5eb14ca6e8a4b5a">case</a> 2</div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;            <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.radiobutton_CBED,&#39;Value&#39;,1);</div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;            handles = radiobutton_CBED_Callback(hObject, eventdata, handles);</div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;    end</div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;    <a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;    <a class="code" href="convert2cfg_8m.html#a9717e7bbecb906637e86cef6da3d83c2">return</a>;</div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;end</div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;</div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;</div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;</div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.uipanel_ScanningWindow,&#39;Title&#39;,&#39;&#39;);</div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.uipanel_ScanningWindow,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;</div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;% Save the STEM scan settings:</div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> handles.modeNum &gt; 0</div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;    handles = <a class="code" href="image_sim_8m.html#a3620c5808f65103e456213a81d95e7e3">readAllFields</a>(hObject, eventdata, handles);</div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;    handles.XstartOld = handles.Xstart;</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;    handles.YstartOld = handles.Ystart;</div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;    handles.XstopOld = handles.Xstop;</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;    handles.YstopOld = handles.Ystop;</div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;    handles.XpixelsOld = handles.Xpixels;</div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;    handles.YpixelsOld = handles.Ypixels;</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;    handles.ProbeWindowXOld = handles.ProbeWindowX;</div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;    handles.ProbeWindowYOld = handles.ProbeWindowY;</div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;    handles.ProbeResolutionXOld = handles.ProbeResolutionX;</div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;    handles.ProbeResolutionYOld = handles.ProbeResolutionY;    </div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;end</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;</div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;handles.modeNum = 0;</div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;handles.<a class="code" href="qstem_8m.html#aabea1a308e18fee00cc3a9031f079ba6">mode</a> = &#39;<a class="code" href="stemtypes__fftw3_8hpp.html#a5abef251d47456e7981e8f1ae7ba2a9a">TEM</a>&#39;;</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="_displacement_params_8m.html#acde093ecb328e089c7e8699979b778d1">isfield</a>(handles,&#39;boundingBox&#39;)</div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;    xmax = <a class="code" href="convert2cfg_8m.html#a20fc5038c021fd98154bd49a45a0e238">max</a>(handles.boundingBox(:,1));</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;    xmin = min(handles.boundingBox(:,1));</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;    ymax = <a class="code" href="convert2cfg_8m.html#a20fc5038c021fd98154bd49a45a0e238">max</a>(handles.boundingBox(:,2));</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;    ymin = min(handles.boundingBox(:,2));    </div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;<a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a></div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;    coords = handles.atomPos(:,2:4);</div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;    coords = [coords; [1 0 0]; [0 1 0]];</div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;    coords = coords*handles.Mm;</div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;    xmin = min(coords(:,1));</div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;    xmax = <a class="code" href="convert2cfg_8m.html#a20fc5038c021fd98154bd49a45a0e238">max</a>(coords(:,1));</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;    ymin = min(coords(:,2));</div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;    ymax = <a class="code" href="convert2cfg_8m.html#a20fc5038c021fd98154bd49a45a0e238">max</a>(coords(:,2));</div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;end</div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;</div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;handles.ProbeWindowX = xmax -xmin;</div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;handles.ProbeWindowY = ymax -ymin;</div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;handles.ProbeResolutionX = handles.ProbeWindowX/handles.ProbeNx;</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;handles.ProbeResolutionY = handles.ProbeWindowY/handles.ProbeNy;</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeWindowX,&#39;String&#39;,handles.ProbeWindowX);</div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeWindowY,&#39;String&#39;,handles.ProbeWindowY);</div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeResolutionX,&#39;String&#39;,handles.ProbeResolutionX);</div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeResolutionY,&#39;String&#39;,handles.ProbeResolutionY);</div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeWindowX,&#39;Enable&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeWindowY,&#39;Enable&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeResolutionX,&#39;Enable&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_ProbeResolutionY,&#39;Enable&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;</div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;% Adjust the Scan setting to match the TEM requirements:</div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> (0) </div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;    handles.Xstart = 0.5*handles.ProbeWindowX;</div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;    handles.Xstop = handles.Xstart;</div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;    handles.Xpixels = 1;</div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;    handles.Ystart = 0.5*handles.ProbeWindowY;</div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;    handles.Ystop = handles.Ystart;</div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;    handles.Ypixels = 1;</div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;    </div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Xstart,&#39;String&#39;,handles.Xstart);</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Xstop,&#39;String&#39;,handles.Xstop);</div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Xpixels,&#39;String&#39;,handles.Xpixels);</div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Ystart,&#39;String&#39;,handles.Ystart);</div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Ystop,&#39;String&#39;,handles.Ystop);</div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Ypixels,&#39;String&#39;,handles.Ypixels);</div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;<a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a></div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Xstart,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Xstop,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Xpixels,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Ystart,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Ystop,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.edit_Ypixels,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.text3,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.text4,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.text5,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.text6,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.text7,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.text8,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.text9,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.text10,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.pushbutton_ImageSim,&#39;Visible&#39;,&#39;on&#39;);</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.pushbutton_MoreAberrations,&#39;Visible&#39;,&#39;off&#39;);</div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;end</div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;% <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.uipanel_TEMcover1,&#39;Visible&#39;,&#39;on&#39;);</div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.pushbutton_ImageSim,&#39;Visible&#39;,&#39;on&#39;);</div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;</div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;handles = <a class="code" href="_display_model_properties_8m.html#ae26b38067a9792326b19b3e2e057feb1">pushbutton_UpdateView_Callback</a>(hObject, eventdata, handles);</div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;<a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.pushbutton_ImageSim,&#39;Visible&#39;,&#39;on&#39;);</div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(hObject, handles);</div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;% End of TEM Radiobutton Callback</div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;</div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;</div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;</div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;</div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;</div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;</div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;</div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;    </div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;    % --- Executes on <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> press <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> pushbutton_ModelProperties.</div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> pushbutton_ModelProperties_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> (0)</div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(handles.radiobutton_viewTop,&#39;Value&#39;,1);</div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;    handles = <a class="code" href="_display_model_properties_8m.html#ae26b38067a9792326b19b3e2e057feb1">pushbutton_UpdateView_Callback</a>(hObject, eventdata, handles);</div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;end</div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;DisplayModelProperties(handles);</div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;</div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;</div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;</div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;% --- Executes on <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> press <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> pushbutton_ImageSim.</div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> pushbutton_ImageSim_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;% system(fullfile(handles.<a class="code" href="qstem_8m.html#acccc912fa0b7ba0b666fb82aebe54fbf">binPath</a>,&#39;imageSim.exe&#39;));</div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;system(&#39;imageSim&#39;);</div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;</div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;</div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;</div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;</div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;</div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_BtiltX_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;</div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;</div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_BtiltX_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;end</div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;</div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;</div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;</div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_BtiltY_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;</div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_BtiltY_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;end</div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;</div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;</div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;</div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;</div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;% --- Executes on <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> press <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> checkbox_TiltBack.</div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> checkbox_TiltBack_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;</div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;</div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;</div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;</div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> <a class="code" href="scale_s_t_e_m_image_8m.html#af9a0924533de4ba00b17ad3a9faf327c">edit_DwellTime_Callback</a>(hObject, eventdata, handles)</div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;</div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_DwellTime_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;end</div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;</div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;</div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;</div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> <a class="code" href="scale_s_t_e_m_image_8m.html#adb3ea45f3c25305cde9814e3c3c0471a">edit_Brightness_Callback</a>(hObject, eventdata, handles)</div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;</div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;</div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;% --- Executes during <span class="keywordtype">object</span> creation, after setting all properties.</div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> edit_Brightness_CreateFcn(hObject, eventdata, handles)</div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> ispc &amp;&amp; <a class="code" href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a>(get(hObject,&#39;BackgroundColor&#39;), get(0,&#39;defaultUicontrolBackgroundColor&#39;))</div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(hObject,&#39;BackgroundColor&#39;,&#39;white&#39;);</div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;end</div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;</div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;</div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;</div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;</div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;% --- Executes on <a class="code" href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a> press <a class="code" href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a> pushbutton_Zone.</div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;<a class="code" href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a> pushbutton_Zone_Callback(hObject, eventdata, handles)</div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;<a class="code" href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a> <a class="code" href="_displacement_params_8m.html#acde093ecb328e089c7e8699979b778d1">isfield</a>(handles,&#39;<a class="code" href="virtual_goniometer_8m.html#a828b8f8a58cd9813deb365aab404c850">zone</a>&#39;)</div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;    <a class="code" href="convert2cfg_8m.html#a75180f3a56b12e0ea7561b96f5583f33">defaultanswer</a> = handles.<a class="code" href="virtual_goniometer_8m.html#a828b8f8a58cd9813deb365aab404c850">zone</a>;</div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;<a class="code" href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a></div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;    <a class="code" href="convert2cfg_8m.html#a75180f3a56b12e0ea7561b96f5583f33">defaultanswer</a> = {<span class="charliteral">&#39;0&#39;</span>,<span class="charliteral">&#39;0&#39;</span>,<span class="charliteral">&#39;1&#39;</span>};</div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;<a class="code" href="convert2cfg_8m.html#ad84e19307a43d3f799a4daeef0a6484a">prompt</a> = {<span class="stringliteral">&#39;h:&#39;</span>,<span class="stringliteral">&#39;k:&#39;</span>,<span class="stringliteral">&#39;l:&#39;</span>};</div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;<a class="code" href="convert2cfg_8m.html#af2f323caad11c790b60b05a6916887c3">numlines</a> = 1;</div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;<a class="code" href="image_sim_8m.html#a8c4d9ee8d4f82d724070b97e70b9c4e5">answer</a>=inputdlg(prompt,<span class="stringliteral">&#39;Define zone axis&#39;</span>,<a class="code" href="convert2cfg_8m.html#af2f323caad11c790b60b05a6916887c3">numlines</a>,<a class="code" href="convert2cfg_8m.html#a75180f3a56b12e0ea7561b96f5583f33">defaultanswer</a>);</div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;<span class="keywordflow">if</span> <a class="code" href="convert2cfg_8m.html#aabbdf768a12d7ff279a05a15db19fa61">length</a>(<a class="code" href="image_sim_8m.html#a8c4d9ee8d4f82d724070b97e70b9c4e5">answer</a>) &lt; 3</div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;    <span class="keywordflow">return</span></div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;<a class="code" href="virtual_goniometer_8m.html#a828b8f8a58cd9813deb365aab404c850">zone</a> = [str2num(answer{1}); str2num(answer{2}); str2num(answer{3})];</div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;</div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;<a class="code" href="qmb_8m.html#ada457d4f9e1a63fdf3ae9feed633d5a8">refZone</a> = [0; 0; 1];</div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;[rotAngles,Mrot] = rotateZoneAxis(zone,<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Mm,<a class="code" href="qmb_8m.html#ada457d4f9e1a63fdf3ae9feed633d5a8">refZone</a>);</div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;</div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.Mrot = <a class="code" href="rotate_zone_axis_8m.html#a68f78b58110e3cb5e477322ce0248870">Mrot</a>;</div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.zone  = <a class="code" href="image_sim_8m.html#a8c4d9ee8d4f82d724070b97e70b9c4e5">answer</a>;</div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.TiltX = rotAngles(1)*pi/180;</div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.TiltY = rotAngles(2)*pi/180;</div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.TiltZ = rotAngles(3)*pi/180;</div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;</div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.degree = <span class="keyword">get</span>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.radiobutton_degree,<span class="stringliteral">&#39;Value&#39;</span>);</div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;</div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;<span class="keywordflow">if</span> <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.degree</div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.edit_TiltX,<span class="stringliteral">&#39;String&#39;</span>,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(<span class="stringliteral">&#39;%.3f&#39;</span>,rotAngles(1)));</div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.edit_TiltY,<span class="stringliteral">&#39;String&#39;</span>,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(<span class="stringliteral">&#39;%.3f&#39;</span>,rotAngles(2)));</div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.edit_TiltZ,<span class="stringliteral">&#39;String&#39;</span>,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(<span class="stringliteral">&#39;%.3f&#39;</span>,rotAngles(3)));</div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;<span class="keywordflow">else</span></div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.edit_TiltX,<span class="stringliteral">&#39;String&#39;</span>,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(<span class="stringliteral">&#39;%.3f&#39;</span>,rotAngles(1)*pi/180));</div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.edit_TiltY,<span class="stringliteral">&#39;String&#39;</span>,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(<span class="stringliteral">&#39;%.3f&#39;</span>,rotAngles(2)*pi/180));  </div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;    <a class="code" href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a>(<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>.edit_TiltZ,<span class="stringliteral">&#39;String&#39;</span>,<a class="code" href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a>(<span class="stringliteral">&#39;%.3f&#39;</span>,rotAngles(3)*pi/180));  </div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;<a class="code" href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(<a class="code" href="_displacement_params_8m.html#a6e69a2e6c16546a1aba75e0422487e55">hObject</a>, <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>);</div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;<a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a> = <a class="code" href="_display_model_properties_8m.html#ae26b38067a9792326b19b3e2e057feb1">pushbutton_UpdateView_Callback</a>(<a class="code" href="_displacement_params_8m.html#a6e69a2e6c16546a1aba75e0422487e55">hObject</a>, <a class="code" href="aberrations___t_e_m_8m.html#a5f0afe6204672342221604c5c8eb3887">eventdata</a>, <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>);</div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;<a class="code" href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a>(<a class="code" href="_displacement_params_8m.html#a6e69a2e6c16546a1aba75e0422487e55">hObject</a>, <a class="code" href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a>);</div>
<div class="ttc" id="_read_d_m3___matlab_8m_html_a22828bc75d634212ef406fa49c02e2ca"><div class="ttname"><a href="_read_d_m3___matlab_8m.html#a22828bc75d634212ef406fa49c02e2ca">sy</a></div><div class="ttdeci">sy</div><div class="ttdef"><b>Definition:</b> <a href="_read_d_m3___matlab_8m_source.html#l00058">ReadDM3_Matlab.m:58</a></div></div>
<div class="ttc" id="image_sim_8m_html_a8729222064abdba94398e8a2caf0609e"><div class="ttname"><a href="image_sim_8m.html#a8729222064abdba94398e8a2caf0609e">highVoltage</a></div><div class="ttdeci">handles highVoltage</div><div class="ttdef"><b>Definition:</b> <a href="image_sim_8m_source.html#l00474">imageSim.m:474</a></div></div>
<div class="ttc" id="_displacement_params_8m_html_acde093ecb328e089c7e8699979b778d1"><div class="ttname"><a href="_displacement_params_8m.html#acde093ecb328e089c7e8699979b778d1">isfield</a></div><div class="ttdeci">if isfield(varargin{1},'a') handles.a</div></div>
<div class="ttc" id="image_sim_8m_html_a67f88f0d593aadb8fec844297e059599"><div class="ttname"><a href="image_sim_8m.html#a67f88f0d593aadb8fec844297e059599">Tilt</a></div><div class="ttdeci">end Read Tilt</div><div class="ttdef"><b>Definition:</b> <a href="image_sim_8m_source.html#l00487">imageSim.m:487</a></div></div>
<div class="ttc" id="_read_d_m3___matlab_8m_html_a557a90d17120e38e3437cfeacbc92b9b"><div class="ttname"><a href="_read_d_m3___matlab_8m.html#a557a90d17120e38e3437cfeacbc92b9b">sx</a></div><div class="ttdeci">sx</div><div class="ttdef"><b>Definition:</b> <a href="_read_d_m3___matlab_8m_source.html#l00057">ReadDM3_Matlab.m:57</a></div></div>
<div class="ttc" id="qmb_8m_html_aab2463cd078f7c5368f6eb80f5a549b8"><div class="ttname"><a href="qmb_8m.html#aab2463cd078f7c5368f6eb80f5a549b8">x2</a></div><div class="ttdeci">x2</div><div class="ttdef"><b>Definition:</b> <a href="qmb_8m_source.html#l00703">qmb.m:703</a></div></div>
<div class="ttc" id="qstem_8m_html_a58f7f5bb8af524fdfac53ec31e329e3f"><div class="ttname"><a href="qstem_8m.html#a58f7f5bb8af524fdfac53ec31e329e3f">gui_mainfcn</a></div><div class="ttdeci">else gui_mainfcn(gui_State, varargin{:})</div></div>
<div class="ttc" id="qstem_8m_html_a48673c39259e21125ccdd489d990c78e"><div class="ttname"><a href="qstem_8m.html#a48673c39259e21125ccdd489d990c78e">output</a></div><div class="ttdeci">handles output</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00063">qstem.m:63</a></div></div>
<div class="ttc" id="image_sim_8m_html_a2e693f713f9e8de2e4ac5d82f5ebfe4b"><div class="ttname"><a href="image_sim_8m.html#a2e693f713f9e8de2e4ac5d82f5ebfe4b">TiltY</a></div><div class="ttdeci">handles TiltY</div><div class="ttdef"><b>Definition:</b> <a href="image_sim_8m_source.html#l00491">imageSim.m:491</a></div></div>
<div class="ttc" id="image_sim_8m_html_aa5cd282e26bde51def39bb437904248d"><div class="ttname"><a href="image_sim_8m.html#aa5cd282e26bde51def39bb437904248d">angle</a></div><div class="ttdeci">end Read Convergence angle</div><div class="ttdef"><b>Definition:</b> <a href="image_sim_8m_source.html#l00515">imageSim.m:515</a></div></div>
<div class="ttc" id="binread2_d_8m_html_a6802a4975f2ff519ca7f69ffaf7fcdde"><div class="ttname"><a href="binread2_d_8m.html#a6802a4975f2ff519ca7f69ffaf7fcdde">function</a></div><div class="ttdeci">function[img, t, dx, dy]</div><div class="ttdef"><b>Definition:</b> <a href="binread2_d_8m_source.html#l00001">binread2D.m:1</a></div></div>
<div class="ttc" id="image_sim_8m_html_a15f1a96dd5e77ed931110fbb52692049"><div class="ttname"><a href="image_sim_8m.html#a15f1a96dd5e77ed931110fbb52692049">Delta</a></div><div class="ttdeci">astigmatism handles Delta</div><div class="ttdef"><b>Definition:</b> <a href="image_sim_8m_source.html#l00425">imageSim.m:425</a></div></div>
<div class="ttc" id="qmb_8m_html_a44fc7b4d71d6310e89c58b0d54ad4ef2"><div class="ttname"><a href="qmb_8m.html#a44fc7b4d71d6310e89c58b0d54ad4ef2">sortrows</a></div><div class="ttdeci">sortrows(coords,[1 4])</div></div>
<div class="ttc" id="qstem_8m_html_a4cab01967e6dc75a4286ba256777ac55"><div class="ttname"><a href="qstem_8m.html#a4cab01967e6dc75a4286ba256777ac55">phi</a></div><div class="ttdeci">handles phi</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00084">qstem.m:84</a></div></div>
<div class="ttc" id="showimage_8m_html_ac1452fdfd6ea1c8c005ac90bbfa62011"><div class="ttname"><a href="showimage_8m.html#ac1452fdfd6ea1c8c005ac90bbfa62011">Ny</a></div><div class="ttdeci">Ny</div><div class="ttdef"><b>Definition:</b> <a href="showimage_8m_source.html#l00261">showimage.m:261</a></div></div>
<div class="ttc" id="aberrations_8m_html_a98e24af10201eb2a871179d81c16c84f"><div class="ttname"><a href="aberrations_8m.html#a98e24af10201eb2a871179d81c16c84f">Hint</a></div><div class="ttdeci">Insert custom Title and Text if specified by the user Hint</div><div class="ttdef"><b>Definition:</b> <a href="aberrations_8m_source.html#l00078">aberrations.m:78</a></div></div>
<div class="ttc" id="namespacepython_1_1potential_html_af887b24c78c0630197f05f84f19de90c"><div class="ttname"><a href="namespacepython_1_1potential.html#af887b24c78c0630197f05f84f19de90c">python.potential.f</a></div><div class="ttdeci">tuple f</div><div class="ttdef"><b>Definition:</b> <a href="potential_8py_source.html#l00133">potential.py:133</a></div></div>
<div class="ttc" id="_display_model_properties_8m_html_ae436dbba71d976b0111c531939f54e66"><div class="ttname"><a href="_display_model_properties_8m.html#ae436dbba71d976b0111c531939f54e66">DW</a></div><div class="ttdeci">DW</div><div class="ttdef"><b>Definition:</b> <a href="_display_model_properties_8m_source.html#l00286">DisplayModelProperties.m:286</a></div></div>
<div class="ttc" id="_display_model_properties_8m_html_a4a4817b8f77622be8fc00228c8ab44f3"><div class="ttname"><a href="_display_model_properties_8m.html#a4a4817b8f77622be8fc00228c8ab44f3">plot</a></div><div class="ttdeci">end Show the integrated plot</div><div class="ttdef"><b>Definition:</b> <a href="_display_model_properties_8m_source.html#l00501">DisplayModelProperties.m:501</a></div></div>
<div class="ttc" id="qmb_8m_html_a58001fa151736b8380b68b2adad5c1cb"><div class="ttname"><a href="qmb_8m.html#a58001fa151736b8380b68b2adad5c1cb">rbbox</a></div><div class="ttdeci">button down detected rbbox</div><div class="ttdef"><b>Definition:</b> <a href="qmb_8m_source.html#l00690">qmb.m:690</a></div></div>
<div class="ttc" id="namespacepython_1_1potential_html_a35c4557193f9702081df5ac284fbcf3b"><div class="ttname"><a href="namespacepython_1_1potential.html#a35c4557193f9702081df5ac284fbcf3b">python.potential.ny</a></div><div class="ttdeci">int ny</div><div class="ttdef"><b>Definition:</b> <a href="potential_8py_source.html#l00041">potential.py:41</a></div></div>
<div class="ttc" id="qstem_8m_html_a7b9c3d619ad7365ec6434713e76142e8"><div class="ttname"><a href="qstem_8m.html#a7b9c3d619ad7365ec6434713e76142e8">fid</a></div><div class="ttdeci">if fid</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00167">qstem.m:167</a></div></div>
<div class="ttc" id="image_sim_8m_html_a97695672c0d89ebbb1074dee2ea2a8d8"><div class="ttname"><a href="image_sim_8m.html#a97695672c0d89ebbb1074dee2ea2a8d8">BackgroundColor</a></div><div class="ttdeci">end function after setting all properties function BackgroundColor</div><div class="ttdef"><b>Definition:</b> <a href="image_sim_8m_source.html#l00907">imageSim.m:907</a></div></div>
<div class="ttc" id="qstem_8m_html_a831a3e1133c41b364b824dcb52ee0f9a"><div class="ttname"><a href="qstem_8m.html#a831a3e1133c41b364b824dcb52ee0f9a">itself</a></div><div class="ttdeci">function by itself</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00001">qstem.m:1</a></div></div>
<div class="ttc" id="draw_xtal_8m_html_aeb6159906f64d5f1b8476454468f5af3"><div class="ttname"><a href="draw_xtal_8m.html#aeb6159906f64d5f1b8476454468f5af3">parameters</a></div><div class="ttdeci">end define variable parameters</div><div class="ttdef"><b>Definition:</b> <a href="draw_xtal_8m_source.html#l00009">drawXtal.m:9</a></div></div>
<div class="ttc" id="image_sim_8m_html_a3620c5808f65103e456213a81d95e7e3"><div class="ttname"><a href="image_sim_8m.html#a3620c5808f65103e456213a81d95e7e3">readAllFields</a></div><div class="ttdeci">hObject, eventdata, handles readAllFields()</div></div>
<div class="ttc" id="qstem_8m_html_afb358f48b1646c750fb9da6c6585be2b"><div class="ttname"><a href="qstem_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></div><div class="ttdeci">end</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00067">qstem.m:67</a></div></div>
<div class="ttc" id="_display_model_properties_8m_html_a634fdd7f6426b0a49817c39e9101a3c4"><div class="ttname"><a href="_display_model_properties_8m.html#a634fdd7f6426b0a49817c39e9101a3c4">see</a></div><div class="ttdeci">end Determine what the user wants to see</div><div class="ttdef"><b>Definition:</b> <a href="_display_model_properties_8m_source.html#l00268">DisplayModelProperties.m:268</a></div></div>
<div class="ttc" id="qmb_8m_html_aea9102df42c96670313e90f848e15c9e"><div class="ttname"><a href="qmb_8m.html#aea9102df42c96670313e90f848e15c9e">atomPos</a></div><div class="ttdeci">handles atomPos</div><div class="ttdef"><b>Definition:</b> <a href="qmb_8m_source.html#l00284">qmb.m:284</a></div></div>
<div class="ttc" id="_display_model_properties_8m_html_adfc876b35db3e97d88b3a2e0d8ff0c61"><div class="ttname"><a href="_display_model_properties_8m.html#adfc876b35db3e97d88b3a2e0d8ff0c61">defined</a></div><div class="ttdeci">end end end Compute the effective Z number in thos where it is defined</div><div class="ttdef"><b>Definition:</b> <a href="_display_model_properties_8m_source.html#l00405">DisplayModelProperties.m:405</a></div></div>
<div class="ttc" id="qmb_8m_html_ad5a54bc5a2abedf790cf00f7c63f6235"><div class="ttname"><a href="qmb_8m.html#ad5a54bc5a2abedf790cf00f7c63f6235">atom</a></div><div class="ttdeci">specify type and mass of first atom(all others are the same) end fclose(fid)</div></div>
<div class="ttc" id="qstem_8m_html_a05446d3838f219de184194c1dca0dc0e"><div class="ttname"><a href="qstem_8m.html#a05446d3838f219de184194c1dca0dc0e">propProgInterval</a></div><div class="ttdeci">handles propProgInterval</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00081">qstem.m:81</a></div></div>
<div class="ttc" id="_display_model_properties_8m_html_a391e34f2de441d79152a7b3d6e4c9c86"><div class="ttname"><a href="_display_model_properties_8m.html#a391e34f2de441d79152a7b3d6e4c9c86">figure</a></div><div class="ttdeci">figure</div><div class="ttdef"><b>Definition:</b> <a href="_display_model_properties_8m_source.html#l00421">DisplayModelProperties.m:421</a></div></div>
<div class="ttc" id="qstem_8m_html_aa908f49ed8bb16422becc0d8785fac72"><div class="ttname"><a href="qstem_8m.html#aa908f49ed8bb16422becc0d8785fac72">configFile</a></div><div class="ttdeci">handles configFile</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00091">qstem.m:91</a></div></div>
<div class="ttc" id="qmb_8m_html_a8046bc71d260aac9b7254ca66a3c2161"><div class="ttname"><a href="qmb_8m.html#a8046bc71d260aac9b7254ca66a3c2161">edit_TiltX_Callback</a></div><div class="ttdeci">end function edit_CFGName_Callback(hObject, eventdata, handles)%hObject handle to edit_CFGName(see GCBO)%eventdata reserved-to be defined in a future version of MATLAB%handles structure with handles and user data(see GUIDATA)%Hints end function edit_TiltX_Callback(hObject, eventdata, handles)[handles</div></div>
<div class="ttc" id="_displacement_params_8m_html_abae9a3ce1348fc8b6ab1330584bd5bea"><div class="ttname"><a href="_displacement_params_8m.html#abae9a3ce1348fc8b6ab1330584bd5bea">in</a></div><div class="ttdeci">difference in</div><div class="ttdef"><b>Definition:</b> <a href="_displacement_params_8m_source.html#l00068">DisplacementParams.m:68</a></div></div>
<div class="ttc" id="draw_xtal_8m_html_a097da1a4e072a25b17f4eb06d5c4ab1d"><div class="ttname"><a href="draw_xtal_8m.html#a097da1a4e072a25b17f4eb06d5c4ab1d">switch</a></div><div class="ttdeci">else switch(coords(j, 1)) case 13</div></div>
<div class="ttc" id="qmb_8m_html_a7f911dc1dbbc41c6cae56357e8fb2230"><div class="ttname"><a href="qmb_8m.html#a7f911dc1dbbc41c6cae56357e8fb2230">y1</a></div><div class="ttdeci">y1</div><div class="ttdef"><b>Definition:</b> <a href="qmb_8m_source.html#l00704">qmb.m:704</a></div></div>
<div class="ttc" id="qmb_8m_html_aa850ae5126b39a75859039aa84c3a577"><div class="ttname"><a href="qmb_8m.html#aa850ae5126b39a75859039aa84c3a577">p1</a></div><div class="ttdeci">p1</div><div class="ttdef"><b>Definition:</b> <a href="qmb_8m_source.html#l00694">qmb.m:694</a></div></div>
<div class="ttc" id="image_sim_8m_html_a6e1ec50d40620688cd6376e335851fa5"><div class="ttname"><a href="image_sim_8m.html#a6e1ec50d40620688cd6376e335851fa5">Cs</a></div><div class="ttdeci">handles Cs</div><div class="ttdef"><b>Definition:</b> <a href="image_sim_8m_source.html#l00422">imageSim.m:422</a></div></div>
<div class="ttc" id="namespacepython_1_1potential_html_a45ef3ba885a8655a58532ce88f7a85b0"><div class="ttname"><a href="namespacepython_1_1potential.html#a45ef3ba885a8655a58532ce88f7a85b0">python.potential.nx</a></div><div class="ttdeci">int nx</div><div class="ttdef"><b>Definition:</b> <a href="potential_8py_source.html#l00040">potential.py:40</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_ac51b57a703ba1c5869228690c93e1701"><div class="ttname"><a href="convert2cfg_8m.html#ac51b57a703ba1c5869228690c93e1701">X</a></div><div class="ttdeci">X</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00255">convert2cfg.m:255</a></div></div>
<div class="ttc" id="image_sim_8m_html_acf66413b59082c95cc095f3e1373f608"><div class="ttname"><a href="image_sim_8m.html#acf66413b59082c95cc095f3e1373f608">uigetfile</a></div><div class="ttdeci">'*.img', 'Select set of wave functions','MultiSelect','on' uigetfile()</div></div>
<div class="ttc" id="draw_xtal_8m_html_a2b41f8c3196a93b87c47b08c3614b5dc"><div class="ttname"><a href="draw_xtal_8m.html#a2b41f8c3196a93b87c47b08c3614b5dc">cmap</a></div><div class="ttdeci">cmap</div><div class="ttdef"><b>Definition:</b> <a href="draw_xtal_8m_source.html#l00033">drawXtal.m:33</a></div></div>
<div class="ttc" id="aberrations_8m_html_af6b128bfb9b22174e084962314cd68c2"><div class="ttname"><a href="aberrations_8m.html#af6b128bfb9b22174e084962314cd68c2">C3</a></div><div class="ttdeci">C3</div><div class="ttdef"><b>Definition:</b> <a href="aberrations_8m_source.html#l01087">aberrations.m:1087</a></div></div>
<div class="ttc" id="qstem_8m_html_aa75144726b375b93ecfc08810e5b5f09"><div class="ttname"><a href="qstem_8m.html#aa75144726b375b93ecfc08810e5b5f09">args</a></div><div class="ttdeci">see VARARGOUT args()</div></div>
<div class="ttc" id="qstem_8m_html_aa6941f884e278157f98a91b064426421"><div class="ttname"><a href="qstem_8m.html#aa6941f884e278157f98a91b064426421">selected</a></div><div class="ttdeci">end if a valid file has been selected</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00160">qstem.m:160</a></div></div>
<div class="ttc" id="aberrations_8m_html_a9a0c48d58e082211052c49509165f1db"><div class="ttname"><a href="aberrations_8m.html#a9a0c48d58e082211052c49509165f1db">c</a></div><div class="ttdeci">handles c</div><div class="ttdef"><b>Definition:</b> <a href="aberrations_8m_source.html#l00061">aberrations.m:61</a></div></div>
<div class="ttc" id="qstem_8m_html_aec3f4cc4ab5daa6d56adc1cef9bd94fa"><div class="ttname"><a href="qstem_8m.html#aec3f4cc4ab5daa6d56adc1cef9bd94fa">disp</a></div><div class="ttdeci">if disp('User pressed cancel') return</div></div>
<div class="ttc" id="qstem_8m_html_ab4171a1cd001f6152db76555a7e11abf"><div class="ttname"><a href="qstem_8m.html#ab4171a1cd001f6152db76555a7e11abf">oldPath</a></div><div class="ttdeci">end oldPath</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00164">qstem.m:164</a></div></div>
<div class="ttc" id="qstem_8m_html_ac7fc17789f8e6f13fadaf928820310b8"><div class="ttname"><a href="qstem_8m.html#ac7fc17789f8e6f13fadaf928820310b8">RbboxHandle</a></div><div class="ttdeci">initialize handles RbboxHandle</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00075">qstem.m:75</a></div></div>
<div class="ttc" id="qstem_8m_html_aef05d27f63c3f06ffb0342ae902906b1"><div class="ttname"><a href="qstem_8m.html#aef05d27f63c3f06ffb0342ae902906b1">Mm</a></div><div class="ttdeci">handles Mm</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00072">qstem.m:72</a></div></div>
<div class="ttc" id="qstem_8m_html_ae78618edac03dcbe434c7a42daf5bcee"><div class="ttname"><a href="qstem_8m.html#ae78618edac03dcbe434c7a42daf5bcee">fprintf</a></div><div class="ttdeci">end fprintf('Starting configuration:%s\n', inputFile)</div></div>
<div class="ttc" id="convert2cfg_8m_html_a20fc5038c021fd98154bd49a45a0e238"><div class="ttname"><a href="convert2cfg_8m.html#a20fc5038c021fd98154bd49a45a0e238">max</a></div><div class="ttdeci">if max(pos)&lt; 1 natom</div></div>
<div class="ttc" id="image_sim_8m_html_aaa93f32e31a2b6945d6aa1acbf541f0e"><div class="ttname"><a href="image_sim_8m.html#aaa93f32e31a2b6945d6aa1acbf541f0e">uigetdir</a></div><div class="ttdeci">'', 'Select the target folder' uigetdir()</div></div>
<div class="ttc" id="qmb_8m_html_a516de6ea08285d21453660e255a49e88"><div class="ttname"><a href="qmb_8m.html#a516de6ea08285d21453660e255a49e88">while</a></div><div class="ttdeci">while(button==1)[x</div></div>
<div class="ttc" id="qmb_8m_html_a3f5148a2cb27e0bbf68da5bed91b82e0"><div class="ttname"><a href="qmb_8m.html#a3f5148a2cb27e0bbf68da5bed91b82e0">fileparts</a></div><div class="ttdeci">handles.posFileName fileparts()</div></div>
<div class="ttc" id="convert2cfg_8m_html_aebd1d90aba8ea0e93ba32de5293b3cf5"><div class="ttname"><a href="convert2cfg_8m.html#aebd1d90aba8ea0e93ba32de5293b3cf5">coords</a></div><div class="ttdeci">end coords</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00081">convert2cfg.m:81</a></div></div>
<div class="ttc" id="qstem_8m_html_a7506770ddc5001ea5b440dff1bafbac3"><div class="ttname"><a href="qstem_8m.html#a7506770ddc5001ea5b440dff1bafbac3">gui_State</a></div><div class="ttdeci">function by creates a new QSTEM or raises the existing singleton property value pairs are applied to the GUI before qstem_OpeningFunction gets called An unrecognized property name or invalid value makes property application stop All inputs are passed to qstem_OpeningFcn via varargin *See GUI Options on GUIDE s Tools menu Choose GUI allows only one instance to run(singleton)&quot;. % % See also gui_State</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00031">qstem.m:31</a></div></div>
<div class="ttc" id="qstem_8m_html_a9b07119da70fc4a54e0d1cb5751d69aa"><div class="ttname"><a href="qstem_8m.html#a9b07119da70fc4a54e0d1cb5751d69aa">nargout</a></div><div class="ttdeci">end if nargout[varargout{1:nargout}]</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00042">qstem.m:42</a></div></div>
<div class="ttc" id="qmb_8m_html_a02eacfd40be9042ceb0f07547365203d"><div class="ttname"><a href="qmb_8m.html#a02eacfd40be9042ceb0f07547365203d">options</a></div><div class="ttdeci">options</div><div class="ttdef"><b>Definition:</b> <a href="qmb_8m_source.html#l00385">qmb.m:385</a></div></div>
<div class="ttc" id="_display_model_properties_8m_html_a9f9b7255ba6680c145f9c08ebf2bc024"><div class="ttname"><a href="_display_model_properties_8m.html#a9f9b7255ba6680c145f9c08ebf2bc024">charge</a></div><div class="ttdeci">charge</div><div class="ttdef"><b>Definition:</b> <a href="_display_model_properties_8m_source.html#l00288">DisplayModelProperties.m:288</a></div></div>
<div class="ttc" id="aberrations_8m_html_a263cd82e310ef9ffd009f8f833a95233"><div class="ttname"><a href="aberrations_8m.html#a263cd82e310ef9ffd009f8f833a95233">Nx</a></div><div class="ttdeci">end Nx</div><div class="ttdef"><b>Definition:</b> <a href="aberrations_8m_source.html#l01317">aberrations.m:1317</a></div></div>
<div class="ttc" id="_read_d_m3___matlab_8m_html_afde8e18a788ccc92fc61cab298bca7e3"><div class="ttname"><a href="_read_d_m3___matlab_8m.html#afde8e18a788ccc92fc61cab298bca7e3">level</a></div><div class="ttdeci">level</div><div class="ttdef"><b>Definition:</b> <a href="_read_d_m3___matlab_8m_source.html#l00046">ReadDM3_Matlab.m:46</a></div></div>
<div class="ttc" id="qmb_8m_html_a13f76be53ff17401f7d3d4ed11b8ea45"><div class="ttname"><a href="qmb_8m.html#a13f76be53ff17401f7d3d4ed11b8ea45">BoxX</a></div><div class="ttdeci">handles BoxX</div><div class="ttdef"><b>Definition:</b> <a href="qmb_8m_source.html#l00066">qmb.m:66</a></div></div>
<div class="ttc" id="_display_model_properties_8m_html_a938f8aa70d7f49a21679ad582b6d4ffb"><div class="ttname"><a href="_display_model_properties_8m.html#a938f8aa70d7f49a21679ad582b6d4ffb">thickness</a></div><div class="ttdeci">handles thickness</div><div class="ttdef"><b>Definition:</b> <a href="_display_model_properties_8m_source.html#l00277">DisplayModelProperties.m:277</a></div></div>
<div class="ttc" id="stemtypes__fftw3_8hpp_html_a5abef251d47456e7981e8f1ae7ba2a9a"><div class="ttname"><a href="stemtypes__fftw3_8hpp.html#a5abef251d47456e7981e8f1ae7ba2a9a">TEM</a></div><div class="ttdeci">#define TEM</div><div class="ttdef"><b>Definition:</b> <a href="stemtypes__fftw3_8hpp_source.html#l00043">stemtypes_fftw3.hpp:43</a></div></div>
<div class="ttc" id="binwrite2_d_8m_html_ac6bb4b856c3d13f19466d849c6ae0138"><div class="ttname"><a href="binwrite2_d_8m.html#ac6bb4b856c3d13f19466d849c6ae0138">dy</a></div><div class="ttdeci">function dy</div><div class="ttdef"><b>Definition:</b> <a href="binwrite2_d_8m_source.html#l00005">binwrite2D.m:5</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_ae76081fb2cef09480162f3c1b69dfbb2"><div class="ttname"><a href="convert2cfg_8m.html#ae76081fb2cef09480162f3c1b69dfbb2">Y</a></div><div class="ttdeci">end end function Y</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00184">convert2cfg.m:184</a></div></div>
<div class="ttc" id="image_sim_8m_html_a8c4d9ee8d4f82d724070b97e70b9c4e5"><div class="ttname"><a href="image_sim_8m.html#a8c4d9ee8d4f82d724070b97e70b9c4e5">answer</a></div><div class="ttdeci">answer</div><div class="ttdef"><b>Definition:</b> <a href="image_sim_8m_source.html#l01118">imageSim.m:1118</a></div></div>
<div class="ttc" id="qstem_8m_html_a1a3091fb7347c8f640f7b03687dadd44"><div class="ttname"><a href="qstem_8m.html#a1a3091fb7347c8f640f7b03687dadd44">filename</a></div><div class="ttdeci">filename</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00148">qstem.m:148</a></div></div>
<div class="ttc" id="qstem_8m_html_a23c769480a12d8abe44e71c8fac1dcda"><div class="ttname"><a href="qstem_8m.html#a23c769480a12d8abe44e71c8fac1dcda">Detectors</a></div><div class="ttdeci">handles Detectors</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00073">qstem.m:73</a></div></div>
<div class="ttc" id="aberrations_8m_html_a04774dc404c779e7ec799dca1b80083f"><div class="ttname"><a href="aberrations_8m.html#a04774dc404c779e7ec799dca1b80083f">else</a></div><div class="ttdeci">Insert custom Title and Text if specified by the user be sure they are not easily confused with existing figure properties See the output of else</div><div class="ttdef"><b>Definition:</b> <a href="aberrations_8m_source.html#l00085">aberrations.m:85</a></div></div>
<div class="ttc" id="_display_model_properties_8m_html_ad4a8ac3c7026e0e2e13426103c839cb7"><div class="ttname"><a href="_display_model_properties_8m.html#ad4a8ac3c7026e0e2e13426103c839cb7">aType</a></div><div class="ttdeci">aType</div><div class="ttdef"><b>Definition:</b> <a href="_display_model_properties_8m_source.html#l00285">DisplayModelProperties.m:285</a></div></div>
<div class="ttc" id="qmb_8m_html_ae6cb129b34f11151ba01773c9e9ee4b0"><div class="ttname"><a href="qmb_8m.html#ae6cb129b34f11151ba01773c9e9ee4b0">edit_TiltZ_Callback</a></div><div class="ttdeci">end function edit_TiltZ_Callback(hObject, eventdata, handles)[handles</div></div>
<div class="ttc" id="qstem_8m_html_aeee9d3c55cddc06149a5f9799cd5232d"><div class="ttname"><a href="qstem_8m.html#aeee9d3c55cddc06149a5f9799cd5232d">value</a></div><div class="ttdeci">value</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00187">qstem.m:187</a></div></div>
<div class="ttc" id="qmb_8m_html_a14139799dd4b2fc41ecb6cb14936322f"><div class="ttname"><a href="qmb_8m.html#a14139799dd4b2fc41ecb6cb14936322f">button</a></div><div class="ttdeci">button</div><div class="ttdef"><b>Definition:</b> <a href="qmb_8m_source.html#l01063">qmb.m:1063</a></div></div>
<div class="ttc" id="qstem_8m_html_a2f8cce2b1dd242f340f7458147e5b402"><div class="ttname"><a href="qstem_8m.html#a2f8cce2b1dd242f340f7458147e5b402">askUser</a></div><div class="ttdeci">nargin&lt; 4 askUser()</div></div>
<div class="ttc" id="aberrations_8m_html_a0888783ccb240d8899f77cdcd85aa4b9"><div class="ttname"><a href="aberrations_8m.html#a0888783ccb240d8899f77cdcd85aa4b9">y</a></div><div class="ttdeci">y</div><div class="ttdef"><b>Definition:</b> <a href="aberrations_8m_source.html#l01233">aberrations.m:1233</a></div></div>
<div class="ttc" id="draw_xtal_8m_html_abc26c33960c3103b4dade478795ea82b"><div class="ttname"><a href="draw_xtal_8m.html#abc26c33960c3103b4dade478795ea82b">h</a></div><div class="ttdeci">base radius of spheres h</div><div class="ttdef"><b>Definition:</b> <a href="draw_xtal_8m_source.html#l00012">drawXtal.m:12</a></div></div>
<div class="ttc" id="qstem_8m_html_acccc912fa0b7ba0b666fb82aebe54fbf"><div class="ttname"><a href="qstem_8m.html#acccc912fa0b7ba0b666fb82aebe54fbf">binPath</a></div><div class="ttdeci">handles binPath</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00065">qstem.m:65</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_ab74e6bf80237ddc4109968cedc58c151"><div class="ttname"><a href="convert2cfg_8m.html#ab74e6bf80237ddc4109968cedc58c151">name</a></div><div class="ttdeci">name</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00069">convert2cfg.m:69</a></div></div>
<div class="ttc" id="qstem_8m_html_aa064a786a62e1b3fb2238737759d64a1"><div class="ttname"><a href="qstem_8m.html#aa064a786a62e1b3fb2238737759d64a1">commentStyle</a></div><div class="ttdeci">return end s commentStyle</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00178">qstem.m:178</a></div></div>
<div class="ttc" id="rotate_zone_axis_8m_html_a68f78b58110e3cb5e477322ce0248870"><div class="ttname"><a href="rotate_zone_axis_8m.html#a68f78b58110e3cb5e477322ce0248870">Mrot</a></div><div class="ttdeci">File generate rotation Mrot</div><div class="ttdef"><b>Definition:</b> <a href="rotate_zone_axis_8m_source.html#l00002">rotateZoneAxis.m:2</a></div></div>
<div class="ttc" id="scale_s_t_e_m_image_8m_html_abf18f61c6ed50da6937e412ea82c74aa"><div class="ttname"><a href="scale_s_t_e_m_image_8m.html#abf18f61c6ed50da6937e412ea82c74aa">edit_alpha_Callback</a></div><div class="ttdeci">end function edit_alpha_Callback(hObject, eventdata, handles) handles</div></div>
<div class="ttc" id="qmb_8m_html_aec6c8f052b22d3766d849e2feba40010"><div class="ttname"><a href="qmb_8m.html#aec6c8f052b22d3766d849e2feba40010">BoxY</a></div><div class="ttdeci">handles BoxY</div><div class="ttdef"><b>Definition:</b> <a href="qmb_8m_source.html#l00067">qmb.m:67</a></div></div>
<div class="ttc" id="aberrations_8m_html_aab5ae0ded50c2afc26c3d277094ad1ca"><div class="ttname"><a href="aberrations_8m.html#aab5ae0ded50c2afc26c3d277094ad1ca">axes</a></div><div class="ttdeci">handles.axes_Probe axes()</div></div>
<div class="ttc" id="draw_xtal_8m_html_a21256831ba759257db42df917f908387"><div class="ttname"><a href="draw_xtal_8m.html#a21256831ba759257db42df917f908387">Zmin</a></div><div class="ttdeci">Zmin</div><div class="ttdef"><b>Definition:</b> <a href="draw_xtal_8m_source.html#l00034">drawXtal.m:34</a></div></div>
<div class="ttc" id="read_c_f_g__qstem_8m_html_a85162b5d5e6736f5aa8616580d4e8a75"><div class="ttname"><a href="read_c_f_g__qstem_8m.html#a85162b5d5e6736f5aa8616580d4e8a75">sum</a></div><div class="ttdeci">end if nargin&lt; 3 mode=1;endcoords=[];aType=[];DW=[];occ=[];charge=[];Mm=eye(3);if(1) clear readCFG_mex[pathname, filen, ext]=fileparts(fileName);filename2=[filen, ext];oldPath=pwd();cd(pathname);[a, Mm]=readCFG_mex(filename2);if sum(sum(isnan(a))) &gt; sum(sum(isnan(Mm))) &gt; 0 clear readCFG_mex fprintf('reading file a second time!\n')</div></div>
<div class="ttc" id="qmb_8m_html_a4dd6f73f98b7876577fd0d041b94d968"><div class="ttname"><a href="qmb_8m.html#a4dd6f73f98b7876577fd0d041b94d968">offset</a></div><div class="ttdeci">calculate locations offset</div><div class="ttdef"><b>Definition:</b> <a href="qmb_8m_source.html#l00695">qmb.m:695</a></div></div>
<div class="ttc" id="qstem_8m_html_a09bb454984385122db7f31c4d15310a9"><div class="ttname"><a href="qstem_8m.html#a09bb454984385122db7f31c4d15310a9">atomSize</a></div><div class="ttdeci">handles atomSize</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00087">qstem.m:87</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_a923d61728dac7c6dff07427a901c9ba9"><div class="ttname"><a href="convert2cfg_8m.html#a923d61728dac7c6dff07427a901c9ba9">positions</a></div><div class="ttdeci">Now look for the atomic positions</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00135">convert2cfg.m:135</a></div></div>
<div class="ttc" id="fileio__fftw3_8cpp_html_a955f504eccf76b4eb2489c0adab03121"><div class="ttname"><a href="fileio__fftw3_8cpp.html#a955f504eccf76b4eb2489c0adab03121">A</a></div><div class="ttdeci">#define A</div><div class="ttdef"><b>Definition:</b> <a href="fileio__fftw3_8cpp_source.html#l00222">fileio_fftw3.cpp:222</a></div></div>
<div class="ttc" id="aberrations_8m_html_a57845f93c6d3079cc203a7f78506f171"><div class="ttname"><a href="aberrations_8m.html#a57845f93c6d3079cc203a7f78506f171">String</a></div><div class="ttdeci">String</div><div class="ttdef"><b>Definition:</b> <a href="aberrations_8m_source.html#l00065">aberrations.m:65</a></div></div>
<div class="ttc" id="qstem_8m_html_aae1d1bec0e9c36c2fddc5cd87d8c4eee"><div class="ttname"><a href="qstem_8m.html#aae1d1bec0e9c36c2fddc5cd87d8c4eee">ischar</a></div><div class="ttdeci">if nargin &amp;&amp; ischar(varargin{1}) gui_State.gui_Callback</div></div>
<div class="ttc" id="aberrations___t_e_m_8m_html_aef29541a06b7f933d32a804307db13af"><div class="ttname"><a href="aberrations___t_e_m_8m.html#aef29541a06b7f933d32a804307db13af">s</a></div><div class="ttdeci">v &gt; 0 s()</div></div>
<div class="ttc" id="convert2cfg_8m_html_a75180f3a56b12e0ea7561b96f5583f33"><div class="ttname"><a href="convert2cfg_8m.html#a75180f3a56b12e0ea7561b96f5583f33">defaultanswer</a></div><div class="ttdeci">defaultanswer</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00071">convert2cfg.m:71</a></div></div>
<div class="ttc" id="_read_d_m3___matlab_8m_html_a0c4d90ce5be06bcdf88924556698492c"><div class="ttname"><a href="_read_d_m3___matlab_8m.html#a0c4d90ce5be06bcdf88924556698492c">down</a></div><div class="ttdeci">end This is the function that slows everything down</div><div class="ttdef"><b>Definition:</b> <a href="_read_d_m3___matlab_8m_source.html#l00162">ReadDM3_Matlab.m:162</a></div></div>
<div class="ttc" id="aberrations_8m_html_a9d64efc26f20183fa57b389757578c0c"><div class="ttname"><a href="aberrations_8m.html#a9d64efc26f20183fa57b389757578c0c">sprintf</a></div><div class="ttdeci">sprintf('%.3f', 1e-3 *handles.c(2)))</div></div>
<div class="ttc" id="qstem_8m_html_ae4589a396f9cbc019e49f9ff62548fcf"><div class="ttname"><a href="qstem_8m.html#ae4589a396f9cbc019e49f9ff62548fcf">Nparams</a></div><div class="ttdeci">Nparams</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00182">qstem.m:182</a></div></div>
<div class="ttc" id="_read_d_m3___matlab_8m_html_aa8ef7bba54ee37a8beab56f5091c552f"><div class="ttname"><a href="_read_d_m3___matlab_8m.html#aa8ef7bba54ee37a8beab56f5091c552f">open</a></div><div class="ttdeci">open</div><div class="ttdef"><b>Definition:</b> <a href="_read_d_m3___matlab_8m_source.html#l00115">ReadDM3_Matlab.m:115</a></div></div>
<div class="ttc" id="image_sim_8m_html_acc4c9367cff2473d08ec9910547865f6"><div class="ttname"><a href="image_sim_8m.html#acc4c9367cff2473d08ec9910547865f6">white</a></div><div class="ttdeci">end function after setting all properties function white</div><div class="ttdef"><b>Definition:</b> <a href="image_sim_8m_source.html#l00908">imageSim.m:908</a></div></div>
<div class="ttc" id="qmb_8m_html_acb0bf34e5a38d0484b1e3e24b8106f52"><div class="ttname"><a href="qmb_8m.html#acb0bf34e5a38d0484b1e3e24b8106f52">strcmp</a></div><div class="ttdeci">if strcmp(ext,'.img')[img</div></div>
<div class="ttc" id="qmb_8m_html_aa32473e7c2134539f1ba31d78099a876"><div class="ttname"><a href="qmb_8m.html#aa32473e7c2134539f1ba31d78099a876">find</a></div><div class="ttdeci">find((handles.atomPos(:, 1) &gt; x1)&amp;(handles.atomPos(:, 1)&lt; x2)&amp;(handles.atomPos(:, 2) &gt; y1)&amp;(handles.atomPos(:, 2)&lt; y2)&amp;(handles.atomPos(:, 4)==Zsel))]</div></div>
<div class="ttc" id="qmb_8m_html_aeff2fa1f16e2fe4a15b7990ab368b000"><div class="ttname"><a href="qmb_8m.html#aeff2fa1f16e2fe4a15b7990ab368b000">edit_TiltY_Callback</a></div><div class="ttdeci">end function edit_TiltY_Callback(hObject, eventdata, handles)[handles</div></div>
<div class="ttc" id="_display_model_properties_8m_html_a76b405b72b88bde9488209ac06ddb714"><div class="ttname"><a href="_display_model_properties_8m.html#a76b405b72b88bde9488209ac06ddb714">ix</a></div><div class="ttdeci">if ix ix</div><div class="ttdef"><b>Definition:</b> <a href="_display_model_properties_8m_source.html#l00316">DisplayModelProperties.m:316</a></div></div>
<div class="ttc" id="_displacement_params_8m_html_a6e69a2e6c16546a1aba75e0422487e55"><div class="ttname"><a href="_displacement_params_8m.html#a6e69a2e6c16546a1aba75e0422487e55">hObject</a></div><div class="ttdeci">see VARARGIN hObject()</div></div>
<div class="ttc" id="aberrations_8m_html_aa14d72173e9599e9e2ea02e5eefb9422"><div class="ttname"><a href="aberrations_8m.html#aa14d72173e9599e9e2ea02e5eefb9422">HighVoltage</a></div><div class="ttdeci">Cs in A HighVoltage</div><div class="ttdef"><b>Definition:</b> <a href="aberrations_8m_source.html#l01088">aberrations.m:1088</a></div></div>
<div class="ttc" id="_display_model_properties_8m_html_af4c5cec9fce175f73b7da5ecd33c2af6"><div class="ttname"><a href="_display_model_properties_8m.html#af4c5cec9fce175f73b7da5ecd33c2af6">iy</a></div><div class="ttdeci">iy</div><div class="ttdef"><b>Definition:</b> <a href="_display_model_properties_8m_source.html#l00315">DisplayModelProperties.m:315</a></div></div>
<div class="ttc" id="aberrations_8m_html_a5eb8d5664fde7892dc80f5dbe5218568"><div class="ttname"><a href="aberrations_8m.html#a5eb8d5664fde7892dc80f5dbe5218568">xlim</a></div><div class="ttdeci">xlim(0.5 *x)</div></div>
<div class="ttc" id="convert2cfg_8m_html_abf75d0e474a103d59888210782ff8baf"><div class="ttname"><a href="convert2cfg_8m.html#abf75d0e474a103d59888210782ff8baf">modal</a></div><div class="ttdeci">end modal</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00105">convert2cfg.m:105</a></div></div>
<div class="ttc" id="qstem_8m_html_a987e246df55e19ab5792537d8292cf09"><div class="ttname"><a href="qstem_8m.html#a987e246df55e19ab5792537d8292cf09">if</a></div><div class="ttdeci">if(length(varargin) &gt; 0) inputFile</div></div>
<div class="ttc" id="qstem_8m_html_aad9214e0b85e8827c27e156ed68b23cd"><div class="ttname"><a href="qstem_8m.html#aad9214e0b85e8827c27e156ed68b23cd">nameLen</a></div><div class="ttdeci">nameLen</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00183">qstem.m:183</a></div></div>
<div class="ttc" id="_display_model_properties_8m_html_addd102b0e03af2114c4c0c229debaf4d"><div class="ttname"><a href="_display_model_properties_8m.html#addd102b0e03af2114c4c0c229debaf4d">posFileName</a></div><div class="ttdeci">handles posFileName</div><div class="ttdef"><b>Definition:</b> <a href="_display_model_properties_8m_source.html#l00068">DisplayModelProperties.m:68</a></div></div>
<div class="ttc" id="aberrations_8m_html_a84c455b54a16f1c540f6abcc5b858393"><div class="ttname"><a href="aberrations_8m.html#a84c455b54a16f1c540f6abcc5b858393">x</a></div><div class="ttdeci">x</div><div class="ttdef"><b>Definition:</b> <a href="aberrations_8m_source.html#l01231">aberrations.m:1231</a></div></div>
<div class="ttc" id="_display_model_properties_8m_html_a14685678a932a690bb677ca0be6b191a"><div class="ttname"><a href="_display_model_properties_8m.html#a14685678a932a690bb677ca0be6b191a">occ</a></div><div class="ttdeci">occ</div><div class="ttdef"><b>Definition:</b> <a href="_display_model_properties_8m_source.html#l00287">DisplayModelProperties.m:287</a></div></div>
<div class="ttc" id="write_fields2_file_8m_html_a79499b523dd8dff45cb559e070ca9b60"><div class="ttname"><a href="write_fields2_file_8m.html#a79499b523dd8dff45cb559e070ca9b60">writeFields2File</a></div><div class="ttdeci">function writeFields2File(fileName, handles) fid</div></div>
<div class="ttc" id="_display_model_properties_8m_html_ae26b38067a9792326b19b3e2e057feb1"><div class="ttname"><a href="_display_model_properties_8m.html#ae26b38067a9792326b19b3e2e057feb1">pushbutton_UpdateView_Callback</a></div><div class="ttdeci">pushbutton_UpdateView_Callback(hObject, eventdata, handles)%UIWAIT makes DisplayModelProperties wait for user response(see UIRESUME)%uiwait(handles.figure1)</div></div>
<div class="ttc" id="scale_s_t_e_m_image_8m_html_adb3ea45f3c25305cde9814e3c3c0471a"><div class="ttname"><a href="scale_s_t_e_m_image_8m.html#adb3ea45f3c25305cde9814e3c3c0471a">edit_Brightness_Callback</a></div><div class="ttdeci">end function edit_Brightness_Callback(hObject, eventdata, handles) handles</div></div>
<div class="ttc" id="qstem_8m_html_a9d144cda3d92caf15dfa24a69905c654"><div class="ttname"><a href="qstem_8m.html#a9d144cda3d92caf15dfa24a69905c654">cd</a></div><div class="ttdeci">cd(filepath)</div></div>
<div class="ttc" id="draw_xtal_8m_html_afb1bbfb9a3c5e18cdcdb7bb98b462196"><div class="ttname"><a href="draw_xtal_8m.html#afb1bbfb9a3c5e18cdcdb7bb98b462196">drawXtal</a></div><div class="ttdeci">function drawXtal(coords, Mm, offset) format compact if nargin&lt; 3 offset</div></div>
<div class="ttc" id="qstem_8m_html_a1ab62094b1937a1c624680797bf49504"><div class="ttname"><a href="qstem_8m.html#a1ab62094b1937a1c624680797bf49504">guidata</a></div><div class="ttdeci">end end Update handles structure guidata(hObject, handles)</div></div>
<div class="ttc" id="image_sim_8m_html_a095451ad095fab975004df8fa1925cb8"><div class="ttname"><a href="image_sim_8m.html#a095451ad095fab975004df8fa1925cb8">Defocus</a></div><div class="ttdeci">handles Defocus</div><div class="ttdef"><b>Definition:</b> <a href="image_sim_8m_source.html#l00423">imageSim.m:423</a></div></div>
<div class="ttc" id="qstem_8m_html_aabea1a308e18fee00cc3a9031f079ba6"><div class="ttname"><a href="qstem_8m.html#aabea1a308e18fee00cc3a9031f079ba6">mode</a></div><div class="ttdeci">handles mode</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00059">qstem.m:59</a></div></div>
<div class="ttc" id="qstem_8m_html_ac86694252f8dfdb19aaeadc4b7c342c6"><div class="ttname"><a href="qstem_8m.html#ac86694252f8dfdb19aaeadc4b7c342c6">j</a></div><div class="ttdeci">for j</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00185">qstem.m:185</a></div></div>
<div class="ttc" id="_display_model_properties_8m_html_a1a71f5e406b211ed616173276484b78b"><div class="ttname"><a href="_display_model_properties_8m.html#a1a71f5e406b211ed616173276484b78b">tight</a></div><div class="ttdeci">axis tight</div><div class="ttdef"><b>Definition:</b> <a href="_display_model_properties_8m_source.html#l00310">DisplayModelProperties.m:310</a></div></div>
<div class="ttc" id="virtual_goniometer_8m_html_a658ea266fd3baee1bdd483b9117e9f54"><div class="ttname"><a href="virtual_goniometer_8m.html#a658ea266fd3baee1bdd483b9117e9f54">zeros</a></div><div class="ttdeci">3 zeros()</div></div>
<div class="ttc" id="convert2cfg_8m_html_a851a9364db662e9fa5eb14ca6e8a4b5a"><div class="ttname"><a href="convert2cfg_8m.html#a851a9364db662e9fa5eb14ca6e8a4b5a">case</a></div><div class="ttdeci">end end function if no dimension array is supplied Note that this function has only been tested on mixed cell arrays containing character strings and numeric values Documentation DFO Canada Creation Last Check to see if no input arguments were supplied If this is the case</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00184">convert2cfg.m:184</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_add57aad399f787c409167e1b6d30ea8a"><div class="ttname"><a href="convert2cfg_8m.html#add57aad399f787c409167e1b6d30ea8a">~isempty</a></div><div class="ttdeci">if ~isempty(sv)</div></div>
<div class="ttc" id="aberrations_8m_html_a28e9293ee026e172309e68c6c4671a07"><div class="ttname"><a href="aberrations_8m.html#a28e9293ee026e172309e68c6c4671a07">get</a></div><div class="ttdeci">else adjust scale of angles if get(handles.radiobutton_deg,'Value') phi</div></div>
<div class="ttc" id="qmb_8m_html_a0afda3603b043ac6b7362fdee225631e"><div class="ttname"><a href="qmb_8m.html#a0afda3603b043ac6b7362fdee225631e">file</a></div><div class="ttdeci">end if disp('User pressed cancel') return end end%get the current grain index read the file[coords, aType, Mm, DW, occ, charge]</div><div class="ttdef"><b>Definition:</b> <a href="qmb_8m_source.html#l01122">qmb.m:1122</a></div></div>
<div class="ttc" id="qstem_8m_html_a5a7a04041b8d36231b865f8c9b07cd40"><div class="ttname"><a href="qstem_8m.html#a5a7a04041b8d36231b865f8c9b07cd40">saveLevel</a></div><div class="ttdeci">handles saveLevel</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00076">qstem.m:76</a></div></div>
<div class="ttc" id="_display_model_properties_8m_html_ace6453c265aedf6f6d285350c6f6a7ec"><div class="ttname"><a href="_display_model_properties_8m.html#ace6453c265aedf6f6d285350c6f6a7ec">pause</a></div><div class="ttdeci">pause(0.5)</div></div>
<div class="ttc" id="image_sim_8m_html_a64b52c93bb6e3c8debb644b626e7efab"><div class="ttname"><a href="image_sim_8m.html#a64b52c93bb6e3c8debb644b626e7efab">fields</a></div><div class="ttdeci">Edit fields</div><div class="ttdef"><b>Definition:</b> <a href="image_sim_8m_source.html#l00588">imageSim.m:588</a></div></div>
<div class="ttc" id="image_sim_8m_html_a9453345457e3f32823308485e91ea707"><div class="ttname"><a href="image_sim_8m.html#a9453345457e3f32823308485e91ea707">TiltX</a></div><div class="ttdeci">illumination convergence angle handles TiltX</div><div class="ttdef"><b>Definition:</b> <a href="image_sim_8m_source.html#l00427">imageSim.m:427</a></div></div>
<div class="ttc" id="image_sim_8m_html_a8fa675eb2fcec5b95d9d21c670da7f30"><div class="ttname"><a href="image_sim_8m.html#a8fa675eb2fcec5b95d9d21c670da7f30">ax</a></div><div class="ttdeci">ax</div><div class="ttdef"><b>Definition:</b> <a href="image_sim_8m_source.html#l01289">imageSim.m:1289</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_ab97515cda1e3e845e080f5f32a67fd09"><div class="ttname"><a href="convert2cfg_8m.html#ab97515cda1e3e845e080f5f32a67fd09">Output</a></div><div class="ttdeci">end end function if no dimension array is supplied Output</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00184">convert2cfg.m:184</a></div></div>
<div class="ttc" id="qstem_8m_html_acc89f64219ddae53243030f2c645fc06"><div class="ttname"><a href="qstem_8m.html#acc89f64219ddae53243030f2c645fc06">varargout</a></div><div class="ttdeci">function varargout</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00001">qstem.m:1</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_ad84e19307a43d3f799a4daeef0a6484a"><div class="ttname"><a href="convert2cfg_8m.html#ad84e19307a43d3f799a4daeef0a6484a">prompt</a></div><div class="ttdeci">prompt</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00068">convert2cfg.m:68</a></div></div>
<div class="ttc" id="image_sim_8m_html_a454532bd4d96c4531eb16b4052fefbe4"><div class="ttname"><a href="image_sim_8m.html#a454532bd4d96c4531eb16b4052fefbe4">on</a></div><div class="ttdeci">Read if the corresponding checkbox is on</div><div class="ttdef"><b>Definition:</b> <a href="image_sim_8m_source.html#l00477">imageSim.m:477</a></div></div>
<div class="ttc" id="qmb_8m_html_ab68aa604d0cbafb60d37e13d919f3cbb"><div class="ttname"><a href="qmb_8m.html#ab68aa604d0cbafb60d37e13d919f3cbb">str2double</a></div><div class="ttdeci">get(handles.edit_ImageDx,'String' str2double()</div></div>
<div class="ttc" id="aberrations_8m_html_a1d335e5bcdf56df6b3b7e32f4bc4b9ec"><div class="ttname"><a href="aberrations_8m.html#a1d335e5bcdf56df6b3b7e32f4bc4b9ec">ylim</a></div><div class="ttdeci">ylim(0.5 *y)</div></div>
<div class="ttc" id="qmb_8m_html_ac74032f311f4adda9c041808ad50b4c7"><div class="ttname"><a href="qmb_8m.html#ac74032f311f4adda9c041808ad50b4c7">coordsNext</a></div><div class="ttdeci">coordsNext</div><div class="ttdef"><b>Definition:</b> <a href="qmb_8m_source.html#l00329">qmb.m:329</a></div></div>
<div class="ttc" id="qmb_8m_html_aeb60f7db5c35b7db0cca2af3912d2c80"><div class="ttname"><a href="qmb_8m.html#aeb60f7db5c35b7db0cca2af3912d2c80">point2</a></div><div class="ttdeci">return figure units point2</div><div class="ttdef"><b>Definition:</b> <a href="qmb_8m_source.html#l00691">qmb.m:691</a></div></div>
<div class="ttc" id="aberrations_8m_html_a41299fb47ae95ac70ff2a59757b16f13"><div class="ttname"><a href="aberrations_8m.html#a41299fb47ae95ac70ff2a59757b16f13">colormap</a></div><div class="ttdeci">colormap('default')</div></div>
<div class="ttc" id="qstem_8m_html_a94410fa84a6efa7c64c1f760371d51d1"><div class="ttname"><a href="qstem_8m.html#a94410fa84a6efa7c64c1f760371d51d1">q</a></div><div class="ttdeci">return end s q</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00178">qstem.m:178</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_a62197192f0fbf4e0675eb37be1c4c175"><div class="ttname"><a href="convert2cfg_8m.html#a62197192f0fbf4e0675eb37be1c4c175">alpha</a></div><div class="ttdeci">alpha</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00129">convert2cfg.m:129</a></div></div>
<div class="ttc" id="qstem_8m_html_a24e096d96b8b76611e893ddd6c372ae5"><div class="ttname"><a href="qstem_8m.html#a24e096d96b8b76611e893ddd6c372ae5">printLevel</a></div><div class="ttdeci">handles printLevel</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00077">qstem.m:77</a></div></div>
<div class="ttc" id="_read_d_m3___matlab_8m_html_a788f12e84a4147fbec966d469221fb80"><div class="ttname"><a href="_read_d_m3___matlab_8m.html#a788f12e84a4147fbec966d469221fb80">cell</a></div><div class="ttdeci">1, 10 cell()</div></div>
<div class="ttc" id="draw_xtal_8m_html_a8984593f734b9e7e81fe655c78fa7ea7"><div class="ttname"><a href="draw_xtal_8m.html#a8984593f734b9e7e81fe655c78fa7ea7">Zmax</a></div><div class="ttdeci">Zmax</div><div class="ttdef"><b>Definition:</b> <a href="draw_xtal_8m_source.html#l00035">drawXtal.m:35</a></div></div>
<div class="ttc" id="qstem_8m_html_a9de6303e6ac6d19c016afd7d700038cc"><div class="ttname"><a href="qstem_8m.html#a9de6303e6ac6d19c016afd7d700038cc">pathname</a></div><div class="ttdeci">pathname</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00151">qstem.m:151</a></div></div>
<div class="ttc" id="qmb_8m_html_ada985816ea79ac4451f0f552d48090e5"><div class="ttname"><a href="qmb_8m.html#ada985816ea79ac4451f0f552d48090e5">e3</a></div><div class="ttdeci">hObject, eventdata, handles e3()</div></div>
<div class="ttc" id="qstem_8m_html_a9a300d81a25b0524f2c4b35e8187849b"><div class="ttname"><a href="qstem_8m.html#a9a300d81a25b0524f2c4b35e8187849b">isequal</a></div><div class="ttdeci">if isequal(filename, 0)||isequal(pathname</div></div>
<div class="ttc" id="qstem_8m_html_a5d04349061ee763f85034acb36ce935d"><div class="ttname"><a href="qstem_8m.html#a5d04349061ee763f85034acb36ce935d">fclose</a></div><div class="ttdeci">return end s fclose(fid)</div></div>
<div class="ttc" id="_displacement_params_8m_html_acc620a89e606f875661525fd6365a421"><div class="ttname"><a href="_displacement_params_8m.html#acc620a89e606f875661525fd6365a421">radius</a></div><div class="ttdeci">radius</div><div class="ttdef"><b>Definition:</b> <a href="_displacement_params_8m_source.html#l00165">DisplacementParams.m:165</a></div></div>
<div class="ttc" id="_displacement_params_8m_html_affbd44b02f0a59a4922b0c7d090cadd4"><div class="ttname"><a href="_displacement_params_8m.html#affbd44b02f0a59a4922b0c7d090cadd4">size</a></div><div class="ttdeci">if size(varargin, 2) &gt; 0 if isstruct(varargin</div><div class="ttdef"><b>Definition:</b> <a href="_displacement_params_8m_source.html#l00057">DisplacementParams.m:57</a></div></div>
<div class="ttc" id="qstem_8m_html_a837e322e5bcd0af2fa93e632f61dd918"><div class="ttname"><a href="qstem_8m.html#a837e322e5bcd0af2fa93e632f61dd918">a</a></div><div class="ttdeci">handles a</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00083">qstem.m:83</a></div></div>
<div class="ttc" id="_read_d_m3___matlab_8m_html_a1aabac6d068eef6a7bad3fdf50a05cc8"><div class="ttname"><a href="_read_d_m3___matlab_8m.html#a1aabac6d068eef6a7bad3fdf50a05cc8">d</a></div><div class="ttdeci">d</div><div class="ttdef"><b>Definition:</b> <a href="_read_d_m3___matlab_8m_source.html#l00067">ReadDM3_Matlab.m:67</a></div></div>
<div class="ttc" id="qmb_8m_html_a7c5cd0264da47e230ba8c984690fe16c"><div class="ttname"><a href="qmb_8m.html#a7c5cd0264da47e230ba8c984690fe16c">atoms</a></div><div class="ttdeci">determine selected atoms</div><div class="ttdef"><b>Definition:</b> <a href="qmb_8m_source.html#l00708">qmb.m:708</a></div></div>
<div class="ttc" id="image_sim_8m_html_a2fd56ce4970b3332e6c626b31607b782"><div class="ttname"><a href="image_sim_8m.html#a2fd56ce4970b3332e6c626b31607b782">well</a></div><div class="ttdeci">Apply the damping envelopes as well</div><div class="ttdef"><b>Definition:</b> <a href="image_sim_8m_source.html#l00215">imageSim.m:215</a></div></div>
<div class="ttc" id="qmb_8m_html_a41b94b12b7cb45b3ddee299d4e7b79e8"><div class="ttname"><a href="qmb_8m.html#a41b94b12b7cb45b3ddee299d4e7b79e8">y2</a></div><div class="ttdeci">y2</div><div class="ttdef"><b>Definition:</b> <a href="qmb_8m_source.html#l00705">qmb.m:705</a></div></div>
<div class="ttc" id="qmb_8m_html_af79869f374612ad3c80fb889bca60bb0"><div class="ttname"><a href="qmb_8m.html#af79869f374612ad3c80fb889bca60bb0">x1</a></div><div class="ttdeci">return end x1</div><div class="ttdef"><b>Definition:</b> <a href="qmb_8m_source.html#l00702">qmb.m:702</a></div></div>
<div class="ttc" id="showimage_8m_html_a1278af71b2b0c86e50d9e50f815e6161"><div class="ttname"><a href="showimage_8m.html#a1278af71b2b0c86e50d9e50f815e6161">Enable</a></div><div class="ttdeci">end end decide which part of a complex image to Enable</div><div class="ttdef"><b>Definition:</b> <a href="showimage_8m_source.html#l00276">showimage.m:276</a></div></div>
<div class="ttc" id="qstem_8m_html_ab6c80af39fbd1e06e09585d244dc28ce"><div class="ttname"><a href="qstem_8m.html#ab6c80af39fbd1e06e09585d244dc28ce">saveTotalPotential</a></div><div class="ttdeci">handles saveTotalPotential</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00080">qstem.m:80</a></div></div>
<div class="ttc" id="qstem_8m_html_ad23232aca9449743c8dbb4e79af48bd4"><div class="ttname"><a href="qstem_8m.html#ad23232aca9449743c8dbb4e79af48bd4">isempty</a></div><div class="ttdeci">if isempty(findstr(inputFile,':\')) inputFile</div></div>
<div class="ttc" id="aberrations___t_e_m_8m_html_a5f0afe6204672342221604c5c8eb3887"><div class="ttname"><a href="aberrations___t_e_m_8m.html#a5f0afe6204672342221604c5c8eb3887">eventdata</a></div><div class="ttdeci">end function eventdata</div><div class="ttdef"><b>Definition:</b> <a href="aberrations___t_e_m_8m_source.html#l01444">aberrations_TEM.m:1444</a></div></div>
<div class="ttc" id="_displacement_params_8m_html_accc427d493facd9d795029ff42af0392"><div class="ttname"><a href="_displacement_params_8m.html#accc427d493facd9d795029ff42af0392">Z</a></div><div class="ttdeci">if reference or target Z</div><div class="ttdef"><b>Definition:</b> <a href="_displacement_params_8m_source.html#l00168">DisplacementParams.m:168</a></div></div>
<div class="ttc" id="advanced_settings_8m_html_a05ceb1cc3b74082a4c5ce7f459a483d4"><div class="ttname"><a href="advanced_settings_8m.html#a05ceb1cc3b74082a4c5ce7f459a483d4">floor</a></div><div class="ttdeci">str2num(get(handles.edit_SaveLevel,'String' floor()</div></div>
<div class="ttc" id="_displacement_params_8m_html_a01a4e1016a69f35833aabe42f9174645"><div class="ttname"><a href="_displacement_params_8m.html#a01a4e1016a69f35833aabe42f9174645">ind</a></div><div class="ttdeci">ind</div><div class="ttdef"><b>Definition:</b> <a href="_displacement_params_8m_source.html#l00199">DisplacementParams.m:199</a></div></div>
<div class="ttc" id="scale_s_t_e_m_image_8m_html_af9a0924533de4ba00b17ad3a9faf327c"><div class="ttname"><a href="scale_s_t_e_m_image_8m.html#af9a0924533de4ba00b17ad3a9faf327c">edit_DwellTime_Callback</a></div><div class="ttdeci">end function edit_DwellTime_Callback(hObject, eventdata, handles) handles</div></div>
<div class="ttc" id="qstem_8m_html_af1af0cd7fd83b66990bde283570f23ea"><div class="ttname"><a href="qstem_8m.html#af1af0cd7fd83b66990bde283570f23ea">configPath</a></div><div class="ttdeci">handles configPath</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00090">qstem.m:90</a></div></div>
<div class="ttc" id="_display_model_properties_8m_html_af443bf254531220087dc4c76086f3c60"><div class="ttname"><a href="_display_model_properties_8m.html#af443bf254531220087dc4c76086f3c60">Natom</a></div><div class="ttdeci">Natom</div><div class="ttdef"><b>Definition:</b> <a href="_display_model_properties_8m_source.html#l00290">DisplayModelProperties.m:290</a></div></div>
<div class="ttc" id="qmb_8m_html_a7bebe70772df69e543897acdd0943b35"><div class="ttname"><a href="qmb_8m.html#a7bebe70772df69e543897acdd0943b35">point1</a></div><div class="ttdeci">point1</div><div class="ttdef"><b>Definition:</b> <a href="qmb_8m_source.html#l00689">qmb.m:689</a></div></div>
<div class="ttc" id="draw_xtal_8m_html_a6c61c47a014d6a5cdfaf5f90d77d2954"><div class="ttname"><a href="draw_xtal_8m.html#a6c61c47a014d6a5cdfaf5f90d77d2954">otherwise</a></div><div class="ttdeci">N otherwise</div><div class="ttdef"><b>Definition:</b> <a href="draw_xtal_8m_source.html#l00051">drawXtal.m:51</a></div></div>
<div class="ttc" id="_displacement_params_8m_html_aad05f78187c942f9dd521605fa81f1ba"><div class="ttname"><a href="_displacement_params_8m.html#aad05f78187c942f9dd521605fa81f1ba">M</a></div><div class="ttdeci">M</div><div class="ttdef"><b>Definition:</b> <a href="_displacement_params_8m_source.html#l00263">DisplacementParams.m:263</a></div></div>
<div class="ttc" id="_read_d_m3___matlab_8m_html_aa4f42c0d3275c58153f3d1af1dda3edf"><div class="ttname"><a href="_read_d_m3___matlab_8m.html#aa4f42c0d3275c58153f3d1af1dda3edf">information</a></div><div class="ttdeci">along with its pixel scale information(typically in nm).If a logfile name is specified</div></div>
<div class="ttc" id="read_c_f_g__qstem_8m_html_a0e449fa3bec1a9c581f9174baf647616"><div class="ttname"><a href="read_c_f_g__qstem_8m.html#a0e449fa3bec1a9c581f9174baf647616">prod</a></div><div class="ttdeci">if prod(size(a))</div></div>
<div class="ttc" id="qstem_8m_html_a286321d6d000730b555812c3c9ae8645"><div class="ttname"><a href="qstem_8m.html#a286321d6d000730b555812c3c9ae8645">potProgInterval</a></div><div class="ttdeci">handles potProgInterval</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00082">qstem.m:82</a></div></div>
<div class="ttc" id="stemtypes__fftw3_8hpp_html_ae37055f0823281ce47997ab6602bb607"><div class="ttname"><a href="stemtypes__fftw3_8hpp.html#ae37055f0823281ce47997ab6602bb607">STEM</a></div><div class="ttdeci">#define STEM</div><div class="ttdef"><b>Definition:</b> <a href="stemtypes__fftw3_8hpp_source.html#l00041">stemtypes_fftw3.hpp:41</a></div></div>
<div class="ttc" id="qstem_8m_html_aa69b855535fb9f147c5d81cf768d60ba"><div class="ttname"><a href="qstem_8m.html#aa69b855535fb9f147c5d81cf768d60ba">delimiter</a></div><div class="ttdeci">return end s delimiter</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00178">qstem.m:178</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_aabbdf768a12d7ff279a05a15db19fa61"><div class="ttname"><a href="convert2cfg_8m.html#aabbdf768a12d7ff279a05a15db19fa61">length</a></div><div class="ttdeci">end if length(sv) &gt; 1</div></div>
<div class="ttc" id="aberrations_8m_html_aca46b83ec8f21353a4ff43eb667cd2b6"><div class="ttname"><a href="aberrations_8m.html#aca46b83ec8f21353a4ff43eb667cd2b6">params</a></div><div class="ttdeci">handles params</div><div class="ttdef"><b>Definition:</b> <a href="aberrations_8m_source.html#l00062">aberrations.m:62</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_a9717e7bbecb906637e86cef6da3d83c2"><div class="ttname"><a href="convert2cfg_8m.html#a9717e7bbecb906637e86cef6da3d83c2">return</a></div><div class="ttdeci">if return</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00005">convert2cfg.m:5</a></div></div>
<div class="ttc" id="binwrite2_d_8m_html_af50f21d9ce17d934229f60fd58b3fac0"><div class="ttname"><a href="binwrite2_d_8m.html#af50f21d9ce17d934229f60fd58b3fac0">dx</a></div><div class="ttdeci">function dx</div><div class="ttdef"><b>Definition:</b> <a href="binwrite2_d_8m_source.html#l00005">binwrite2D.m:5</a></div></div>
<div class="ttc" id="sim_image_from_wave_8m_html_a656d5e61939acabefd422775c5d110f1"><div class="ttname"><a href="sim_image_from_wave_8m.html#a656d5e61939acabefd422775c5d110f1">defocus</a></div><div class="ttdeci">basis of defocus(Scherzer) defStep</div></div>
<div class="ttc" id="qstem_8m_html_aef0523293d85d8c1f99022d66a6755fe"><div class="ttname"><a href="qstem_8m.html#aef0523293d85d8c1f99022d66a6755fe">H</a></div><div class="ttdeci">function by creates a new QSTEM or raises the existing singleton * H</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00006">qstem.m:6</a></div></div>
<div class="ttc" id="_display_model_properties_8m_html_aa3e85bcc21f31fb262e8662d5e2a8764"><div class="ttname"><a href="_display_model_properties_8m.html#aa3e85bcc21f31fb262e8662d5e2a8764">Value</a></div><div class="ttdeci">end Determine what the user wants to Value</div><div class="ttdef"><b>Definition:</b> <a href="_display_model_properties_8m_source.html#l00268">DisplayModelProperties.m:268</a></div></div>
<div class="ttc" id="qstem_8m_html_a7e60f115aa4f4f91014f3d5d97f89369"><div class="ttname"><a href="qstem_8m.html#a7e60f115aa4f4f91014f3d5d97f89369">set</a></div><div class="ttdeci">set(gcf,'Name','qstem V2.3')</div></div>
<div class="ttc" id="qstem_8m_html_a294329680de5531cf5c925c1003a5ec8"><div class="ttname"><a href="qstem_8m.html#a294329680de5531cf5c925c1003a5ec8">pValues</a></div><div class="ttdeci">pValues</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00181">qstem.m:181</a></div></div>
<div class="ttc" id="_display_model_properties_8m_html_afeaa7ecdd726aa1950ba61dc659eb561"><div class="ttname"><a href="_display_model_properties_8m.html#afeaa7ecdd726aa1950ba61dc659eb561">equal</a></div><div class="ttdeci">axis equal</div><div class="ttdef"><b>Definition:</b> <a href="_display_model_properties_8m_source.html#l00310">DisplayModelProperties.m:310</a></div></div>
<div class="ttc" id="qstem_8m_html_a4601dee94a634bce7491d70448dbafb5"><div class="ttname"><a href="qstem_8m.html#a4601dee94a634bce7491d70448dbafb5">cla</a></div><div class="ttdeci">cla(handles.axes_model)</div></div>
<div class="ttc" id="read_c_f_g__qstem_8m_html_a552eedb796e4ec274fe617b434bf69b2"><div class="ttname"><a href="read_c_f_g__qstem_8m.html#a552eedb796e4ec274fe617b434bf69b2">box</a></div><div class="ttdeci">end box</div><div class="ttdef"><b>Definition:</b> <a href="read_c_f_g__qstem_8m_source.html#l00045">readCFG_qstem.m:45</a></div></div>
<div class="ttc" id="virtual_goniometer_8m_html_a828b8f8a58cd9813deb365aab404c850"><div class="ttname"><a href="virtual_goniometer_8m.html#a828b8f8a58cd9813deb365aab404c850">zone</a></div><div class="ttdeci">zone</div><div class="ttdef"><b>Definition:</b> <a href="virtual_goniometer_8m_source.html#l00302">virtualGoniometer.m:302</a></div></div>
<div class="ttc" id="qmb_8m_html_afbd1da50175d76040a2d09cbdda11151"><div class="ttname"><a href="qmb_8m.html#afbd1da50175d76040a2d09cbdda11151">edit_OffsetX_Callback</a></div><div class="ttdeci">end function edit_OffsetX_Callback(hObject, eventdata, handles)[handles</div></div>
<div class="ttc" id="convert2cfg_8m_html_abec65cbed63875da4a4ea5447e83b867"><div class="ttname"><a href="convert2cfg_8m.html#abec65cbed63875da4a4ea5447e83b867">col</a></div><div class="ttdeci">if ndim col</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00254">convert2cfg.m:254</a></div></div>
<div class="ttc" id="qstem_8m_html_a771570fcbf7eebdfa7d620704a8789a0"><div class="ttname"><a href="qstem_8m.html#a771570fcbf7eebdfa7d620704a8789a0">atomRadius</a></div><div class="ttdeci">handles atomRadius</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00078">qstem.m:78</a></div></div>
<div class="ttc" id="_read_d_m3___matlab_8m_html_a6ef5fcb21bae737d3cf018fa9185009b"><div class="ttname"><a href="_read_d_m3___matlab_8m.html#a6ef5fcb21bae737d3cf018fa9185009b">version</a></div><div class="ttdeci">read the whole file as bytes Pick up the header version</div><div class="ttdef"><b>Definition:</b> <a href="_read_d_m3___matlab_8m_source.html#l00072">ReadDM3_Matlab.m:72</a></div></div>
<div class="ttc" id="_display_model_properties_8m_html_ad2fefc6d13dcba7604d1dbe5835ccbe9"><div class="ttname"><a href="_display_model_properties_8m.html#ad2fefc6d13dcba7604d1dbe5835ccbe9">filled</a></div><div class="ttdeci">depending on the desired display handles filled</div><div class="ttdef"><b>Definition:</b> <a href="_display_model_properties_8m_source.html#l00309">DisplayModelProperties.m:309</a></div></div>
<div class="ttc" id="qstem_8m_html_ac43bc603dfb3c49e15db8ef3c46f4316"><div class="ttname"><a href="qstem_8m.html#ac43bc603dfb3c49e15db8ef3c46f4316">handles</a></div><div class="ttdeci">handles</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00070">qstem.m:70</a></div></div>
<div class="ttc" id="qmb_8m_html_a7a36eff2c94749d8f3212706d52f4090"><div class="ttname"><a href="qmb_8m.html#a7a36eff2c94749d8f3212706d52f4090">edit_OffsetY_Callback</a></div><div class="ttdeci">end function edit_OffsetY_Callback(hObject, eventdata, handles)[handles</div></div>
<div class="ttc" id="convert2cfg_8m_html_a7cec22fd326288e5df0dadf886d5d919"><div class="ttname"><a href="convert2cfg_8m.html#a7cec22fd326288e5df0dadf886d5d919">array</a></div><div class="ttdeci">end Get the dimensions of the input cell array[nrows, ncols]</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00259">convert2cfg.m:259</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_adaf2296b0af0af8d6d31aa11f288b107"><div class="ttname"><a href="convert2cfg_8m.html#adaf2296b0af0af8d6d31aa11f288b107">msgbox</a></div><div class="ttdeci">else msgbox(sprintf('Error creating cfg file%s.cfg', filename),'convert2cfg','modal')</div></div>
<div class="ttc" id="_display_model_properties_8m_html_add3fe7a65ad92a8dbbf453a00425c7c1"><div class="ttname"><a href="_display_model_properties_8m.html#add3fe7a65ad92a8dbbf453a00425c7c1">uiputfile</a></div><div class="ttdeci">'*.img', 'Save wave function as' uiputfile()</div></div>
<div class="ttc" id="stemtypes__fftw3_8hpp_html_a26fa01bb4b36ffed75910f878e99cadc"><div class="ttname"><a href="stemtypes__fftw3_8hpp.html#a26fa01bb4b36ffed75910f878e99cadc">CBED</a></div><div class="ttdeci">#define CBED</div><div class="ttdef"><b>Definition:</b> <a href="stemtypes__fftw3_8hpp_source.html#l00042">stemtypes_fftw3.hpp:42</a></div></div>
<div class="ttc" id="qstem_8m_html_ae5457ac188407029525dae0d288f5060"><div class="ttname"><a href="qstem_8m.html#ae5457ac188407029525dae0d288f5060">modeNum</a></div><div class="ttdeci">see VARARGIN modeNum()</div></div>
<div class="ttc" id="image_sim_8m_html_accfa32fc89ba0b38e0504d8b8a0a6f54"><div class="ttname"><a href="image_sim_8m.html#accfa32fc89ba0b38e0504d8b8a0a6f54">requested</a></div><div class="ttdeci">end end resample the if requested</div><div class="ttdef"><b>Definition:</b> <a href="image_sim_8m_source.html#l01172">imageSim.m:1172</a></div></div>
<div class="ttc" id="qmb_8m_html_ada457d4f9e1a63fdf3ae9feed633d5a8"><div class="ttname"><a href="qmb_8m.html#ada457d4f9e1a63fdf3ae9feed633d5a8">refZone</a></div><div class="ttdeci">refZone</div><div class="ttdef"><b>Definition:</b> <a href="qmb_8m_source.html#l00813">qmb.m:813</a></div></div>
<div class="ttc" id="_display_model_properties_8m_html_ab15b62bce31d4d4d1314fd7533fce833"><div class="ttname"><a href="_display_model_properties_8m.html#ab15b62bce31d4d4d1314fd7533fce833">nm</a></div><div class="ttdeci">k2(1, 1)%Smoothen the 2D array The scaling should also relate the area of a single unit cell with that of the whole array the scale defines how many pixels are in nm</div><div class="ttdef"><b>Definition:</b> <a href="_display_model_properties_8m_source.html#l00466">DisplayModelProperties.m:466</a></div></div>
<div class="ttc" id="_displacement_params_8m_html_ac0005745f18f3ed5d3e2f7943e5243c4"><div class="ttname"><a href="_displacement_params_8m.html#ac0005745f18f3ed5d3e2f7943e5243c4">First</a></div><div class="ttdeci">First</div><div class="ttdef"><b>Definition:</b> <a href="_displacement_params_8m_source.html#l00060">DisplacementParams.m:60</a></div></div>
<div class="ttc" id="qstem_8m_html_a2627b1fe484f7e86e38deba8dabb27ed"><div class="ttname"><a href="qstem_8m.html#a2627b1fe484f7e86e38deba8dabb27ed">savePotential</a></div><div class="ttdeci">handles savePotential</div><div class="ttdef"><b>Definition:</b> <a href="qstem_8m_source.html#l00079">qstem.m:79</a></div></div>
<div class="ttc" id="convert2cfg_8m_html_a7f9b12e953d2678415a3d421f36ae4d6"><div class="ttname"><a href="convert2cfg_8m.html#a7f9b12e953d2678415a3d421f36ae4d6">nargin</a></div><div class="ttdeci">end end function if no dimension array is supplied Note that this function has only been tested on mixed cell arrays containing character strings and numeric values Documentation DFO Canada Creation Last Check to see if no input arguments were supplied If this is the stop execution and output an error message to the user if nargin</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00221">convert2cfg.m:221</a></div></div>
<div class="ttc" id="_displacement_params_8m_html_a02389a9bda512aa8f8a3345f4fa27f25"><div class="ttname"><a href="_displacement_params_8m.html#a02389a9bda512aa8f8a3345f4fa27f25">center</a></div><div class="ttdeci">end center</div><div class="ttdef"><b>Definition:</b> <a href="_displacement_params_8m_source.html#l00201">DisplacementParams.m:201</a></div></div>
<div class="ttc" id="aberrations_8m_html_a13b772b0ad4ed79d6b113f64b1d47c88"><div class="ttname"><a href="aberrations_8m.html#a13b772b0ad4ed79d6b113f64b1d47c88">str2num</a></div><div class="ttdeci">get(handles.edit_A5,'String' str2num()</div></div>
<div class="ttc" id="convert2cfg_8m_html_af2f323caad11c790b60b05a6916887c3"><div class="ttname"><a href="convert2cfg_8m.html#af2f323caad11c790b60b05a6916887c3">numlines</a></div><div class="ttdeci">numlines</div><div class="ttdef"><b>Definition:</b> <a href="convert2cfg_8m_source.html#l00070">convert2cfg.m:70</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_e82970921ac3c6c3e512b9c67e4ee58d.html">GUI_Matlab</a></li><li class="navelem"><a class="el" href="qstem_8m.html">qstem.m</a></li>
    <li class="footer">Generated on Fri Jul 4 2014 10:51:36 for qstem by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
